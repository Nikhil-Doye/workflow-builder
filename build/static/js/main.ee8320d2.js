/*! For license information please see main.ee8320d2.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var o,a={},s=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,o)&&!S.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:i,props:a,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,o,a,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+O(l,0):a,x(s)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),A(s,t,o,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var u=a+O(i=e[c],c);l+=A(i,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=A(i=i.value,t,o,u=a+O(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",function(e){return t.call(n,e,o++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},T={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:T,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>a(l,n))c<o&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,T(_);else{var t=r(u);null!==t&&I(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var a=h;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!A());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var i=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?f.callback=i:f===r(c)&&o(c),w(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&I(x,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,N=-1,C=5,O=-1;function A(){return!(t.unstable_now()-O<C)}function j(){if(null!==E){var e=t.unstable_now();O=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(j)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=j,k=function(){R.postMessage(null)}}else k=function(){v(j,0)};function T(e){E=e,S||(S=!0,k())}function I(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,T(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,I(x,a-s))):(e.sortIndex=i,n(c,e),m||p||(m=!0,T(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},284:e=>{var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(n,r){function o(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function i(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,a,s,c;if(i(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"===typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function o(a){r.once&&e.removeEventListener(t,o),n(a)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,a=this._events;if(void 0!==a)o=o&&void 0===a.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var l=a[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return i(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,a,s;if(i(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(o=a[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},330:(e,t,n)=>{var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,s=r.useEffect,i=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return i(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),s(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{e.exports=n(717)},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},717:(e,t,n)=>{var r=n(43),o=n(461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useSyncExternalStore,i=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=i(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return i=t}return i=e}if(t=i,a(s,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(s=e,t):(s=e,i=n)}var s,i,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var h=s(e,d[0],d[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),u(h),h}},730:(e,t,n)=>{var r=n(43),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,D=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(fi){var t=fi.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(li){var r=li}Reflect.construct(e,[],t)}else{try{t.call()}catch(li){r=li}e.call(t.prototype)}else{try{throw Error()}catch(li){r=li}e()}}catch(li){if(li&&r&&"string"===typeof li.stack){for(var o=li.stack.split("\n"),a=r.stack.split("\n"),s=o.length-1,i=a.length-1;1<=s&&0<=i&&o[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==a[i]){if(1!==s||1!==i)do{if(s--,0>--i||o[s]!==a[i]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(fi){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function G(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,ke=null;function Se(e){if(e=bo(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ne(){if(_e){var e=_e,t=ke;if(ke=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==ke)&&(Oe(),Ne())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(u)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ci){Re=!1}function Ie(e,t,n,r,o,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,De=!1,ze=null,Fe={onError:function(e){Me=!0,Le=e}};function Ue(e,t,n,r,o,a,s,i,l){Me=!1,Le=null,Ie.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return He(o),e;if(s===r)return He(o),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ze=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,$e=o.unstable_requestPaint,Ye=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,Ge=o.unstable_UserBlockingPriority,et=o.unstable_NormalPriority,tt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/it|0)|0},st=Math.log,it=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~o;0!==i?r=ut(i):0!==(a&=s)&&(r=ut(a))}else 0!==(s=n&~o)?r=ut(s):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,kt,St,Et=!1,Nt=[],Ct=null,Ot=null,At=null,jt=new Map,Pt=new Map,Rt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=yo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Dt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Ct&&Dt(Ct)&&(Ct=null),null!==Ot&&Dt(Ot)&&(Ot=null),null!==At&&Dt(At)&&(At=null),jt.forEach(zt),Pt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Nt.length){Ut(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Ot&&Ut(Ot,e),null!==At&&Ut(At,e),jt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var o=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Zt(e,t,n,r)}finally{yt=o,Wt.transition=a}}function Vt(e,t,n,r){var o=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Zt(e,t,n,r)}finally{yt=o,Wt.transition=a}}function Zt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,Kt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,o),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,o),!0;case"mouseover":return At=Mt(At,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return jt.set(a,Mt(jt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==o;){var a=bo(o);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Hr(e,t,r,Kt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=yo(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case Ge:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Qt=null;function Gt(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[a-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,o,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,an,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=D({},ln,{view:0,detail:0}),dn=rn(un),fn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=rn(fn),pn=rn(D({},fn,{dataTransfer:0})),mn=rn(D({},un,{relatedTarget:0})),gn=rn(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(D({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return kn}var En=D({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=rn(En),Cn=rn(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=rn(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=rn(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(jn),Rn=[9,13,27,32],Tn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Mn=u&&"TextEvent"in window&&!In,Ln=u&&(!Tn||In&&8<In&&11>=In),Dn=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Vr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Zn=null;function Kn(e){Dr(e,0)}function Xn(e){if(K(wo(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Qn="function"===typeof Gn.oninput}Jn=Qn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Vn&&(Vn.detachEvent("onpropertychange",tr),Zn=Vn=null)}function tr(e){if("value"===e.propertyName&&Xn(Zn)){var t=[];qn(t,Zn,e,we(e)),je(Kn,t)}}function nr(e,t,n){"focusin"===e?(er(),Zn=n,(Vn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Zn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(gi){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=cr(n,a);var s=cr(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ir(vr,r)||(vr=r,0<(r=Vr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Nr=Sr("animationiteration"),Cr=Sr("animationstart"),Or=Sr("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<jr.length;Rr++){var Tr=jr[Rr];Pr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,i,l,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=Le;Me=!1,Le=null,De||(De=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&o.isPropagationStopped())break e;Lr(o,i,c),a=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,c=i.currentTarget,i=i.listener,l!==a&&o.isPropagationStopped())break e;Lr(o,i,c),a=l}}}if(De)throw e=ze,De=!1,ze=null,e}function zr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var o=qt;break;case 4:o=Vt;break;default:o=Zt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==i;){if(null===(s=yo(i)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}i=i.parentNode}}r=r.return}je(function(){var r=a,o=we(n),s=[];e:{var i=Ar.get(e);if(void 0!==i){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Er:case Nr:case Cr:l=gn;break;case Or:l=An;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==i?i+"Capture":null:i;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Pe(p,f))&&u.push(qr(p,m,h)))),d)break;p=p.return}0<u.length&&(i=new l(i,c,null,n,o),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yo(c)&&!c[po])&&(l||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yo(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?i:wo(l),h=null==c?i:wo(c),(i=new u(m,p+"leave",l,n,o)).target=d,i.relatedTarget=h,m=null,yo(o)===r&&((u=new u(f,p+"enter",c,n,o)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Zr(h))p++;for(h=0,m=f;m;m=Zr(m))h++;for(;0<p-h;)u=Zr(u),p--;for(;0<h-p;)f=Zr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Zr(u),f=Zr(f)}u=null}else u=null;null!==l&&Kr(s,i,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(i=r?wo(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=$n;else if(Hn(i))if(Yn)g=ar;else{g=rr;var v=nr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,o):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=r?wo(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,o);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,o)}var y;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=Gt()):(Jt="value"in(Yt=o)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Vr(r,b)).length&&(b=new bn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Dn);case"textInput":return(e=t.data)===Dn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Tn&&Fn(e,t)?(e=Gt(),Qt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Dr(s,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,o)),null!=(a=Pe(e,t))&&r.push(qr(e,a,o))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var a=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,o?null!=(l=Pe(n,a))&&s.unshift(qr(n,l,i)):o||null!=(l=Pe(n,a))&&s.push(qr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Qr(){}var Gr=null,eo=null;function to(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,ro="function"===typeof clearTimeout?clearTimeout:void 0,oo="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oo?function(e){return oo.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout(function(){throw e})}function io(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),fo="__reactFiber$"+uo,ho="__reactProps$"+uo,po="__reactContainer$"+uo,mo="__reactEvents$"+uo,go="__reactListeners$"+uo,vo="__reactHandles$"+uo;function yo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[po]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[fo])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[fo]||e[po])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xo(e){return e[ho]||null}var _o=[],ko=-1;function So(e){return{current:e}}function Eo(e){0>ko||(e.current=_o[ko],_o[ko]=null,ko--)}function No(e,t){ko++,_o[ko]=e.current,e.current=t}var Co={},Oo=So(Co),Ao=So(!1),jo=Co;function Po(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function To(){Eo(Ao),Eo(Oo)}function Io(e,t,n){if(Oo.current!==Co)throw Error(a(168));No(Oo,t),No(Ao,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,H(e)||"Unknown",o));return D({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,jo=Oo.current,No(Oo,e),No(Ao,Ao.current),!0}function Do(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mo(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,Eo(Ao),Eo(Oo),No(Oo,e)):Eo(Ao),No(Ao,n)}var zo=null,Fo=!1,Uo=!1;function Bo(e){null===zo?zo=[e]:zo.push(e)}function Wo(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=yt;try{var n=zo;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Fo=!1}catch(si){throw null!==zo&&(zo=zo.slice(e+1)),Ze(Qe,Wo),si}finally{yt=t,Uo=!1}}return null}var Ho=[],qo=0,Vo=null,Zo=0,Ko=[],Xo=0,$o=null,Yo=1,Jo="";function Qo(e,t){Ho[qo++]=Zo,Ho[qo++]=Vo,Vo=e,Zo=t}function Go(e,t,n){Ko[Xo++]=Yo,Ko[Xo++]=Jo,Ko[Xo++]=$o,$o=e;var r=Yo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var a=32-at(t)+o;if(30<a){var s=o-o%5;a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Yo=1<<32-at(t)+o|n<<o|r,Jo=a+e}else Yo=1<<a|n<<o|r,Jo=e}function ea(e){null!==e.return&&(Qo(e,1),Go(e,1,0))}function ta(e){for(;e===Vo;)Vo=Ho[--qo],Ho[qo]=null,Zo=Ho[--qo],Ho[qo]=null;for(;e===$o;)$o=Ko[--Xo],Ko[Xo]=null,Jo=Ko[--Xo],Ko[Xo]=null,Yo=Ko[--Xo],Ko[Xo]=null}var na=null,ra=null,oa=!1,aa=null;function sa(e,t){var n=Uc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$o?{id:Yo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Uc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(oa){var t=ra;if(t){var n=t;if(!ia(e,t)){if(la(e))throw Error(a(418));t=lo(n.nextSibling);var r=na;t&&ia(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,oa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,oa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!oa)return ua(e),oa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!to(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)sa(e,t),t=lo(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?lo(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=lo(e.nextSibling)}function ha(){ra=na=null,oa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Wc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Zc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ya(a)===t.type)?((r=o(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=qc(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case _:return(t=Kc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=qc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case _:return n.key===o?u(e,t,n,r):null;case R:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,o,null);va(t,r)}return null}function m(o,a,i,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(o,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===i.length)return n(o,d),oa&&Qo(o,m),c;if(null===d){for(;m<i.length;m++)null!==(d=f(o,i[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return oa&&Qo(o,m),c}for(d=r(o,d);m<i.length;m++)null!==(g=p(d,o,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),oa&&Qo(o,m),c}function g(o,i,l,c){var u=M(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),oa&&Qo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(o,y.value,c))&&(i=s(y,i,g),null===d?u=y:d.sibling=y,d=y);return oa&&Qo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=s(y,i,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),oa&&Qo(o,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(a=o(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ya(c)===u.type){n(r,u.sibling),(a=o(u,s.props)).ref=ga(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((a=qc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Hc(s.type,s.key,s.props,null,r.mode,l)).ref=ga(r,a,s),l.return=r,r=l)}return i(r);case _:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=o(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Kc(s,r.mode,l)).return=r,r=a}return i(r);case R:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(M(s))return g(r,a,s,l);va(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,s)).return=r,r=a):(n(r,a),(a=Zc(s,r.mode,l)).return=r,r=a),i(r)):n(r,a)}}var wa=ba(!0),xa=ba(!1),_a=So(null),ka=null,Sa=null,Ea=null;function Na(){Ea=Sa=ka=null}function Ca(e){var t=_a.current;Eo(_a),e._currentValue=t}function Oa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){ka=e,Ea=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ni=!0),e.firstContext=null)}function ja(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===ka)throw Error(a(308));Sa=e,ka.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Pa=null;function Ra(e){null===Pa?Pa=[e]:Pa.push(e)}function Ta(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ra(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ia(e,n)}return null===(o=r.interleaved)?(t.next=t,Ra(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ia(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wa(e,t,n,r){var o=e.updateQueue;Ma=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(s=0,u=c=l=null,i=a;;){var f=i.lane,h=i.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=D({},d,f);break e;case 2:Ma=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[i]:f.push(i))}else h={eventTime:h,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=f;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(f=i).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Vl|=s,e.lanes=s,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var qa={},Va=So(qa),Za=So(qa),Ka=So(qa);function Xa(e){if(e===qa)throw Error(a(174));return e}function $a(e,t){switch(No(Ka,t),No(Za,e),No(Va,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Va),No(Va,t)}function Ya(){Eo(Va),Eo(Za),Eo(Ka)}function Ja(e){Xa(Ka.current);var t=Xa(Va.current),n=le(t,e.type);t!==n&&(No(Za,e),No(Va,n))}function Qa(e){Za.current===e&&(Eo(Va),Eo(Za))}var Ga=So(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,as=0,ss=null,is=null,ls=null,cs=!1,us=!1,ds=0,fs=0;function hs(){throw Error(a(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,o,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Qs:Gs,e=n(r,o),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=is=null,t.updateQueue=null,rs.current=ei,e=n(r,o)}while(us)}if(rs.current=Js,t=null!==is&&null!==is.next,as=0,ls=is=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===is){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=is.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,is=e;else{if(null===e)throw Error(a(310));e={memoizedState:(is=e).memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=is,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,i=r):c=c.next=f,ss.lanes|=d,Vl|=d}u=u.next}while(null!==u&&u!==s);null===c?i=r:c.next=l,sr(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,ss.lanes|=s,Vl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{s=e(s,i.action),i=i.next}while(i!==o);sr(s,t.memoizedState)||(Ni=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function ks(e,t){var n=ss,r=ys(),o=t(),s=!sr(r.memoizedState,o);if(s&&(r.memoizedState=o,Ni=!0),r=r.queue,Ms(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,js(9,Es.bind(null,n,r,o,t),void 0,null),null===zl)throw Error(a(349));0!==(30&as)||Ss(n,t,o)}return o}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&Os(e)}function Ns(e,t,n){return n(function(){Cs(t)&&Os(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(gi){return!0}}function Os(e){var t=Ia(e,1);null!==t&&dc(t,e,1,-1)}function As(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return ys().memoizedState}function Rs(e,t,n,r){var o=vs();ss.flags|=e,o.memoizedState=js(1|t,n,void 0,void 0===r?null:r)}function Ts(e,t,n,r){var o=ys();r=void 0===r?null:r;var a=void 0;if(null!==is){var s=is.memoizedState;if(a=s.destroy,null!==r&&ps(r,s.deps))return void(o.memoizedState=js(t,n,a,r))}ss.flags|=e,o.memoizedState=js(1|t,n,a,r)}function Is(e,t){return Rs(8390656,8,e,t)}function Ms(e,t){return Ts(2048,8,e,t)}function Ls(e,t){return Ts(4,2,e,t)}function Ds(e,t){return Ts(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ts(4,4,zs.bind(null,t,e),n)}function Us(){}function Bs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,Ni=!0),e.memoizedState=n):(sr(n,t)||(n=pt(),ss.lanes|=n,Vl|=n,e.baseState=!0),t)}function qs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function Vs(){return ys().memoizedState}function Zs(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))$s(t,n);else if(null!==(n=Ta(e,t,n,r))){dc(n,e,r,cc()),Ys(n,t,r)}}function Ks(e,t,n){var r=uc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))$s(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=a(s,n);if(o.hasEagerState=!0,o.eagerState=i,sr(i,s)){var l=t.interleaved;return null===l?(o.next=o,Ra(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(li){}null!==(n=Ta(e,t,o,r))&&(dc(n,e,r,o=cc()),Ys(n,t,r))}}function Xs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function $s(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Js={readContext:ja,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Qs={readContext:ja,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:ja,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:As,useDebugValue:Us,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=qs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,o=vs();if(oa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===zl)throw Error(a(349));0!==(30&as)||Ss(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Is(Ns.bind(null,r,s,e),[e]),r.flags|=2048,js(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=zl.identifierPrefix;if(oa){var n=Jo;t=":"+t+"R"+(n=(Yo&~(1<<32-at(Yo)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gs={readContext:ja,useCallback:Bs,useContext:ja,useEffect:Ms,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Ds,useMemo:Ws,useReducer:ws,useRef:Ps,useState:function(){return ws(bs)},useDebugValue:Us,useDeferredValue:function(e){return Hs(ys(),is.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:Vs,unstable_isNewReconciler:!1},ei={readContext:ja,useCallback:Bs,useContext:ja,useEffect:Ms,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Ds,useMemo:Ws,useReducer:xs,useRef:Ps,useState:function(){return xs(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=ys();return null===is?t.memoizedState=e:Hs(t,is.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:Vs,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),o=uc(e),a=za(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,o))&&(dc(t,e,o,r),Ua(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),o=uc(e),a=za(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,o))&&(dc(t,e,o,r),Ua(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),o=za(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fa(e,o,r))&&(dc(t,e,r,n),Ua(t,e,r))}};function oi(e,t,n,r,o,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(o,a))}function ai(e,t,n){var r=!1,o=Co,a=t.contextType;return"object"===typeof a&&null!==a?a=ja(a):(o=Ro(t)?jo:Oo.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):Co),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ui(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function di(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=ja(a):(a=Ro(t)?jo:Oo.current,o.context=Po(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ni(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ri.enqueueReplaceState(o,o.state,null),Wa(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function hi(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(vi){o="\nError generating stack: "+vi.message+"\n"+vi.stack}return{value:e,source:t,stack:o,digest:null}}function pi(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mi(e,t){try{console.error(t.value)}catch(fi){setTimeout(function(){throw fi})}}var yi="function"===typeof WeakMap?WeakMap:Map;function wi(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ec=r),mi(0,t)},n}function xi(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){mi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){mi(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function _i(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new yi;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Si(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Ei=w.ReactCurrentOwner,Ni=!1;function Ci(e,t,n,r){t.child=null===e?xa(t,null,n,r):wa(t,e.child,n,r)}function Oi(e,t,n,r,o){n=n.render;var a=t.ref;return Aa(t,o),r=ms(e,t,n,r,a,o),n=gs(),null===e||Ni?(oa&&n&&ea(t),t.flags|=1,Ci(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Qi(e,t,o))}function Ai(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,o))}if(a=e.child,0===(e.lanes&o)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(s,r)&&e.ref===t.ref)return Qi(e,t,o)}return t.flags|=1,(e=Wc(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(Ni=!1,t.pendingProps=r=a,0===(e.lanes&o))return t.lanes=e.lanes,Qi(e,t,o);0!==(131072&e.flags)&&(Ni=!0)}}return Ti(e,t,n,r,o)}function Pi(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(Wl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,No(Wl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,No(Wl,Bl),Bl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,No(Wl,Bl),Bl|=r;return Ci(e,t,o,n),t.child}function Ri(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ti(e,t,n,r,o){var a=Ro(n)?jo:Oo.current;return a=Po(t,a),Aa(t,o),n=ms(e,t,n,r,a,o),r=gs(),null===e||Ni?(oa&&r&&ea(t),t.flags|=1,Ci(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Qi(e,t,o))}function Ii(e,t,n,r,o){if(Ro(n)){var a=!0;Lo(t)}else a=!1;if(Aa(t,o),null===t.stateNode)Ji(e,t),ai(t,n,r),di(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=ja(c):c=Po(t,c=Ro(n)?jo:Oo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==c)&&ui(t,s,r,c),Ma=!1;var f=t.memoizedState;s.state=f,Wa(t,r,s,o),l=t.memoizedState,i!==r||f!==l||Ao.current||Ma?("function"===typeof u&&(ni(t,n,u,r),l=t.memoizedState),(i=Ma||oi(t,n,i,r,f,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Da(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=ja(l):l=Po(t,l=Ro(n)?jo:Oo.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||f!==l)&&ui(t,s,r,l),Ma=!1,f=t.memoizedState,s.state=f,Wa(t,r,s,o);var p=t.memoizedState;i!==d||f!==p||Ao.current||Ma?("function"===typeof h&&(ni(t,n,h,r),p=t.memoizedState),(c=Ma||oi(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Mi(e,t,n,r,a,o)}function Mi(e,t,n,r,o,a){Ri(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Do(t,n,!1),Qi(e,t,a);r=t.stateNode,Ei.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,i,a)):Ci(e,t,i,a),t.memoizedState=r.state,o&&Do(t,n,!0),t.child}function Li(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),$a(e,t.containerInfo)}function Di(e,t,n,r,o){return ha(),pa(o),t.flags|=256,Ci(e,t,n,r),t.child}var zi,Fi,Bi,Wi,Hi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vi(e,t,n){var r,o=t.pendingProps,s=Ga.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),No(Ga,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Vc(l,o,0,null),e=qc(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qi(n),t.memoizedState=Hi,e):Zi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,i){if(n)return 256&t.flags?(t.flags&=-257,Ki(e,t,i,r=pi(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Vc({mode:"visible",children:r.children},o,0,null),(s=qc(s,o,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,i),t.child.memoizedState=qi(i),t.memoizedState=Hi,s);if(0===(1&t.mode))return Ki(e,t,i,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ki(e,t,i,r=pi(s=Error(a(419)),r,void 0))}if(l=0!==(i&e.childLanes),Ni||l){if(null!==(r=zl)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|i))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Ia(e,o),dc(r,e,o,-1))}return Sc(),Ki(e,t,i,r=pi(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,ra=lo(o.nextSibling),na=t,oa=!0,aa=null,null!==e&&(Ko[Xo++]=Yo,Ko[Xo++]=Jo,Ko[Xo++]=$o,Yo=e.id,Jo=e.overflow,$o=t),t=Zi(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(i){i=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Wc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Wc(r,i):(i=qc(i,l,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=null===(l=e.child.memoizedState)?qi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Hi,o}return e=(i=e.child).sibling,o=Wc(i,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Zi(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){return null!==r&&pa(r),wa(t,e.child,null,n),(e=Zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oa(e.return,t,n)}function $i(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Yi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ci(e,t,r.children,n),0!==(2&(r=Ga.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xi(e,n,t);else if(19===e.tag)Xi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(No(Ga,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$i(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===es(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$i(t,!0,n,null,a);break;case"together":$i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ji(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gi(e,t){if(!oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function el(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tl(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return el(t),null;case 1:case 17:return Ro(t.type)&&To(),el(t),null;case 3:return r=t.stateNode,Ya(),Eo(Ao),Eo(Oo),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(mc(aa),aa=null))),Fi(e,t),el(t),null;case 5:Qa(t);var o=Xa(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Bi(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return el(t),null}if(e=Xa(Va.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fo]=t,r[ho]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)zr(Ir[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Z(r),G(r,s,!0);break;case"textarea":Z(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[ho]=r,zi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)zr(Ir[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Y(e,r),o=$(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ve(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":Z(e),G(e,r,!1);break;case"textarea":Z(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return el(t),null;case 6:if(e&&null!=t.stateNode)Wi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ka.current),Xa(Va.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return el(t),null;case 13:if(Eo(Ga),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[fo]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;el(t),s=!1}else null!==aa&&(mc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ga.current)?0===Hl&&(Hl=3):Sc())),null!==t.updateQueue&&(t.flags|=4),el(t),null);case 4:return Ya(),Fi(e,t),null===e&&Br(t.stateNode.containerInfo),el(t),null;case 10:return Ca(t.type._context),el(t),null;case 19:if(Eo(Ga),null===(s=t.memoizedState))return el(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Gi(s,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Gi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return No(Ga,1&Ga.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Jl&&(t.flags|=128,r=!0,Gi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!oa)return el(t),null}else 2*Ye()-s.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,Gi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=Ga.current,No(Ga,r?1&n|2:1&n),t):(el(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(el(t),6&t.subtreeFlags&&(t.flags|=8192)):el(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function nl(e,t){switch(ta(t),t.tag){case 1:return Ro(t.type)&&To(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Eo(Ao),Eo(Oo),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(Eo(Ga),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(Ga),null;case 4:return Ya(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fi=function(){},Bi=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xa(Va.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Wi=function(e,t,n,r){n!==r&&(t.flags|=4)};var ol=!1,al=!1,sl="function"===typeof WeakSet?WeakSet:Set,il=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(gi){Tc(e,t,gi)}else n.current=null}function cl(e,t,n){try{n()}catch(gi){Tc(e,t,gi)}}var ul=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&cl(t,n,a)}o=o.next}while(o!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[ho],delete t[mo],delete t[go],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var bl=null,wl=!1;function xl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(bi){}switch(n.tag){case 5:al||ll(n,t);case 6:var r=bl,o=wl;bl=null,xl(e,t,n),wl=o,null!==(bl=r)&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?io(e.parentNode,n):1===e.nodeType&&io(e,n),Bt(e)):io(bl,n.stateNode));break;case 4:r=bl,o=wl,bl=n.stateNode.containerInfo,wl=!0,xl(e,t,n),bl=r,wl=o;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&cl(n,t,s),o=o.next}while(o!==r)}xl(e,t,n);break;case 1:if(!al&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(bi){Tc(n,t,bi)}xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:1&n.mode?(al=(r=al)||null!==n.memoizedState,xl(e,t,n),al=r):xl(e,t,n);break;default:xl(e,t,n)}}function kl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sl),t.forEach(function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Sl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,wl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===bl)throw Error(a(160));_l(s,i,o),bl=null,wl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(li){Tc(o,t,li)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)El(t,e),t=t.sibling}function El(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sl(t,e),Nl(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(ii){Tc(e,e.return,ii)}try{dl(5,e,e.return)}catch(ii){Tc(e,e.return,ii)}}break;case 1:Sl(t,e),Nl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(Sl(t,e),Nl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(ii){Tc(e,e.return,ii)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(o,s),ye(l,i);var u=ye(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];"style"===d?me(o,f):"dangerouslySetInnerHTML"===d?ue(o,f):"children"===d?de(o,f):b(o,d,f,u)}switch(l){case"input":Q(o,s);break;case"textarea":ae(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[ho]=s}catch(ii){Tc(e,e.return,ii)}}break;case 6:if(Sl(t,e),Nl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(ii){Tc(e,e.return,ii)}}break;case 3:if(Sl(t,e),Nl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(ii){Tc(e,e.return,ii)}break;case 4:default:Sl(t,e),Nl(e);break;case 13:Sl(t,e),Nl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Yl=Ye())),4&r&&kl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(al=(u=al)||d,Sl(t,e),al=u):Sl(t,e),Nl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(il=e,d=e.child;null!==d;){for(f=il=d;null!==il;){switch(p=(h=il).child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:ll(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(ii){Tc(r,n,ii)}}break;case 5:ll(h,h.return);break;case 22:if(null!==h.memoizedState){jl(f);continue}}null!==p?(p.return=h,il=p):jl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,i=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(ii){Tc(e,e.return,ii)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(ii){Tc(e,e.return,ii)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sl(t,e),Nl(e),4&r&&kl(e);case 21:}}function Nl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),yl(e,gl(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;vl(e,gl(e),s);break;default:throw Error(a(161))}}catch(Ui){Tc(e,e.return,Ui)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,n){il=e,Ol(e,t,n)}function Ol(e,t,n){for(var r=0!==(1&e.mode);null!==il;){var o=il,a=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||ol;if(!s){var i=o.alternate,l=null!==i&&null!==i.memoizedState||al;i=ol;var c=al;if(ol=s,(al=l)&&!c)for(il=o;null!==il;)l=(s=il).child,22===s.tag&&null!==s.memoizedState?Pl(o):null!==l?(l.return=s,il=l):Pl(o);for(;null!==a;)il=a,Ol(a,t,n),a=a.sibling;il=o,ol=i,al=c}Al(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,il=a):Al(e)}}function Al(e){for(;null!==il;){var t=il;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:al||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ha(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}al||512&t.flags&&hl(t)}catch(h){Tc(t,t.return,h)}}if(t===e){il=null;break}if(null!==(n=t.sibling)){n.return=t.return,il=n;break}il=t.return}}function jl(e){for(;null!==il;){var t=il;if(t===e){il=null;break}var n=t.sibling;if(null!==n){n.return=t.return,il=n;break}il=t.return}}function Pl(e){for(;null!==il;){var t=il;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(Ui){Tc(t,n,Ui)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(Ui){Tc(t,o,Ui)}}var a=t.return;try{hl(t)}catch(Ui){Tc(t,a,Ui)}break;case 5:var s=t.return;try{hl(t)}catch(Ui){Tc(t,s,Ui)}}}catch(Ui){Tc(t,t.return,Ui)}if(t===e){il=null;break}var i=t.sibling;if(null!==i){i.return=t.return,il=i;break}il=t.return}}var Rl,Tl=Math.ceil,Il=w.ReactCurrentDispatcher,Ml=w.ReactCurrentOwner,Ll=w.ReactCurrentBatchConfig,Dl=0,zl=null,Fl=null,Ul=0,Bl=0,Wl=So(0),Hl=0,ql=null,Vl=0,Zl=0,Kl=0,Xl=null,$l=null,Yl=0,Jl=1/0,Ql=null,Gl=!1,ec=null,tc=null,nc=!1,rc=null,oc=0,ac=0,sc=null,ic=-1,lc=0;function cc(){return 0!==(6&Dl)?Ye():-1!==ic?ic:ic=Ye()}function uc(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Ul?Ul&-Ul:null!==ma.transition?(0===lc&&(lc=pt()),lc):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function dc(e,t,n,r){if(50<ac)throw ac=0,sc=null,Error(a(185));gt(e,n,r),0!==(2&Dl)&&e===zl||(e===zl&&(0===(2&Dl)&&(Zl|=n),4===Hl&&gc(e,Ul)),fc(e,r),1===n&&0===Dl&&0===(1&t.mode)&&(Jl=Ye()+500,Fo&&Wo()))}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-at(a),i=1<<s,l=o[s];-1===l?0!==(i&n)&&0===(i&r)||(o[s]=ft(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=dt(e,e===zl?Ul:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fo=!0,Bo(e)}(vc.bind(null,e)):Bo(vc.bind(null,e)),ao(function(){0===(6&Dl)&&Wo()}),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=Ge;break;case 16:default:n=et;break;case 536870912:n=nt}n=zc(n,hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hc(e,t){if(ic=-1,lc=0,0!==(6&Dl))throw Error(a(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=dt(e,e===zl?Ul:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ec(e,r);else{t=r;var o=Dl;Dl|=2;var s=kc();for(zl===e&&Ul===t||(Ql=null,Jl=Ye()+500,xc(e,t));;)try{Cc();break}catch(bi){_c(e,bi)}Na(),Il.current=s,Dl=o,null!==Fl?t=0:(zl=null,Ul=0,t=Hl)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=pc(e,o))),1===t)throw n=ql,xc(e,0),gc(e,r),fc(e,Ye()),n;if(6===t)gc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=Ec(e,r))&&(0!==(s=ht(e))&&(r=s,t=pc(e,s))),1===t))throw n=ql,xc(e,0),gc(e,r),fc(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,$l,Ql);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Yl+500-Ye())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(jc.bind(null,e,$l,Ql),t);break}jc(e,$l,Ql);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-at(r);s=1<<i,(i=t[i])>o&&(o=i),r&=~s}if(r=o,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=no(jc.bind(null,e,$l,Ql),r);break}jc(e,$l,Ql);break;default:throw Error(a(329))}}}return fc(e,Ye()),e.callbackNode===n?hc.bind(null,e):null}function pc(e,t){var n=Xl;return e.current.memoizedState.isDehydrated&&(xc(e,t).flags|=256),2!==(e=Ec(e,t))&&(t=$l,$l=n,null!==t&&mc(t)),e}function mc(e){null===$l?$l=e:$l.push.apply($l,e)}function gc(e,t){for(t&=~Kl,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&Dl))throw Error(a(327));Pc();var t=dt(e,0);if(0===(1&t))return fc(e,Ye()),null;var n=Ec(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=ql,xc(e,0),gc(e,t),fc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,$l,Ql),fc(e,Ye()),null}function yc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&(Jl=Ye()+500,Fo&&Wo())}}function bc(e){null!==rc&&0===rc.tag&&0===(6&Dl)&&Pc();var t=Dl;Dl|=1;var n=Ll.transition,r=yt;try{if(Ll.transition=null,yt=1,e)return e()}finally{yt=r,Ll.transition=n,0===(6&(Dl=t))&&Wo()}}function wc(){Bl=Wl.current,Eo(Wl)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ro(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&To();break;case 3:Ya(),Eo(Ao),Eo(Oo),ns();break;case 5:Qa(r);break;case 4:Ya();break;case 13:case 19:Eo(Ga);break;case 10:Ca(r.type._context);break;case 22:case 23:wc()}n=n.return}if(zl=e,Fl=e=Wc(e.current,null),Ul=Bl=t,Hl=0,ql=null,Kl=Zl=Vl=0,$l=Xl=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(r=(n=Pa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=o,r.next=s}n.pending=r}Pa=null}return e}function _c(e,t){for(;;){var n=Fl;try{if(Na(),rs.current=Js,cs){for(var r=ss.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}cs=!1}if(as=0,ls=is=ss=null,us=!1,ds=0,Ml.current=null,null===n||null===n.return){Hl=1,ql=t,Fl=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Ul,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ki(i);if(null!==p){p.flags&=-257,Si(p,i,l,0,t),1&p.mode&&_i(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){_i(s,u,t),Sc();break e}c=Error(a(426))}else if(oa&&1&l.mode){var v=ki(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Si(v,i,l,0,t),pa(hi(c,l));break e}}s=c=hi(c,l),4!==Hl&&(Hl=2),null===Xl?Xl=[s]:Xl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,wi(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===tc||!tc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,xi(s,l,t));break e}}s=s.return}while(null!==s)}Ac(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function kc(){var e=Il.current;return Il.current=Js,null===e?Js:e}function Sc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===zl||0===(268435455&Vl)&&0===(268435455&Zl)||gc(zl,Ul)}function Ec(e,t){var n=Dl;Dl|=2;var r=kc();for(zl===e&&Ul===t||(Ql=null,xc(e,t));;)try{Nc();break}catch(si){_c(e,si)}if(Na(),Dl=n,Il.current=r,null!==Fl)throw Error(a(261));return zl=null,Ul=0,Hl}function Nc(){for(;null!==Fl;)Oc(Fl)}function Cc(){for(;null!==Fl&&!Xe();)Oc(Fl)}function Oc(e){var t=Rl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Fl=t,Ml.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=tl(n,t,Bl)))return void(Fl=n)}else{if(null!==(n=nl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Hl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Hl&&(Hl=5)}function jc(e,t,n){var r=yt,o=Ll.transition;try{Ll.transition=null,yt=1,function(e,t,n,r){do{Pc()}while(null!==rc);if(0!==(6&Dl))throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,s),e===zl&&(Fl=zl=null,Ul=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,zc(et,function(){return Pc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ll.transition,Ll.transition=null;var i=yt;yt=1;var l=Dl;Dl|=4,Ml.current=null,function(e,t){if(Gr=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(rl){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(l=i+o),f!==s||0!==r&&3!==f.nodeType||(c=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===o&&(l=i),h===s&&++d===r&&(c=i),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(eo={focusedElem:e,selectionRange:n},Ht=!1,il=t;null!==il;)if(e=(t=il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,il=e;else for(;null!==il;){t=il;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ti(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(rl){Tc(t,t.return,rl)}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}m=ul,ul=!1}(e,n),El(n,e),hr(eo),Ht=!!Gr,eo=Gr=null,e.current=n,Cl(n,e,o),$e(),Dl=l,yt=i,Ll.transition=s}else e.current=n;if(nc&&(nc=!1,rc=e,oc=o),s=e.pendingLanes,0===s&&(tc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Gl)throw Gl=!1,e=ec,ec=null,e;0!==(1&oc)&&0!==e.tag&&Pc(),s=e.pendingLanes,0!==(1&s)?e===sc?ac++:(ac=0,sc=e):ac=0,Wo()}(e,t,n,r)}finally{Ll.transition=o,yt=r}return null}function Pc(){if(null!==rc){var e=bt(oc),t=Ll.transition,n=yt;try{if(Ll.transition=null,yt=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,oc=0,0!==(6&Dl))throw Error(a(331));var o=Dl;for(Dl|=4,il=e.current;null!==il;){var s=il,i=s.child;if(0!==(16&il.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(il=u;null!==il;){var d=il;switch(d.tag){case 0:case 11:case 15:dl(8,d,s)}var f=d.child;if(null!==f)f.return=d,il=f;else for(;null!==il;){var h=(d=il).sibling,p=d.return;if(pl(d),d===u){il=null;break}if(null!==h){h.return=p,il=h;break}il=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}il=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,il=i;else e:for(;null!==il;){if(0!==(2048&(s=il).flags))switch(s.tag){case 0:case 11:case 15:dl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,il=y;break e}il=s.return}}var b=e.current;for(il=b;null!==il;){var w=(i=il).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,il=w;else e:for(i=b;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(_){Tc(l,l.return,_)}if(l===i){il=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,il=x;break e}il=l.return}}if(Dl=o,Wo(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{yt=n,Ll.transition=t}}return!1}function Rc(e,t,n){e=Fa(e,t=wi(0,t=hi(n,t),1),1),t=cc(),null!==e&&(gt(e,1,t),fc(e,t))}function Tc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Fa(t,e=xi(t,e=hi(n,e),1),1),e=cc(),null!==t&&(gt(t,1,e),fc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,zl===e&&(Ul&n)===n&&(4===Hl||3===Hl&&(130023424&Ul)===Ul&&500>Ye()-Yl?xc(e,0):Kl|=n),fc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=cc();null!==(e=Ia(e,t))&&(gt(e,t,n),fc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Mc(e,n)}function zc(e,t){return Ze(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uc(e,t,n,r){return new Fc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wc(e,t){var n=e.alternate;return null===n?((n=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,o,s){var i=2;if(r=e,"function"===typeof e)Bc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return qc(n.children,o,s,t);case S:i=8,o|=8;break;case E:return(e=Uc(12,n,t,2|o)).elementType=E,e.lanes=s,e;case A:return(e=Uc(13,n,t,o)).elementType=A,e.lanes=s,e;case j:return(e=Uc(19,n,t,o)).elementType=j,e.lanes=s,e;case T:return Vc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case C:i=9;break e;case O:i=11;break e;case P:i=14;break e;case R:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Uc(i,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function qc(e,t,n,r){return(e=Uc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Uc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Zc(e,t,n){return(e=Uc(6,e,null,t)).lanes=n,e}function Kc(e,t,n){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,o,a,s,i,l){return e=new Xc(e,t,n,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Uc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Yc(e){if(!e)return Co;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Mo(e,n,t)}return t}function Jc(e,t,n,r,o,a,s,i,l){return(e=$c(n,r,!0,e,0,a,0,i,l)).context=Yc(null),n=e.current,(a=za(r=cc(),o=uc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,o),e.current.lanes=o,gt(e,o,r),fc(e,r),e}function Qc(e,t,n,r){var o=t.current,a=cc(),s=uc(o);return n=Yc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(o,t,s))&&(dc(e,o,s,a),Ua(e,o,s)),s}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)Ni=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:Li(t),ha();break;case 5:Ja(t);break;case 1:Ro(t.type)&&Lo(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;No(_a,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(No(Ga,1&Ga.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vi(e,t,n):(No(Ga,1&Ga.current),null!==(e=Qi(e,t,n))?e.sibling:null);No(Ga,1&Ga.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Yi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(Ga,Ga.current),r)break;return null;case 22:case 23:return t.lanes=0,Pi(e,t,n)}return Qi(e,t,n)}(e,t,n);Ni=0!==(131072&e.flags)}else Ni=!1,oa&&0!==(1048576&t.flags)&&Go(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ji(e,t),e=t.pendingProps;var o=Po(t,Oo.current);Aa(t,n),o=ms(null,t,r,e,o,n);var s=gs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,La(t),o.updater=ri,t.stateNode=o,o._reactInternals=t,di(t,r,e,n),t=Mi(null,t,r,!0,s,n)):(t.tag=0,oa&&s&&ea(t),Ci(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ji(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(r),e=ti(r,e),o){case 0:t=Ti(null,t,r,e,n);break e;case 1:t=Ii(null,t,r,e,n);break e;case 11:t=Oi(null,t,r,e,n);break e;case 14:t=Ai(null,t,r,ti(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ti(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ii(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 3:e:{if(Li(t),null===e)throw Error(a(387));r=t.pendingProps,o=(s=t.memoizedState).element,Da(e,t),Wa(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Di(e,t,r,n,o=hi(Error(a(423)),t));break e}if(r!==o){t=Di(e,t,r,n,o=hi(Error(a(424)),t));break e}for(ra=lo(t.stateNode.containerInfo.firstChild),na=t,oa=!0,aa=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===o){t=Qi(e,t,n);break e}Ci(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,to(r,o)?i=null:null!==s&&to(r,s)&&(t.flags|=32),Ri(e,t),Ci(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vi(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):Ci(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Oi(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 7:return Ci(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ci(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,No(_a,r._currentValue),r._currentValue=i,null!==s)if(sr(s.value,i)){if(s.children===o.children&&!Ao.current){t=Qi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=za(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Oa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(a(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Oa(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}Ci(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Aa(t,n),r=r(o=ja(o)),t.flags|=1,Ci(e,t,r,n),t.child;case 14:return o=ti(r=t.type,t.pendingProps),Ai(e,t,r,o=ti(r.type,o),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ti(r,o),Ji(e,t),t.tag=1,Ro(r)?(e=!0,Lo(t)):e=!1,Aa(t,n),ai(t,r,o),di(t,r,o,n),Mi(null,t,r,!0,e,n);case 19:return Yi(e,t,n);case 22:return Pi(e,t,n)}throw Error(a(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function ou(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function lu(e,t,n,r,o){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof o){var i=o;o=function(){var e=Gc(s);i.call(e)}}Qc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Gc(s);a.call(e)}}var s=Jc(t,r,e,0,null,!1,0,"",iu);return e._reactRootContainer=s,e[po]=s.current,Br(8===e.nodeType?e.parentNode:e),bc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var i=r;r=function(){var e=Gc(l);i.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=l,e[po]=l.current,Br(8===e.nodeType?e.parentNode:e),bc(function(){Qc(t,l,n,r)}),l}(n,t,e,o,r);return Gc(s)}ou.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qc(e,t,null,null)},ou.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc(function(){Qc(null,e,null,null)}),t[po]=null}},ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),fc(t,Ye()),0===(6&Dl)&&(Jl=Ye()+500,Wo()))}break;case 13:bc(function(){var t=Ia(e,1);if(null!==t){var n=cc();dc(t,e,1,n)}}),tu(e,1)}},xt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)dc(t,e,134217728,cc());tu(e,134217728)}},_t=function(e){if(13===e.tag){var t=uc(e),n=Ia(e,t);if(null!==n)dc(n,e,t,cc());tu(e,t)}},kt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(a(90));K(r),Q(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=yc,Oe=bc;var cu={usingClientEntryPoint:!1,Events:[bo,wo,xo,Ee,Ne,yc]},uu={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{rt=fu.inject(du),ot=fu}catch(ci){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(a(299));var n=!1,r="",o=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,o),e[po]=t.current,Br(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return bc(e)},t.hydrate=function(e,t,n){if(!su(t))throw Error(a(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",i=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Jc(t,null,e,1,null!=n?n:null,o,0,s,i),e[po]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ou(t)},t.render=function(e,t,n){if(!su(t))throw Error(a(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!su(e))throw Error(a(40));return!!e._reactRootContainer&&(bc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[po]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!su(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},821:(e,t,n)=>{n.d(t,{R:()=>s});var r,o,a=Object.getOwnPropertyNames,s=(r={"package.json"(e,t){t.exports={name:"@mendable/firecrawl-js",version:"4.4.0",description:"JavaScript SDK for Firecrawl API",main:"dist/index.js",types:"dist/index.d.ts",exports:{"./package.json":"./package.json",".":{import:"./dist/index.js",default:"./dist/index.cjs"}},type:"module",scripts:{build:"tsup","build-and-publish":"npm run build && npm publish --access public","publish-beta":"npm run build && npm publish --access public --tag beta",test:"NODE_OPTIONS=--experimental-vm-modules jest --verbose src/__tests__/e2e/v2/*.test.ts --detectOpenHandles","test:unit":"NODE_OPTIONS=--experimental-vm-modules jest --verbose src/__tests__/unit/v2/*.test.ts"},repository:{type:"git",url:"git+https://github.com/firecrawl/firecrawl.git"},author:"Mendable.ai",license:"MIT",dependencies:{axios:"^1.12.2","typescript-event-target":"^1.1.1",zod:"^3.23.8","zod-to-json-schema":"^3.23.0"},bugs:{url:"https://github.com/firecrawl/firecrawl/issues"},homepage:"https://github.com/firecrawl/firecrawl#readme",devDependencies:{"@jest/globals":"^30.0.5","@types/dotenv":"^8.2.0","@types/jest":"^30.0.0","@types/mocha":"^10.0.6","@types/node":"^20.12.12","@types/uuid":"^9.0.8",dotenv:"^16.4.5",jest:"^30.0.5","ts-jest":"^29.4.0",tsup:"^8.5.0",typescript:"^5.4.5",uuid:"^9.0.1"},keywords:["firecrawl","mendable","crawler","web","scraper","api","sdk"],engines:{node:">=22.0.0"},pnpm:{overrides:{"@babel/helpers@<7.26.10":">=7.26.10","brace-expansion@>=1.0.0 <=1.1.11":">=1.1.12","brace-expansion@>=2.0.0 <=2.0.1":">=2.0.2"}}}}},function(){return o||(0,r[a(r)[0]])((o={exports:{}}).exports,o),o.exports})},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".8f1d68b5.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="agent-workflow-builder:";n.l=(r,o,a,s)=>{if(e[r])e[r].push(o);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[o];var f=(t,n)=>{i.onerror=i.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(e=>e(n)),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=a);var s=n.p+n.u(t),i=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,a,[s,i,l]=r,c=0;if(s.some(t=>0!==e[t])){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkagent_workflow_builder=self.webpackChunkagent_workflow_builder||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>rv,hasStandardBrowserEnv:()=>av,hasStandardBrowserWebWorkerEnv:()=>sv,navigator:()=>ov,origin:()=>iv});var o=n(43),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=f(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var h=n(443);const p=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,o,a);return a},m=e=>e?p(e):p;const{useDebugValue:g}=o,{useSyncExternalStoreWithSelector:v}=h,y=e=>e;function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=arguments.length>2?arguments[2]:void 0;const r=v(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return g(r),r}const w=(e,t)=>{const n=m(e),r=function(e){return b(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function x(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var _={value:()=>{}};function k(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new S(r)}function S(e){this._=e}function E(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function N(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=_,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}S.prototype=k.prototype={constructor:S,on:function(e,t){var n,r,o=this._,a=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,i=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++s<i;)if(n=(e=a[s]).type)o[n]=N(o[n],e.name,t);else if(null==t)for(n in o)o[n]=N(o[n],e.name,null);return this}for(;++s<i;)if((n=(e=a[s]).type)&&(n=E(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new S(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),a=0;a<n;++a)o[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};const C=k;function O(){}function A(e){return null==e?O:function(){return this.querySelector(e)}}function j(){return[]}function P(e){return null==e?j:function(){return this.querySelectorAll(e)}}function R(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function T(e){return function(){return this.matches(e)}}function I(e){return function(t){return t.matches(e)}}var M=Array.prototype.find;function L(){return this.firstElementChild}var D=Array.prototype.filter;function z(){return Array.from(this.children)}function F(e){return new Array(e.length)}function U(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function B(e,t,n,r,o,a){for(var s,i=0,l=t.length,c=a.length;i<c;++i)(s=t[i])?(s.__data__=a[i],r[i]=s):n[i]=new U(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function W(e,t,n,r,o,a,s){var i,l,c,u=new Map,d=t.length,f=a.length,h=new Array(d);for(i=0;i<d;++i)(l=t[i])&&(h[i]=c=s.call(l,l.__data__,i,t)+"",u.has(c)?o[i]=l:u.set(c,l));for(i=0;i<f;++i)c=s.call(e,a[i],i,a)+"",(l=u.get(c))?(r[i]=l,l.__data__=a[i],u.delete(c)):n[i]=new U(e,a[i]);for(i=0;i<d;++i)(l=t[i])&&u.get(h[i])===l&&(o[i]=l)}function H(e){return e.__data__}function q(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function V(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}U.prototype={constructor:U,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Z="http://www.w3.org/1999/xhtml";const K={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),K.hasOwnProperty(t)?{space:K[t],local:e}:e}function $(e){return function(){this.removeAttribute(e)}}function Y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J(e,t){return function(){this.setAttribute(e,t)}}function Q(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function G(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ee(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function te(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ne(e){return function(){this.style.removeProperty(e)}}function re(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oe(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ae(e,t){return e.style.getPropertyValue(t)||te(e).getComputedStyle(e,null).getPropertyValue(t)}function se(e){return function(){delete this[e]}}function ie(e,t){return function(){this[e]=t}}function le(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ce(e){return e.trim().split(/^|\s+/)}function ue(e){return e.classList||new de(e)}function de(e){this._node=e,this._names=ce(e.getAttribute("class")||"")}function fe(e,t){for(var n=ue(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function he(e,t){for(var n=ue(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function pe(e){return function(){fe(this,e)}}function me(e){return function(){he(this,e)}}function ge(e,t){return function(){(t.apply(this,arguments)?fe:he)(this,e)}}function ve(){this.textContent=""}function ye(e){return function(){this.textContent=e}}function be(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function we(){this.innerHTML=""}function xe(e){return function(){this.innerHTML=e}}function _e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ke(){this.nextSibling&&this.parentNode.appendChild(this)}function Se(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ee(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Z&&t.documentElement.namespaceURI===Z?t.createElement(e):t.createElementNS(n,e)}}function Ne(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ce(e){var t=X(e);return(t.local?Ne:Ee)(t)}function Oe(){return null}function Ae(){var e=this.parentNode;e&&e.removeChild(this)}function je(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Re(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Te(e,t,n){return function(){var r,o=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var s=0,i=o.length;s<i;++s)if((r=o[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(r):this.__on=[r]}}function Ie(e,t,n){var r=te(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Me(e,t){return function(){return Ie(this,e,t)}}function Le(e,t){return function(){return Ie(this,e,t.apply(this,arguments))}}de.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var De=[null];function ze(e,t){this._groups=e,this._parents=t}function Fe(){return new ze([[document.documentElement]],De)}ze.prototype=Fe.prototype={constructor:ze,select:function(e){"function"!==typeof e&&(e=A(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,s,i=t[o],l=i.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=i[u])&&(s=e.call(a,a.__data__,u,i))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new ze(r,this._parents)},selectAll:function(e){e="function"===typeof e?R(e):P(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var s,i=t[a],l=i.length,c=0;c<l;++c)(s=i[c])&&(r.push(e.call(s,s.__data__,c,i)),o.push(s));return new ze(r,o)},selectChild:function(e){return this.select(null==e?L:function(e){return function(){return M.call(this.children,e)}}("function"===typeof e?e:I(e)))},selectChildren:function(e){return this.selectAll(null==e?z:function(e){return function(){return D.call(this.children,e)}}("function"===typeof e?e:I(e)))},filter:function(e){"function"!==typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,s=t[o],i=s.length,l=r[o]=[],c=0;c<i;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new ze(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,H);var n,r=t?W:B,o=this._parents,a=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var s=a.length,i=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=o[u],f=a[u],h=f.length,p=q(e.call(d,d&&d.__data__,u,o)),m=p.length,g=l[u]=new Array(m),v=i[u]=new Array(m);r(d,f,g,v,c[u]=new Array(h),p,t);for(var y,b,w=0,x=0;w<m;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(i=new ze(i,o))._enter=l,i._exit=c,i},enter:function(){return new ze(this._enter||this._groups.map(F),this._parents)},exit:function(){return new ze(this._exit||this._groups.map(F),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?a.remove():n(a),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,s=Math.min(o,a),i=new Array(o),l=0;l<s;++l)for(var c,u=n[l],d=r[l],f=u.length,h=i[l]=new Array(f),p=0;p<f;++p)(c=u[p]||d[p])&&(h[p]=c);for(;l<o;++l)i[l]=n[l];return new ze(i,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],a=o.length-1,s=o[a];--a>=0;)(r=o[a])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=V);for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var s,i=n[a],l=i.length,c=o[a]=new Array(l),u=0;u<l;++u)(s=i[u])&&(c[u]=s);c.sort(t)}return new ze(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var s=r[o];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,a=t[n],s=0,i=a.length;s<i;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this},attr:function(e,t){var n=X(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Y:$:"function"===typeof t?n.local?ee:G:n.local?Q:J)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ne:"function"===typeof t?oe:re)(e,t,null==n?"":n)):ae(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?se:"function"===typeof t?le:ie)(e,t)):this.node()[e]},classed:function(e,t){var n=ce(e+"");if(arguments.length<2){for(var r=ue(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?ge:t?pe:me)(n,t))},text:function(e){return arguments.length?this.each(null==e?ve:("function"===typeof e?be:ye)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?we:("function"===typeof e?_e:xe)(e)):this.node().innerHTML},raise:function(){return this.each(ke)},lower:function(){return this.each(Se)},append:function(e){var t="function"===typeof e?e:Ce(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:Ce(e),r=null==t?Oe:"function"===typeof t?t:A(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ae)},clone:function(e){return this.select(e?Pe:je)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=a.length;if(!(arguments.length<2)){for(i=t?Te:Re,r=0;r<s;++r)this.each(i(a[r],t,n));return this}var i=this.node().__on;if(i)for(var l,c=0,u=i.length;c<u;++c)for(r=0,l=i[c];r<s;++r)if((o=a[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Le:Me)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],a=0,s=o.length;a<s;++a)(r=o[a])&&(yield r)}};const Ue=Fe;function Be(e){return"string"===typeof e?new ze([[document.querySelector(e)]],[document.documentElement]):new ze([[e]],De)}const We={passive:!1},He={capture:!0,passive:!1};function qe(e){e.stopImmediatePropagation()}function Ve(e){e.preventDefault(),e.stopImmediatePropagation()}function Ze(e){var t=e.document.documentElement,n=Be(e).on("dragstart.drag",Ve,He);"onselectstart"in t?n.on("selectstart.drag",Ve,He):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ke(e,t){var n=e.document.documentElement,r=Be(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ve,He),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Xe(e){return((e=Math.exp(e))+1/e)/2}const $e=function e(t,n,r){function o(e,o){var a,s,i=e[0],l=e[1],c=e[2],u=o[0],d=o[1],f=o[2],h=u-i,p=d-l,m=h*h+p*p;if(m<1e-12)s=Math.log(f/c)/t,a=function(e){return[i+e*h,l+e*p,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),v=(f*f-c*c+r*m)/(2*c*n*g),y=(f*f-c*c-r*m)/(2*f*n*g),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);s=(w-b)/t,a=function(e){var r,o=e*s,a=Xe(b),u=c/(n*g)*(a*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[i+u*h,l+u*p,c*a/Xe(t*o+b)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function Ye(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var Je,Qe,Ge=0,et=0,tt=0,nt=0,rt=0,ot=0,at="object"===typeof performance&&performance.now?performance:Date,st="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function it(){return rt||(st(lt),rt=at.now()+ot)}function lt(){rt=0}function ct(){this._call=this._time=this._next=null}function ut(e,t,n){var r=new ct;return r.restart(e,t,n),r}function dt(){rt=(nt=at.now())+ot,Ge=et=0;try{!function(){it(),++Ge;for(var e,t=Je;t;)(e=rt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ge}()}finally{Ge=0,function(){var e,t,n=Je,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Je=t);Qe=e,ht(r)}(),rt=0}}function ft(){var e=at.now(),t=e-nt;t>1e3&&(ot-=t,nt=e)}function ht(e){Ge||(et&&(et=clearTimeout(et)),e-rt>24?(e<1/0&&(et=setTimeout(dt,e-at.now()-ot)),tt&&(tt=clearInterval(tt))):(tt||(nt=at.now(),tt=setInterval(ft,1e3)),Ge=1,st(dt)))}function pt(e,t,n){var r=new ct;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}ct.prototype=ut.prototype={constructor:ct,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?it():+n)+(null==t?0:+t),this._next||Qe===this||(Qe?Qe._next=this:Je=this,Qe=this),this._call=e,this._time=n,ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,ht())}};var mt=C("start","end","cancel","interrupt"),gt=[];function vt(e,t,n,r,o,a){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function a(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(a){var c,u,d,f;if(1!==n.state)return l();for(c in o)if((f=o[c]).name===n.name){if(3===f.state)return pt(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(pt(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function i(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,s=r.length;++a<s;)r[a].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=ut(a,0,n.time)}(e,n,{name:t,index:r,group:o,on:mt,tween:gt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function yt(e,t){var n=wt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=wt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xt(e,t){var n,r,o,a=e.__transition,s=!0;if(a){for(o in t=null==t?null:t+"",a)(n=a[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete e.__transition}}function _t(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var kt,St=180/Math.PI,Et={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nt(e,t,n,r,o,a){var s,i,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,l/=i),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*St,skewX:Math.atan(l)*St,scaleX:s,scaleY:i}}function Ct(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(a,s){var i=[],l=[];return a=e(a),s=e(s),function(e,r,o,a,s,i){if(e!==o||r!==a){var l=s.push("translate(",null,t,null,n);i.push({i:l-4,x:_t(e,o)},{i:l-2,x:_t(r,a)})}else(o||a)&&s.push("translate("+o+t+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,i,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:_t(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(a.rotate,s.rotate,i,l),function(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:_t(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(a.skewX,s.skewX,i,l),function(e,t,n,r,a,s){if(e!==n||t!==r){var i=a.push(o(a)+"scale(",null,",",null,")");s.push({i:i-4,x:_t(e,n)},{i:i-2,x:_t(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,i,l),a=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)i[(t=l[n]).i]=t.x(e);return i.join("")}}}var Ot=Ct(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Et:Nt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),At=Ct(function(e){return null==e?Et:(kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","g")),kt.setAttribute("transform",e),(e=kt.transform.baseVal.consolidate())?Nt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Et)},", ",")",")");function jt(e,t){var n,r;return function(){var o=bt(this,e),a=o.tween;if(a!==n)for(var s=0,i=(r=n=a).length;s<i;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}o.tween=r}}function Pt(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var a=bt(this,e),s=a.tween;if(s!==r){o=(r=s).slice();for(var i={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=i;break}l===c&&o.push(i)}a.tween=o}}function Rt(e,t,n){var r=e._id;return e.each(function(){var e=bt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return wt(e,r).value[t]}}function Tt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function It(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mt(){}var Lt=.7,Dt=1/Lt,zt="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bt=/^#([0-9a-f]{3,8})$/,Wt=new RegExp("^rgb\\(".concat(zt,",").concat(zt,",").concat(zt,"\\)$")),Ht=new RegExp("^rgb\\(".concat(Ut,",").concat(Ut,",").concat(Ut,"\\)$")),qt=new RegExp("^rgba\\(".concat(zt,",").concat(zt,",").concat(zt,",").concat(Ft,"\\)$")),Vt=new RegExp("^rgba\\(".concat(Ut,",").concat(Ut,",").concat(Ut,",").concat(Ft,"\\)$")),Zt=new RegExp("^hsl\\(".concat(Ft,",").concat(Ut,",").concat(Ut,"\\)$")),Kt=new RegExp("^hsla\\(".concat(Ft,",").concat(Ut,",").concat(Ut,",").concat(Ft,"\\)$")),Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $t(){return this.rgb().formatHex()}function Yt(){return this.rgb().formatRgb()}function Jt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Qt(t):3===n?new tn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Gt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Gt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Wt.exec(e))?new tn(t[1],t[2],t[3],1):(t=Ht.exec(e))?new tn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qt.exec(e))?Gt(t[1],t[2],t[3],t[4]):(t=Vt.exec(e))?Gt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Zt.exec(e))?ln(t[1],t[2]/100,t[3]/100,1):(t=Kt.exec(e))?ln(t[1],t[2]/100,t[3]/100,t[4]):Xt.hasOwnProperty(e)?Qt(Xt[e]):"transparent"===e?new tn(NaN,NaN,NaN,0):null}function Qt(e){return new tn(e>>16&255,e>>8&255,255&e,1)}function Gt(e,t,n,r){return r<=0&&(e=t=n=NaN),new tn(e,t,n,r)}function en(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Mt||(e=Jt(e)),e?new tn((e=e.rgb()).r,e.g,e.b,e.opacity):new tn}(e):new tn(e,t,n,null==r?1:r)}function tn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function nn(){return"#".concat(sn(this.r)).concat(sn(this.g)).concat(sn(this.b))}function rn(){const e=on(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(an(this.r),", ").concat(an(this.g),", ").concat(an(this.b)).concat(1===e?")":", ".concat(e,")"))}function on(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function an(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sn(e){return((e=an(e))<16?"0":"")+e.toString(16)}function ln(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,n,r)}function cn(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof Mt||(e=Jt(e)),!e)return new un;if(e instanceof un)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,i=a-o,l=(a+o)/2;return i?(s=t===a?(n-r)/i+6*(n<r):n===a?(r-t)/i+2:(t-n)/i+4,i/=l<.5?a+o:2-a-o,s*=60):i=l>0&&l<1?0:s,new un(s,i,l,e.opacity)}function un(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function dn(e){return(e=(e||0)%360)<0?e+360:e}function fn(e){return Math.max(0,Math.min(1,e||0))}function hn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function pn(e,t,n,r,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*o)/6}Tt(Mt,Jt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$t,formatHex:$t,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cn(this).formatHsl()},formatRgb:Yt,toString:Yt}),Tt(tn,en,It(Mt,{brighter(e){return e=null==e?Dt:Math.pow(Dt,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Lt:Math.pow(Lt,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(an(this.r),an(this.g),an(this.b),on(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nn,formatHex:nn,formatHex8:function(){return"#".concat(sn(this.r)).concat(sn(this.g)).concat(sn(this.b)).concat(sn(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:rn,toString:rn})),Tt(un,function(e,t,n,r){return 1===arguments.length?cn(e):new un(e,t,n,null==r?1:r)},It(Mt,{brighter(e){return e=null==e?Dt:Math.pow(Dt,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Lt:Math.pow(Lt,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new tn(hn(e>=240?e-240:e+120,o,r),hn(e,o,r),hn(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new un(dn(this.h),fn(this.s),fn(this.l),on(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=on(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(dn(this.h),", ").concat(100*fn(this.s),"%, ").concat(100*fn(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const mn=e=>()=>e;function gn(e,t){return function(n){return e+n*t}}function vn(e){return 1===(e=+e)?yn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):mn(isNaN(t)?n:t)}}function yn(e,t){var n=t-e;return n?gn(e,n):mn(isNaN(e)?t:e)}const bn=function e(t){var n=vn(t);function r(e,t){var r=n((e=en(e)).r,(t=en(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),s=yn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function wn(e){return function(t){var n,r,o=t.length,a=new Array(o),s=new Array(o),i=new Array(o);for(n=0;n<o;++n)r=en(t[n]),a[n]=r.r||0,s[n]=r.g||0,i[n]=r.b||0;return a=e(a),s=e(s),i=e(i),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=i(e),r+""}}}wn(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,i=r<t-1?e[r+2]:2*a-o;return pn((n-r/t)*t,s,o,a,i)}}),wn(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],i=e[(r+2)%t];return pn((n-r/t)*t,o,a,s,i)}});var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_n=new RegExp(xn.source,"g");function kn(e,t){var n,r,o,a=xn.lastIndex=_n.lastIndex=0,s=-1,i=[],l=[];for(e+="",t+="";(n=xn.exec(e))&&(r=_n.exec(t));)(o=r.index)>a&&(o=t.slice(a,o),i[s]?i[s]+=o:i[++s]=o),(n=n[0])===(r=r[0])?i[s]?i[s]+=r:i[++s]=r:(i[++s]=null,l.push({i:s,x:_t(n,r)})),a=_n.lastIndex;return a<t.length&&(o=t.slice(a),i[s]?i[s]+=o:i[++s]=o),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)i[(n=l[r]).i]=n.x(e);return i.join("")})}function Sn(e,t){var n;return("number"===typeof t?_t:t instanceof Jt?bn:(n=Jt(t))?(t=n,bn):kn)(e,t)}function En(e){return function(){this.removeAttribute(e)}}function Nn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cn(e,t,n){var r,o,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function On(e,t,n){var r,o,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function An(e,t,n){var r,o,a;return function(){var s,i,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(i=l+"")?null:s===r&&i===o?a:(o=i,a=t(r=s,l));this.removeAttribute(e)}}function jn(e,t,n){var r,o,a;return function(){var s,i,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(i=l+"")?null:s===r&&i===o?a:(o=i,a=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function Pn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Rn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Tn(e,t){return function(){yt(this,e).delay=+t.apply(this,arguments)}}function In(e,t){return t=+t,function(){yt(this,e).delay=t}}function Mn(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function Ln(e,t){return t=+t,function(){bt(this,e).duration=t}}var Dn=Ue.prototype.constructor;function zn(e){return function(){this.style.removeProperty(e)}}var Fn=0;function Un(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Bn(){return++Fn}var Wn=Ue.prototype;Un.prototype=function(e){return Ue().transition(e)}.prototype={constructor:Un,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=A(e));for(var r=this._groups,o=r.length,a=new Array(o),s=0;s<o;++s)for(var i,l,c=r[s],u=c.length,d=a[s]=new Array(u),f=0;f<u;++f)(i=c[f])&&(l=e.call(i,i.__data__,f,c))&&("__data__"in i&&(l.__data__=i.__data__),d[f]=l,vt(d[f],t,n,f,d,wt(i,n)));return new Un(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=P(e));for(var r=this._groups,o=r.length,a=[],s=[],i=0;i<o;++i)for(var l,c=r[i],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var f,h=e.call(l,l.__data__,d,c),p=wt(l,n),m=0,g=h.length;m<g;++m)(f=h[m])&&vt(f,t,n,m,h,p);a.push(h),s.push(l)}return new Un(a,s,t,n)},selectChild:Wn.selectChild,selectChildren:Wn.selectChildren,filter:function(e){"function"!==typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,s=t[o],i=s.length,l=r[o]=[],c=0;c<i;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Un(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),s=new Array(r),i=0;i<a;++i)for(var l,c=t[i],u=n[i],d=c.length,f=s[i]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(f[h]=l);for(;i<r;++i)s[i]=t[i];return new Un(s,this._parents,this._name,this._id)},selection:function(){return new Dn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Bn(),r=this._groups,o=r.length,a=0;a<o;++a)for(var s,i=r[a],l=i.length,c=0;c<l;++c)if(s=i[c]){var u=wt(s,t);vt(s,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Un(r,this._parents,e,n)},call:Wn.call,nodes:Wn.nodes,node:Wn.node,size:Wn.size,empty:Wn.empty,each:Wn.each,on:function(e,t){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?yt:bt;return function(){var s=a(this,e),i=s.on;i!==r&&(o=(r=i).copy()).on(t,n),s.on=o}}(n,e,t))},attr:function(e,t){var n=X(e),r="transform"===n?At:Sn;return this.attrTween(e,"function"===typeof t?(n.local?jn:An)(n,r,Rt(this,"attr."+e,t)):null==t?(n.local?Nn:En)(n):(n.local?On:Cn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=X(e);return this.tween(n,(r.local?Pn:Rn)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Ot:Sn;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var a=ae(this,e),s=(this.style.removeProperty(e),ae(this,e));return a===s?null:a===n&&s===r?o:o=t(n=a,r=s)}}(e,r)).on("end.style."+e,zn(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,a;return function(){var s=ae(this,e),i=n(this),l=i+"";return null==i&&(this.style.removeProperty(e),l=i=ae(this,e)),s===l?null:s===r&&l===o?a:(o=l,a=t(r=s,i))}}(e,r,Rt(this,"style."+e,t))).each(function(e,t){var n,r,o,a,s="style."+t,i="end."+s;return function(){var l=bt(this,e),c=l.on,u=null==l.value[s]?a||(a=zn(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(i,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,a=n+"";return function(){var s=ae(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function a(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Rt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=wt(this.node(),n).tween,a=0,s=o.length;a<s;++a)if((r=o[a]).name===e)return r.value;return null}return this.each((null==t?jt:Pt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Tn:In)(t,e)):wt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Mn:Ln)(t,e)):wt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){bt(this,e).ease=t}}(t,e)):wt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;bt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,s){var i={value:s},l={value:function(){0===--o&&a()}};n.each(function(){var n=bt(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),n.on=t}),0===o&&a()})},[Symbol.iterator]:Wn[Symbol.iterator]};var Hn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function qn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Ue.prototype.interrupt=function(e){return this.each(function(){xt(this,e)})},Ue.prototype.transition=function(e){var t,n;e instanceof Un?(t=e._id,e=e._name):(t=Bn(),(n=Hn).time=it(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var s,i=r[a],l=i.length,c=0;c<l;++c)(s=i[c])&&vt(s,e,t,c,i,n||qn(s,t));return new Un(r,this._parents,e,t)};const Vn=e=>()=>e;function Zn(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function Kn(e,t,n){this.k=e,this.x=t,this.y=n}Kn.prototype={constructor:Kn,scale:function(e){return 1===e?this:new Kn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xn=new Kn(1,0,0);function $n(e){e.stopImmediatePropagation()}function Yn(e){e.preventDefault(),e.stopImmediatePropagation()}function Jn(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Qn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Gn(){return this.__zoom||Xn}function er(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tr(){return navigator.maxTouchPoints||"ontouchstart"in this}function nr(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function rr(){var e,t,n,r=Jn,o=Qn,a=nr,s=er,i=tr,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=$e,f=C("start","zoom","end"),h=0,p=10;function m(e){e.property("__zoom",Gn).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Kn(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new Kn(e.k,r,o)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,a=arguments,s=w(e,a).event(r),i=o.apply(e,a),l=null==n?y(i):"function"===typeof n?n.apply(e,a):n,c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=e.__zoom,f="function"===typeof t?t.apply(e,a):t,h=d(u.invert(l).concat(c/u.k),f.invert(l).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=h(e),n=c/t[2];e=new Kn(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var i=w(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,s.apply(this,arguments)))),f=Ye(e);if(i.wheel)i.mouse[0][0]===f[0]&&i.mouse[0][1]===f[1]||(i.mouse[1]=u.invert(i.mouse[0]=f)),clearTimeout(i.wheel);else{if(u.k===d)return;i.mouse=[f,u.invert(f)],xt(this),i.start()}Yn(e),i.wheel=setTimeout(function(){i.wheel=null,i.end()},150),i.zoom("mouse",a(v(g(u,d),i.mouse[0],i.mouse[1]),i.extent,c))}}function k(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];if(!n&&r.apply(this,arguments)){var i=e.currentTarget,l=w(this,o,!0).event(e),u=Be(e.view).on("mousemove.zoom",function(e){if(Yn(e),!l.moved){var t=e.clientX-f,n=e.clientY-p;l.moved=t*t+n*n>h}l.event(e).zoom("mouse",a(v(l.that.__zoom,l.mouse[0]=Ye(e,i),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){u.on("mousemove.zoom mouseup.zoom",null),Ke(e.view,l.moved),Yn(e),l.event(e).end()},!0),d=Ye(e,i),f=e.clientX,p=e.clientY;Ze(e.view),$n(e),l.mouse=[d,this.__zoom.invert(d)],xt(this),l.start()}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(r.apply(this,arguments)){var i=this.__zoom,l=Ye(e.changedTouches?e.changedTouches[0]:e,this),d=i.invert(l),f=i.k*(e.shiftKey?.5:2),h=a(v(g(i,f),l,d),o.apply(this,n),c);Yn(e),u>0?Be(this).transition().duration(u).call(b,h,l,e):Be(this).call(m.transform,h,l,e)}}function E(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if(r.apply(this,arguments)){var i,l,c,u,d=n.touches,f=d.length,h=w(this,a,n.changedTouches.length===f).event(n);for($n(n),l=0;l<f;++l)u=[u=Ye(c=d[l],this),this.__zoom.invert(u),c.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,i=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(h.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),xt(this),h.start())}}function N(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,s,i,l,u=w(this,n).event(e),d=e.changedTouches,f=d.length;for(Yn(e),o=0;o<f;++o)i=Ye(s=d[o],this),u.touch0&&u.touch0[2]===s.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===s.identifier&&(u.touch1[0]=i);if(s=u.that.__zoom,u.touch1){var h=u.touch0[0],p=u.touch0[1],m=u.touch1[0],y=u.touch1[1],b=(b=m[0]-h[0])*b+(b=m[1]-h[1])*b,x=(x=y[0]-p[0])*x+(x=y[1]-p[1])*x;s=g(s,Math.sqrt(b/x)),i=[(h[0]+m[0])/2,(h[1]+m[1])/2],l=[(p[0]+y[0])/2,(p[1]+y[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],l=u.touch0[1]}u.zoom("touch",a(v(s,i,l),u.extent,c))}}function O(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(this.__zooming){var s,i,l=w(this,o).event(e),c=e.changedTouches,u=c.length;for($n(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),s=0;s<u;++s)i=c[s],l.touch0&&l.touch0[2]===i.identifier?delete l.touch0:l.touch1&&l.touch1[2]===i.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(i=Ye(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<p)){var d=Be(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",Gn),e!==o?b(e,t,n,r):o.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,i=r.invert(s),l="function"===typeof t?t.apply(this,arguments):t;return a(v(g(r,l),s,i),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,s){m.transform(e,function(){var e=o.apply(this,arguments),s=this.__zoom,i=null==r?y(e):"function"===typeof r?r.apply(this,arguments):r;return a(Xn.translate(i[0],i[1]).scale(s.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Be(this.that).datum();f.call(e,this.that,new Zn(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:f}),t)}},m.wheelDelta=function(e){return arguments.length?(s="function"===typeof e?e:Vn(+e),m):s},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Vn(!!e),m):r},m.touchable=function(e){return arguments.length?(i="function"===typeof e?e:Vn(!!e),m):i},m.extent=function(e){return arguments.length?(o="function"===typeof e?e:Vn([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,m):Math.sqrt(h)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}Kn.prototype;const or=e=>()=>e;function ar(e,t){let{sourceEvent:n,subject:r,target:o,identifier:a,active:s,x:i,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function sr(e){return!e.ctrlKey&&!e.button}function ir(){return this.parentNode}function lr(e,t){return null==t?{x:e.x,y:e.y}:t}function cr(){return navigator.maxTouchPoints||"ontouchstart"in this}ar.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(950);const ur=["position","children","className","style"],dr=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],fr=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],hr=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],pr=(0,o.createContext)(null),mr=pr.Provider,gr=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),vr=()=>"The React Flow parent container needs a width and a height to render the graph.",yr=()=>"Only child nodes can use a parent extent.",br=()=>"Can't create edge. An edge needs a source and a target.",wr=e=>'Marker type "'.concat(e,"\" doesn't exist."),xr=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),_r=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",kr=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),Sr=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),Er=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Nr(e,t){const n=(0,o.useContext)(pr);if(null===n)throw new Error(Er);return b(n,e,t)}const Cr=()=>{const e=(0,o.useContext)(pr);if(null===e)throw new Error(Er);return(0,o.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Or=e=>e.userSelectionActive?"none":"all";function Ar(e){let{position:t,children:n,className:r,style:a}=e,s=d(e,ur);const i=Nr(Or),l="".concat(t).split("-");return o.createElement("div",u({className:f(["react-flow__panel",r,...l]),style:u(u({},a),{},{pointerEvents:i})},s),n)}function jr(e){let{proOptions:t,position:n="bottom-right"}=e;return null!==t&&void 0!==t&&t.hideAttribution?null:o.createElement(Ar,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Pr=(0,o.memo)(e=>{let{x:t,y:n,label:r,labelStyle:a={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:h,className:p}=e,m=d(e,dr);const g=(0,o.useRef)(null),[v,y]=(0,o.useState)({x:0,y:0,width:0,height:0}),b=f(["react-flow__edge-textwrapper",p]);return(0,o.useEffect)(()=>{if(g.current){const e=g.current.getBBox();y({x:e.x,y:e.y,width:e.width,height:e.height})}},[r]),"undefined"!==typeof r&&r?o.createElement("g",u({transform:"translate(".concat(t-v.width/2," ").concat(n-v.height/2,")"),className:b,visibility:v.width?"visible":"hidden"},m),s&&o.createElement("rect",{width:v.width+2*l[0],x:-l[0],y:-l[1],height:v.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),o.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:g,style:a},r),h):null});const Rr=e=>({width:e.offsetWidth,height:e.offsetHeight}),Tr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Ir=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Tr(e.x,t[0][0],t[1][0]),y:Tr(e.y,t[0][1],t[1][1])}},Mr=(e,t,n)=>e<t?Tr(Math.abs(e-t),1,50)/50:e>n?-Tr(Math.abs(e-n),1,50)/50:0,Lr=(e,t)=>[20*Mr(e.x,35,t.width-35),20*Mr(e.y,35,t.height-35)],Dr=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},zr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Fr=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},Ur=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},Br=e=>u(u({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),Wr=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Hr=e=>!isNaN(e)&&isFinite(e),qr=Symbol.for("internals"),Vr=["Enter"," ","Escape"],Zr=(e,t)=>{0};function Kr(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const Xr=e=>"clientX"in e,$r=(e,t)=>{var n,r,o,a;const s=Xr(e),i=s?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=s?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:i-(null!==(o=null===t||void 0===t?void 0:t.left)&&void 0!==o?o:0),y:l-(null!==(a=null===t||void 0===t?void 0:t.top)&&void 0!==a?a:0)}},Yr=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},Jr=e=>{let{id:t,path:n,labelX:r,labelY:a,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m=20}=e;return o.createElement(o.Fragment,null,o.createElement("path",{id:t,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),m&&o.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&Hr(r)&&Hr(a)?o.createElement(Pr,{x:r,y:a,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};Jr.displayName="BaseEdge";function Qr(e,t,n){return void 0===n?n:r=>{const o=t().edges.find(t=>t.id===e);o&&n(r,u({},o))}}function Gr(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const a=Math.abs(r-t)/2,s=r<t?r+a:r-a,i=Math.abs(o-n)/2;return[s,o<n?o+i:o-i,a,i]}function eo(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:l}=e;const c=.125*t+.375*a+.375*i+.125*r,u=.125*n+.375*s+.375*l+.125*o;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var to,no,ro,oo,ao,so;function io(e){let{pos:t,x1:n,y1:r,x2:o,y2:a}=e;return t===so.Left||t===so.Right?[.5*(n+o),r]:[n,.5*(r+a)]}function lo(e){let{sourceX:t,sourceY:n,sourcePosition:r=so.Bottom,targetX:o,targetY:a,targetPosition:s=so.Top}=e;const[i,l]=io({pos:r,x1:t,y1:n,x2:o,y2:a}),[c,u]=io({pos:s,x1:o,y1:a,x2:t,y2:n}),[d,f,h,p]=eo({sourceX:t,sourceY:n,targetX:o,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(i,",").concat(l," ").concat(c,",").concat(u," ").concat(o,",").concat(a),d,f,h,p]}!function(e){e.Strict="strict",e.Loose="loose"}(to||(to={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(no||(no={})),function(e){e.Partial="partial",e.Full="full"}(ro||(ro={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(oo||(oo={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ao||(ao={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(so||(so={}));const co=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:s=so.Bottom,targetPosition:i=so.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,interactionWidth:v}=e;const[y,b,w]=lo({sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:a,targetPosition:i});return o.createElement(Jr,{path:y,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,interactionWidth:v})});co.displayName="SimpleBezierEdge";const uo={[so.Left]:{x:-1,y:0},[so.Right]:{x:1,y:0},[so.Top]:{x:0,y:-1},[so.Bottom]:{x:0,y:1}},fo=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ho(e){let{source:t,sourcePosition:n=so.Bottom,target:r,targetPosition:o=so.Top,center:a,offset:s}=e;const i=uo[n],l=uo[o],c={x:t.x+i.x*s,y:t.y+i.y*s},u={x:r.x+l.x*s,y:r.y+l.y*s},d=(e=>{let{source:t,sourcePosition:n=so.Bottom,target:r}=e;return n===so.Left||n===so.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),f=0!==d.x?"x":"y",h=d[f];let p,m,g=[];const v={x:0,y:0},y={x:0,y:0},[b,w,x,_]=Gr({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(i[f]*l[f]===-1){var k,S;p=null!==(k=a.x)&&void 0!==k?k:b,m=null!==(S=a.y)&&void 0!==S?S:w;const e=[{x:p,y:c.y},{x:p,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=i[f]===h?"x"===f?e:t:"x"===f?t:e}else{const e=[{x:c.x,y:u.y}],a=[{x:u.x,y:c.y}];if(g="x"===f?i.x===h?a:e:i.y===h?e:a,n===o){const e=Math.abs(t[f]-r[f]);if(e<=s){const n=Math.min(s-1,s-e);i[f]===h?v[f]=(c[f]>t[f]?-1:1)*n:y[f]=(u[f]>r[f]?-1:1)*n}}if(n!==o){const t="x"===f?"y":"x",n=i[f]===l[t],r=c[t]>u[t],o=c[t]<u[t];(1===i[f]&&(!n&&r||n&&o)||1!==i[f]&&(!n&&o||n&&r))&&(g="x"===f?e:a)}const d={x:c.x+v.x,y:c.y+v.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(p=(d.x+b.x)/2,m=g[0].y):(p=g[0].x,m=(d.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},r],p,m,x,_]}function po(e){let{sourceX:t,sourceY:n,sourcePosition:r=so.Bottom,targetX:o,targetY:a,targetPosition:s=so.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20}=e;const[d,f,h,p,m]=ho({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:a},targetPosition:s,center:{x:l,y:c},offset:u}),g=d.reduce((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const o=Math.min(fo(e,t)/2,fo(t,n)/2,r),{x:a,y:s}=t;if(e.x===a&&a===n.x||e.y===s&&s===n.y)return"L".concat(a," ").concat(s);if(e.y===s){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(a+o*t,",").concat(s,"Q ").concat(a,",").concat(s," ").concat(a,",").concat(s+o*r)}const i=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(a,",").concat(s+o*l,"Q ").concat(a,",").concat(s," ").concat(a+o*i,",").concat(s)}(d[n-1],t,d[n+1],i):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r},"");return[g,f,h,p,m]}const mo=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:h=so.Bottom,targetPosition:p=so.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=po({sourceX:t,sourceY:n,sourcePosition:h,targetX:r,targetY:a,targetPosition:p,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return o.createElement(Jr,{path:b,labelX:w,labelY:x,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:g,interactionWidth:y})});mo.displayName="SmoothStepEdge";const go=(0,o.memo)(e=>{var t;return o.createElement(mo,u(u({},e),{},{pathOptions:(0,o.useMemo)(()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}},[null===(t=e.pathOptions)||void 0===t?void 0:t.offset])}))});go.displayName="StepEdge";const vo=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m}=e;const[g,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[a,s,i,l]=Gr({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),a,s,i,l]}({sourceX:t,sourceY:n,targetX:r,targetY:a});return o.createElement(Jr,{path:g,labelX:v,labelY:y,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m})});function yo(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function bo(e){let{pos:t,x1:n,y1:r,x2:o,y2:a,c:s}=e;switch(t){case so.Left:return[n-yo(n-o,s),r];case so.Right:return[n+yo(o-n,s),r];case so.Top:return[n,r-yo(r-a,s)];case so.Bottom:return[n,r+yo(a-r,s)]}}function wo(e){let{sourceX:t,sourceY:n,sourcePosition:r=so.Bottom,targetX:o,targetY:a,targetPosition:s=so.Top,curvature:i=.25}=e;const[l,c]=bo({pos:r,x1:t,y1:n,x2:o,y2:a,c:i}),[u,d]=bo({pos:s,x1:o,y1:a,x2:t,y2:n,c:i}),[f,h,p,m]=eo({sourceX:t,sourceY:n,targetX:o,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(u,",").concat(d," ").concat(o,",").concat(a),f,h,p,m]}vo.displayName="StraightEdge";const xo=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:s=so.Bottom,targetPosition:i=so.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=wo({sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:a,targetPosition:i,curvature:null===v||void 0===v?void 0:v.curvature});return o.createElement(Jr,{path:b,labelX:w,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:g,interactionWidth:y})});xo.displayName="BezierEdge";const _o=(0,o.createContext)(null),ko=_o.Provider;_o.Consumer;const So=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(o||"")},Eo=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},No=(e,t,n,r)=>{let{x:o,y:a}=e,[s,i,l]=t,[c,u]=r;const d={x:(o-s)/l,y:(a-i)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},Co=(e,t)=>{let{x:n,y:r}=e,[o,a,s]=t;return{x:n*s+o,y:r*s+a}},Oo=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],a=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],s={x:e.position.x-o,y:e.position.y-a};return u(u({},s),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-a}:s})},Ao=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:o}=Oo(n,t).positionAbsolute;return zr(e,Fr({x:r,y:o,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ur(n)},jo=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(s&&!r||o)return!1;const{positionAbsolute:u}=Oo(e,i),d={x:u.x,y:u.y,width:t||0,height:n||0},f=Wr(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||a&&f>0||f>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},Po=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},Ro=function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const s=t/(e.width*(1+a)),i=n/(e.height*(1+a)),l=Math.min(s,i),c=Tr(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},To=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Io(e,t,n,r){return(t[n]||[]).reduce((t,o)=>{var a,s,i,l;"".concat(e.id,"-").concat(o.id,"-").concat(n)!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(null!==(a=null===(s=e.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==a?a:0)+o.x+o.width/2,y:(null!==(i=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==i?i:0)+o.y+o.height/2});return t},[])}const Mo={source:null,target:null,sourceHandle:null,targetHandle:null},Lo=()=>({handleDomNode:null,isValid:!1,connection:Mo,endHandle:null});function Do(e,t,n,r,o,a,s){const i="target"===o,l=s.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c=u(u({},Lo()),{},{handleDomNode:l});if(l){const e=zo(void 0,l),o=l.getAttribute("data-nodeid"),s=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),f={source:i?o:n,sourceHandle:i?s:r,target:i?n:o,targetHandle:i?r:s};c.connection=f;u&&d&&(t===to.Strict?i&&"source"===e||!i&&"target"===e:o!==n||s!==r)&&(c.endHandle={nodeId:o,handleId:s,type:e},c.isValid=a(f))}return c}function zo(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Fo(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Uo(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Bo(e){let{event:t,handleId:n,nodeId:r,onConnect:o,isTarget:a,getState:s,setState:i,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=Dr(t.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:b}=s();let w,x=0;const{x:_,y:k}=$r(t),S=null===d||void 0===d?void 0:d.elementFromPoint(_,k),E=zo(c,S),N=null===h||void 0===h?void 0:h.getBoundingClientRect();if(!N||!E)return;let C,O=$r(t,N),A=!1,j=null,P=!1,R=null;const T=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:o}=e;return t.reduce((e,t)=>{if(t[qr]){const{handleBounds:a}=t[qr];let s=[],i=[];a&&(s=Io(t,a,"source","".concat(n,"-").concat(r,"-").concat(o)),i=Io(t,a,"target","".concat(n,"-").concat(r,"-").concat(o))),e.push(...s,...i)}return e},[])}({nodes:y(),nodeId:r,handleId:n,handleType:E}),I=()=>{if(!p)return;const[e,t]=Lr(O,N);v({x:e,y:t}),x=requestAnimationFrame(I)};function M(e){const{transform:t}=s();O=$r(e,N);const{handle:o,validHandleResult:c}=function(e,t,n,r,o,a){const{x:s,y:i}=$r(e),l=t.elementsFromPoint(s,i).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=zo(void 0,l),r=l.getAttribute("data-handleid"),s=a({nodeId:e,id:r,type:t});if(s){const a=o.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null===a||void 0===a?void 0:a.x)||n.x,y:(null===a||void 0===a?void 0:a.y)||n.y},validHandleResult:s}}}}let c=[],u=1/0;if(o.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=a(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:Lo()};if(1===c.length)return c[0];const d=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),f=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return f?"target"===t.type:!d||n.isValid})||c[0]}(e,d,No(O,t,!1,[1,1]),m,T,e=>Do(e,f,r,n,a?"target":"source",l,d));if(w=o,A||(I(),A=!0),R=c.handleDomNode,j=c.connection,P=c.isValid,i({connectionPosition:w&&P?Co({x:w.x,y:w.y},t):O,connectionStatus:Uo(!!w,P),connectionEndHandle:c.endHandle}),!w&&!P&&!R)return Fo(C);j.source!==j.target&&R&&(Fo(C),C=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",P),R.classList.toggle("react-flow__handle-valid",P))}function L(e){var t,n;(w||R)&&j&&P&&(null===o||void 0===o||o(j)),null===(t=(n=s()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),Fo(C),b(),cancelAnimationFrame(x),A=!1,P=!1,j=null,R=null,d.removeEventListener("mousemove",M),d.removeEventListener("mouseup",L),d.removeEventListener("touchmove",M),d.removeEventListener("touchend",L)}i({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:E,connectionStartHandle:{nodeId:r,handleId:n,type:E},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:r,handleId:n,handleType:E}),d.addEventListener("mousemove",M),d.addEventListener("mouseup",L),d.addEventListener("touchmove",M),d.addEventListener("touchend",L)}const Wo=()=>!0,Ho=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),qo=(0,o.forwardRef)((e,t)=>{let{type:n="source",position:r=so.Top,isValidConnection:a,isConnectable:s=!0,isConnectableStart:i=!0,isConnectableEnd:l=!0,id:c,onConnect:h,children:p,className:m,onMouseDown:g,onTouchStart:v}=e,y=d(e,fr);const b=c||null,w="target"===n,_=Cr(),k=(0,o.useContext)(_o),{connectOnClick:S,noPanClassName:E}=Nr(Ho,x),{connecting:N,clickConnecting:C}=Nr(((e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:a,connectionClickStartHandle:s}=r;return{connecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n||(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n,clickConnecting:(null===s||void 0===s?void 0:s.nodeId)===e&&(null===s||void 0===s?void 0:s.handleId)===t&&(null===s||void 0===s?void 0:s.type)===n}})(k,b,n),x);var O,A;k||(null===(O=(A=_.getState()).onError)||void 0===O||O.call(A,"010",_r()));const j=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=_.getState(),o=u(u({},t),e);if(r){const{edges:e,setEdges:t}=_.getState();t(((e,t)=>{if(!e.source||!e.target)return Zr(0,br()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?u({},e):u(u({},e),{},{id:So(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)})(o,e))}null===n||void 0===n||n(o),null===h||void 0===h||h(o)},P=e=>{if(!k)return;const t=Xr(e);i&&(t&&0===e.button||!t)&&Bo({event:e,handleId:b,nodeId:k,onConnect:j,isTarget:w,getState:_.getState,setState:_.setState,isValidConnection:a||_.getState().isValidConnection||Wo}),t?null===g||void 0===g||g(e):null===v||void 0===v||v(e)};return o.createElement("div",u({"data-handleid":b,"data-nodeid":k,"data-handlepos":r,"data-id":"".concat(k,"-").concat(b,"-").concat(n),className:f(["react-flow__handle","react-flow__handle-".concat(r),"nodrag",E,m,{source:!w,target:w,connectable:s,connectablestart:i,connectableend:l,connecting:C,connectionindicator:s&&(i&&!N||l&&N)}]),onMouseDown:P,onTouchStart:P,onClick:S?e=>{const{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:o,connectionMode:s,isValidConnection:l}=_.getState();if(!k||!o&&!i)return;if(!o)return null===t||void 0===t||t(e,{nodeId:k,handleId:b,handleType:n}),void _.setState({connectionClickStartHandle:{nodeId:k,type:n,handleId:b}});const c=Dr(e.target),u=a||l||Wo,{connection:d,isValid:f}=Do({nodeId:k,id:b,type:n},s,o.nodeId,o.handleId||null,o.type,u,c);f&&j(d),null===r||void 0===r||r(e),_.setState({connectionClickStartHandle:null})}:void 0,ref:t},y),p)});qo.displayName="Handle";var Vo=(0,o.memo)(qo);const Zo=e=>{let{data:t,isConnectable:n,targetPosition:r=so.Top,sourcePosition:a=so.Bottom}=e;return o.createElement(o.Fragment,null,o.createElement(Vo,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,o.createElement(Vo,{type:"source",position:a,isConnectable:n}))};Zo.displayName="DefaultNode";var Ko=(0,o.memo)(Zo);const Xo=e=>{let{data:t,isConnectable:n,sourcePosition:r=so.Bottom}=e;return o.createElement(o.Fragment,null,null===t||void 0===t?void 0:t.label,o.createElement(Vo,{type:"source",position:r,isConnectable:n}))};Xo.displayName="InputNode";var $o=(0,o.memo)(Xo);const Yo=e=>{let{data:t,isConnectable:n,targetPosition:r=so.Top}=e;return o.createElement(o.Fragment,null,o.createElement(Vo,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label)};Yo.displayName="OutputNode";var Jo=(0,o.memo)(Yo);const Qo=()=>null;Qo.displayName="GroupNode";const Go=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>u({},e))}),ea=e=>e.id;function ta(e,t){return x(e.selectedNodes.map(ea),t.selectedNodes.map(ea))&&x(e.selectedEdges.map(ea),t.selectedEdges.map(ea))}const na=(0,o.memo)(e=>{let{onSelectionChange:t}=e;const n=Cr(),{selectedNodes:r,selectedEdges:a}=Nr(Go,ta);return(0,o.useEffect)(()=>{const e={nodes:r,edges:a};null===t||void 0===t||t(e),n.getState().onSelectionChange.forEach(t=>t(e))},[r,a,t]),null});na.displayName="SelectionListener";const ra=e=>!!e.onSelectionChange;function oa(e){let{onSelectionChange:t}=e;const n=Nr(ra);return t||n?o.createElement(na,{onSelectionChange:t}):null}const aa=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function sa(e,t){(0,o.useEffect)(()=>{"undefined"!==typeof e&&t(e)},[e])}function ia(e,t,n){(0,o.useEffect)(()=>{"undefined"!==typeof t&&n({[e]:t})},[t])}const la=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:a,onConnect:s,onConnectStart:i,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:d,nodesDraggable:f,nodesConnectable:h,nodesFocusable:p,edgesFocusable:m,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:w,onNodesChange:_,onEdgesChange:k,elementsSelectable:S,connectionMode:E,snapGrid:N,snapToGrid:C,translateExtent:O,connectOnClick:A,defaultEdgeOptions:j,fitView:P,fitViewOptions:R,onNodesDelete:T,onEdgesDelete:I,onNodeDrag:M,onNodeDragStart:L,onNodeDragStop:D,onSelectionDrag:z,onSelectionDragStart:F,onSelectionDragStop:U,noPanClassName:B,nodeOrigin:W,rfId:H,autoPanOnConnect:q,autoPanOnNodeDrag:V,onError:Z,connectionRadius:K,isValidConnection:X,nodeDragThreshold:$}=e;const{setNodes:Y,setEdges:J,setDefaultNodesAndEdges:Q,setMinZoom:G,setMaxZoom:ee,setTranslateExtent:te,setNodeExtent:ne,reset:re}=Nr(aa,x),oe=Cr();return(0,o.useEffect)(()=>{const e=null===a||void 0===a?void 0:a.map(e=>u(u({},e),j));return Q(r,e),()=>{re()}},[]),ia("defaultEdgeOptions",j,oe.setState),ia("connectionMode",E,oe.setState),ia("onConnect",s,oe.setState),ia("onConnectStart",i,oe.setState),ia("onConnectEnd",l,oe.setState),ia("onClickConnectStart",c,oe.setState),ia("onClickConnectEnd",d,oe.setState),ia("nodesDraggable",f,oe.setState),ia("nodesConnectable",h,oe.setState),ia("nodesFocusable",p,oe.setState),ia("edgesFocusable",m,oe.setState),ia("edgesUpdatable",g,oe.setState),ia("elementsSelectable",S,oe.setState),ia("elevateNodesOnSelect",v,oe.setState),ia("snapToGrid",C,oe.setState),ia("snapGrid",N,oe.setState),ia("onNodesChange",_,oe.setState),ia("onEdgesChange",k,oe.setState),ia("connectOnClick",A,oe.setState),ia("fitViewOnInit",P,oe.setState),ia("fitViewOnInitOptions",R,oe.setState),ia("onNodesDelete",T,oe.setState),ia("onEdgesDelete",I,oe.setState),ia("onNodeDrag",M,oe.setState),ia("onNodeDragStart",L,oe.setState),ia("onNodeDragStop",D,oe.setState),ia("onSelectionDrag",z,oe.setState),ia("onSelectionDragStart",F,oe.setState),ia("onSelectionDragStop",U,oe.setState),ia("noPanClassName",B,oe.setState),ia("nodeOrigin",W,oe.setState),ia("rfId",H,oe.setState),ia("autoPanOnConnect",q,oe.setState),ia("autoPanOnNodeDrag",V,oe.setState),ia("onError",Z,oe.setState),ia("connectionRadius",K,oe.setState),ia("isValidConnection",X,oe.setState),ia("nodeDragThreshold",$,oe.setState),sa(t,Y),sa(n,J),sa(y,G),sa(b,ee),sa(O,te),sa(w,ne),null},ca={display:"none"},ua={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},da="react-flow__node-desc",fa="react-flow__edge-desc",ha=e=>e.ariaLiveMessage;function pa(e){let{rfId:t}=e;const n=Nr(ha);return o.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:ua},n)}function ma(e){let{rfId:t,disableKeyboardA11y:n}=e;return o.createElement(o.Fragment,null,o.createElement("div",{id:"".concat(da,"-").concat(t),style:ca},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:"".concat(fa,"-").concat(t),style:ca},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&o.createElement(pa,{rfId:t}))}var ga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[n,r]=(0,o.useState)(!1),a=(0,o.useRef)(!1),s=(0,o.useRef)(new Set([])),[i,l]=(0,o.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,o.useEffect)(()=>{const n="undefined"!==typeof document?document:null,o=(null===t||void 0===t?void 0:t.target)||n;if(null!==e){const e=e=>{a.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Kr(e))return!1;const n=ya(e.code,l);s.current.add(e[n]),va(i,s.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Kr(e))return!1;const n=ya(e.code,l);va(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(e[n]),"Meta"===e.key&&s.current.clear(),a.current=!1},c=()=>{s.current.clear(),r(!1)};return null===o||void 0===o||o.addEventListener("keydown",e),null===o||void 0===o||o.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{null===o||void 0===o||o.removeEventListener("keydown",e),null===o||void 0===o||o.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}},[e,r]),n};function va(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function ya(e,t){return t.includes(e)?"code":"key"}function ba(e,t,n,r){var o,a,s,i,l,c,u,d;const f=e.parentNode||e.parentId;if(!f)return n;const h=t.get(f),p=Oo(h,r);return ba(h,t,{x:(null!==(o=n.x)&&void 0!==o?o:0)+p.x,y:(null!==(a=n.y)&&void 0!==a?a:0)+p.y,z:(null!==(s=null===(i=h[qr])||void 0===i?void 0:i.z)&&void 0!==s?s:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(u=h[qr])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},r)}function wa(e,t,n){e.forEach(r=>{const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error("Parent node ".concat(o," not found"));if(o||null!==n&&void 0!==n&&n[r.id]){var a,s;const{x:o,y:i,z:l}=ba(r,e,u(u({},r.position),{},{z:null!==(a=null===(s=r[qr])||void 0===s?void 0:s.z)&&void 0!==a?a:0}),t);r.positionAbsolute={x:o,y:i},r[qr].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[qr].isParent=!0)}})}function xa(e,t,n,r){const o=new Map,a={},s=r?1e3:0;return e.forEach(e=>{var n;const r=(Hr(e.zIndex)?e.zIndex:0)+(e.selected?s:0),i=t.get(e.id),l=u(u({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),c=e.parentNode||e.parentId;c&&(a[c]=!0);const d=(null===i||void 0===i?void 0:i.type)&&(null===i||void 0===i?void 0:i.type)!==e.type;Object.defineProperty(l,qr,{enumerable:!1,value:{handleBounds:d||null===i||void 0===i||null===(n=i[qr])||void 0===n?void 0:n.handleBounds,z:r}}),o.set(e.id,l)}),wa(o,n,a),o}function _a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:o,minZoom:a,maxZoom:s,d3Zoom:i,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!c&&u;if(i&&l&&(f||!t.initial)){const e=n().filter(e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some(t=>t.id===e.id):r}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var h,p,m;const n=Ao(e,d),{x:c,y:u,zoom:f}=Ro(n,r,o,null!==(h=t.minZoom)&&void 0!==h?h:a,null!==(p=t.maxZoom)&&void 0!==p?p:s,null!==(m=t.padding)&&void 0!==m?m:.1),g=Xn.translate(c,u).scale(f);return"number"===typeof t.duration&&t.duration>0?i.transform(To(l,t.duration),g):i.transform(l,g),!0}}return!1}function ka(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,u(u({},n),{},{[qr]:n[qr],selected:e.selected}))}),new Map(t)}function Sa(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function Ea(e){let{changedNodes:t,changedEdges:n,get:r,set:o}=e;const{nodeInternals:a,edges:s,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();null!==t&&void 0!==t&&t.length&&(c&&o({nodeInternals:ka(t,a)}),null===i||void 0===i||i(t)),null!==n&&void 0!==n&&n.length&&(u&&o({edges:Sa(n,s)}),null===l||void 0===l||l(n))}const Na=()=>{},Ca={zoomIn:Na,zoomOut:Na,zoomTo:Na,getZoom:()=>1,setViewport:Na,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Na,fitBounds:Na,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Oa=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function Aa(){const e=(()=>{const e=Cr(),{d3Zoom:t,d3Selection:n}=Nr(Oa,x),r=(0,o.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(To(n,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(To(n,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(To(n,null===r||void 0===r?void 0:r.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,o)=>{var a,s,i;const[l,c,u]=e.getState().transform,d=Xn.translate(null!==(a=r.x)&&void 0!==a?a:l,null!==(s=r.y)&&void 0!==s?s:c).scale(null!==(i=r.zoom)&&void 0!==i?i:u);t.transform(To(n,null===o||void 0===o?void 0:o.duration),d)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>_a(e.getState,t),setCenter:(r,o,a)=>{const{width:s,height:i,maxZoom:l}=e.getState(),c="undefined"!==typeof(null===a||void 0===a?void 0:a.zoom)?a.zoom:l,u=s/2-r*c,d=i/2-o*c,f=Xn.translate(u,d).scale(c);t.transform(To(n,null===a||void 0===a?void 0:a.duration),f)},fitBounds:(r,o)=>{var a;const{width:s,height:i,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:f}=Ro(r,s,i,l,c,null!==(a=null===o||void 0===o?void 0:o.padding)&&void 0!==a?a:.1),h=Xn.translate(u,d).scale(f);t.transform(To(n,null===o||void 0===o?void 0:o.duration),h)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),No(t,n,r,o)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:i}=a.getBoundingClientRect(),l={x:t.x-s,y:t.y-i};return No(l,n,r,o)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:a}=r.getBoundingClientRect(),s=Co(t,n);return{x:s.x+o,y:s.y+a}},viewportInitialized:!0}:Ca,[t,n]);return r})(),t=Cr(),n=(0,o.useCallback)(()=>t.getState().getNodes().map(e=>u({},e)),[]),r=(0,o.useCallback)(e=>t.getState().nodeInternals.get(e),[]),a=(0,o.useCallback)(()=>{const{edges:e=[]}=t.getState();return e.map(e=>u({},e))},[]),s=(0,o.useCallback)(e=>{const{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),i=(0,o.useCallback)(e=>{const{getNodes:n,setNodes:r,hasDefaultNodes:o,onNodesChange:a}=t.getState(),s=n(),i="function"===typeof e?e(s):e;if(o)r(i);else if(a){const e=0===i.length?s.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"}));a(e)}},[]),l=(0,o.useCallback)(e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:a}=t.getState(),s="function"===typeof e?e(n):e;if(o)r(s);else if(a){a(0===s.length?n.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"})))}},[]),c=(0,o.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:a,onNodesChange:s}=t.getState();if(a){o([...r(),...n])}else if(s){const e=n.map(e=>({item:e,type:"add"}));s(e)}},[]),d=(0,o.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:a,onEdgesChange:s}=t.getState();if(a)o([...r,...n]);else if(s){s(n.map(e=>({item:e,type:"add"})))}},[]),f=(0,o.useCallback)(()=>{const{getNodes:e,edges:n=[],transform:r}=t.getState(),[o,a,s]=r;return{nodes:e().map(e=>u({},e)),edges:n.map(e=>u({},e)),viewport:{x:o,y:a,zoom:s}}},[]),h=(0,o.useCallback)(e=>{let{nodes:n,edges:r}=e;const{nodeInternals:o,getNodes:a,edges:s,hasDefaultNodes:i,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:f}=t.getState(),h=(n||[]).map(e=>e.id),p=(r||[]).map(e=>e.id),m=a().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e},[]),g=s.filter(e=>"boolean"!==typeof e.deletable||e.deletable),v=g.filter(e=>p.includes(e.id));if(m||v){const e=Po(m,g),n=[...v,...e],r=n.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||i)&&(l&&t.setState({edges:s.filter(e=>!r.includes(e.id))}),i&&(m.forEach(e=>{o.delete(e.id)}),t.setState({nodeInternals:new Map(o)}))),r.length>0&&(null===u||void 0===u||u(n),f&&f(r.map(e=>({id:e,type:"remove"})))),m.length>0&&(null===c||void 0===c||c(m),d)){const e=m.map(e=>({id:e.id,type:"remove"}));d(e)}}},[]),p=(0,o.useCallback)(e=>{const n=Hr((r=e).width)&&Hr(r.height)&&Hr(r.x)&&Hr(r.y);var r;const o=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!o)return[null,null,n];return[n?e:Br(o),o,n]},[]),m=(0,o.useCallback)(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[o,a,s]=p(e);return o?(r||t.getState().getNodes()).filter(e=>{if(!s&&(e.id===a.id||!e.positionAbsolute))return!1;const t=Br(e),r=Wr(t,o);return n&&r>0||r>=o.width*o.height}):[]},[]),g=(0,o.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=p(e);if(!r)return!1;const o=Wr(r,t);return n&&o>0||o>=r.width*r.height},[]);return(0,o.useMemo)(()=>u(u({},e),{},{getNodes:n,getNode:r,getEdges:a,getEdge:s,setNodes:i,setEdges:l,addNodes:c,addEdges:d,toObject:f,deleteElements:h,getIntersectingNodes:m,isNodeIntersecting:g}),[e,n,r,a,s,i,l,c,d,f,h,m,g])}const ja={actInsideInputWithModifier:!1};const Pa={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ra=e=>({x:e.x,y:e.y,zoom:e.k}),Ta=(e,t)=>e.target.closest(".".concat(t)),Ia=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Ma=e=>{const t=e.ctrlKey&&Yr()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},La=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Da=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:a,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=no.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:h=!0,defaultViewport:p,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:b=!0,children:w,noWheelClassName:_,noPanClassName:k}=e;const S=(0,o.useRef)(),E=Cr(),N=(0,o.useRef)(!1),C=(0,o.useRef)(!1),O=(0,o.useRef)(null),A=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:P,d3ZoomHandler:R,userSelectionActive:T}=Nr(La,x),I=ga(y),M=(0,o.useRef)(0),L=(0,o.useRef)(!1),D=(0,o.useRef)();return function(e){const t=Cr();(0,o.useEffect)(()=>{let n;const r=()=>{if(!e.current)return;const n=Rr(e.current);var r,o;0!==n.height&&0!==n.width||null===(r=(o=t.getState()).onError)||void 0===r||r.call(o,"004",vr()),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(O),(0,o.useEffect)(()=>{if(O.current){const e=O.current.getBoundingClientRect(),t=rr().scaleExtent([g,v]).translateExtent(m),n=Be(O.current).call(t),r=Xn.translate(p.x,p.y).scale(Tr(p.zoom,g,v)),o=[[0,0],[e.width,e.height]],a=t.constrain()(r,o,m);t.transform(n,a),t.wheelDelta(Ma),E.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:O.current.closest(".react-flow")})}},[]),(0,o.useEffect)(()=>{P&&j&&(!l||I||T?"undefined"!==typeof R&&P.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||Ta(e,_))return null;e.preventDefault(),R.call(this,e,t)},{passive:!1}):P.on("wheel.zoom",e=>{if(Ta(e,_))return!1;e.preventDefault(),e.stopImmediatePropagation();const o=P.property("__zoom").k||1;if(e.ctrlKey&&i){const t=Ye(e),n=Ma(e),r=o*Math.pow(2,n);return void j.scaleTo(P,r,t,e)}const a=1===e.deltaMode?20:1;let s=u===no.Vertical?0:e.deltaX*a,l=u===no.Horizontal?0:e.deltaY*a;!Yr()&&e.shiftKey&&u!==no.Vertical&&(s=e.deltaY*a,l=0),j.translateBy(P,-s/o*c,-l/o*c,{internal:!0});const d=Ra(P.property("__zoom")),{onViewportChangeStart:f,onViewportChange:h,onViewportChangeEnd:p}=E.getState();clearTimeout(D.current),L.current||(L.current=!0,null===n||void 0===n||n(e,d),null===f||void 0===f||f(d)),L.current&&(null===t||void 0===t||t(e,d),null===h||void 0===h||h(d),D.current=setTimeout(()=>{null===r||void 0===r||r(e,d),null===p||void 0===p||p(d),L.current=!1},150))},{passive:!1}))},[T,l,u,P,j,R,I,i,b,_,n,t,r]),(0,o.useEffect)(()=>{j&&j.on("start",e=>{var t,r;if(!e.sourceEvent||e.sourceEvent.internal)return null;M.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:o}=E.getState(),a=Ra(e.transform);N.current=!0,A.current=a,"mousedown"===(null===(r=e.sourceEvent)||void 0===r?void 0:r.type)&&E.setState({paneDragging:!0}),null===o||void 0===o||o(a),null===n||void 0===n||n(e.sourceEvent,a)})},[j,n]),(0,o.useEffect)(()=>{j&&(T&&!N.current?j.on("zoom",null):T||j.on("zoom",e=>{var n,r;const{onViewportChange:o}=E.getState();if(E.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),C.current=!(!a||!Ia(h,null!==(n=M.current)&&void 0!==n?n:0)),(t||o)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const n=Ra(e.transform);null===o||void 0===o||o(n),null===t||void 0===t||t(e.sourceEvent,n)}}))},[T,j,t,h,a]),(0,o.useEffect)(()=>{j&&j.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),a&&Ia(h,null!==(t=M.current)&&void 0!==t?t:0)&&!C.current&&a(e.sourceEvent),C.current=!1,(r||n)&&(o=A.current,s=e.transform,o.x!==s.x||o.y!==s.y||o.zoom!==s.k)){const t=Ra(e.transform);A.current=t,clearTimeout(S.current),S.current=setTimeout(()=>{null===n||void 0===n||n(t),null===r||void 0===r||r(e.sourceEvent,t)},l?150:0)}var o,s})},[j,l,h,r,a]),(0,o.useEffect)(()=>{j&&j.filter(e=>{const t=I||s,n=i&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(Ta(e,"react-flow__node")||Ta(e,"react-flow__edge")))return!0;if(!h&&!t&&!l&&!d&&!i)return!1;if(T)return!1;if(!d&&"dblclick"===e.type)return!1;if(Ta(e,_)&&"wheel"===e.type)return!1;if(Ta(e,k)&&("wheel"!==e.type||l&&"wheel"===e.type&&!I))return!1;if(!i&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!h&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[T,j,s,i,l,d,h,f,I]),o.createElement("div",{className:"react-flow__renderer",ref:O,style:Pa},w)},za=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Fa(){const{userSelectionActive:e,userSelectionRect:t}=Nr(za,x);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}function Ua(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var o,a;if(r.style=u({},r.style)||{},r.style.width=null!==(o=r.style.width)&&void 0!==o?o:r.width,r.style.height=null!==(a=r.style.height)&&void 0!==a?a:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Ba(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const o=u({},n);for(const e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(o.position=e.position),"undefined"!==typeof e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(o.dragging=e.dragging),o.expandParent&&Ua(t,o);break;case"dimensions":"undefined"!==typeof e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(o.style=u(u({},o.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&Ua(t,o);break;case"remove":return t}return t.push(o),t},n)}function Wa(e,t){return Ba(e,t)}const Ha=(e,t)=>({id:e,type:"select",selected:t});function qa(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(Ha(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(Ha(n.id,!1))),e},[])}const Va=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Za=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ka=(0,o.memo)(e=>{let{isSelecting:t,selectionMode:n=ro.Full,panOnDrag:r,onSelectionStart:a,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:p,children:m}=e;const g=(0,o.useRef)(null),v=Cr(),y=(0,o.useRef)(0),b=(0,o.useRef)(0),w=(0,o.useRef)(),{userSelectionActive:_,elementsSelectable:k,dragging:S}=Nr(Za,x),E=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,b.current=0},N=e=>{null===i||void 0===i||i(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},C=c?e=>c(e):void 0,O=k&&(t||_);return o.createElement("div",{className:f(["react-flow__pane",{dragging:S,selection:t}]),onClick:O?void 0:Va(N,g),onContextMenu:Va(e=>{Array.isArray(r)&&null!==r&&void 0!==r&&r.includes(2)?e.preventDefault():null===l||void 0===l||l(e)},g),onWheel:Va(C,g),onMouseEnter:O?void 0:d,onMouseDown:O?e=>{const{resetSelectedElements:n,domNode:r}=v.getState();if(w.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!k||!t||0!==e.button||e.target!==g.current||!w.current)return;const{x:o,y:s}=$r(e,w.current);n(),v.setState({userSelectionRect:{width:0,height:0,startX:o,startY:s,x:o,y:s}}),null===a||void 0===a||a(e)}:void 0,onMouseMove:O?e=>{var r,o;const{userSelectionRect:a,nodeInternals:s,edges:i,transform:l,onNodesChange:c,onEdgesChange:d,nodeOrigin:f,getNodes:h}=v.getState();if(!t||!w.current||!a)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const p=$r(e,w.current),m=null!==(r=a.startX)&&void 0!==r?r:0,g=null!==(o=a.startY)&&void 0!==o?o:0,x=u(u({},a),{},{x:p.x<m?p.x:m,y:p.y<g?p.y:g,width:Math.abs(p.x-m),height:Math.abs(p.y-g)}),_=h(),k=jo(s,x,l,n===ro.Partial,!0,f),S=Po(k,i).map(e=>e.id),E=k.map(e=>e.id);if(y.current!==E.length){y.current=E.length;const e=qa(_,E);e.length&&(null===c||void 0===c||c(e))}if(b.current!==S.length){b.current=S.length;const e=qa(i,S);e.length&&(null===d||void 0===d||d(e))}v.setState({userSelectionRect:x})}:h,onMouseUp:O?e=>{if(0!==e.button)return;const{userSelectionRect:t}=v.getState();!_&&t&&e.target===g.current&&(null===N||void 0===N||N(e)),v.setState({nodesSelectionActive:y.current>0}),E(),null===s||void 0===s||s(e)}:void 0,onMouseLeave:O?e=>{_&&(v.setState({nodesSelectionActive:y.current>0}),null===s||void 0===s||s(e)),E()}:p,ref:g,style:Pa},m,o.createElement(Fa,null))});function Xa(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||Xa(r,t))}function $a(e,t,n){let r=e;do{var o;if(null!==(o=r)&&void 0!==o&&o.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Ya(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!Xa(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,r,o,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(o=null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)&&void 0!==o?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function Ja(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],a=arguments.length>5?arguments[5]:void 0;const s=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let i=s;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:a}=Oo(t,o).positionAbsolute;i=[[e.extent[0][0]+r,e.extent[0][1]+a],[e.extent[1][0]+r,e.extent[1][1]+a]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:a}=Oo(t,o).positionAbsolute;i=t&&Hr(r)&&Hr(a)&&Hr(t.width)&&Hr(t.height)?[[r+e.width*o[0],a+e.height*o[1]],[r+t.width-e.width+e.width*o[0],a+t.height-e.height+e.height*o[1]]]:i}else null===a||void 0===a||a("005",yr()),i=s;let c={x:0,y:0};if(l){const e=n.get(l);c=Oo(e,o).positionAbsolute}const u=i&&"parent"!==i?Ir(t,i):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function Qa(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const o=n.map(e=>u(u({},r.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute}));return[t?o.find(e=>e.id===t):o[0],o]}Ka.displayName="Pane";const Ga=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),s=t.getBoundingClientRect(),i=s.width*r[0],l=s.height*r[1];return a.map(e=>{const t=e.getBoundingClientRect();return u({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-s.left-i)/n,y:(t.top-s.top-l)/n},Rr(e))})};function es(e,t,n){return void 0===n?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,u({},o))}}function ts(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.blur()})):a([t])):null===c||void 0===c||c("012",Sr(t))}function ns(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function rs(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:s,isSelectable:i,selectNodesOnDrag:l}=e;const c=Cr(),[d,f]=(0,o.useState)(!1),h=(0,o.useRef)([]),p=(0,o.useRef)({x:null,y:null}),m=(0,o.useRef)(0),g=(0,o.useRef)(null),v=(0,o.useRef)({x:0,y:0}),y=(0,o.useRef)(null),b=(0,o.useRef)(!1),w=(0,o.useRef)(!1),x=(0,o.useRef)(!1),_=function(){const e=Cr(),t=(0,o.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:o,snapToGrid:a}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return u({xSnapped:a?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:a?o[1]*Math.round(l.y/o[1]):l.y},l)},[]);return t}();return(0,o.useEffect)(()=>{if(null!==t&&void 0!==t&&t.current){const e=Be(t.current),o=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:o,onSelectionDrag:a,updateNodePositions:i,nodeExtent:l,snapGrid:u,snapToGrid:d,nodeOrigin:m,onError:g}=c.getState();p.current={x:t,y:n};let v=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=Ao(h.current,m);b=Fr(e)}if(h.current=h.current.map(e=>{const o={x:t-e.distance.x,y:n-e.distance.y};d&&(o.x=u[0]*Math.round(o.x/u[0]),o.y=u[1]*Math.round(o.y/u[1]));const a=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var s,i;h.current.length>1&&l&&!e.extent&&(a[0][0]=e.positionAbsolute.x-b.x+l[0][0],a[1][0]=e.positionAbsolute.x+(null!==(s=e.width)&&void 0!==s?s:0)-b.x2+l[1][0],a[0][1]=e.positionAbsolute.y-b.y+l[0][1],a[1][1]=e.positionAbsolute.y+(null!==(i=e.height)&&void 0!==i?i:0)-b.y2+l[1][1]);const c=Ja(e,o,r,a,m,g);return v=v||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e}),!v)return;i(h.current,!0,!0),f(!0);const w=s?o:ns(a);if(w&&y.current){const[e,t]=Qa({nodeId:s,dragItems:h.current,nodeInternals:r});w(y.current,e,t)}},u=()=>{if(!g.current)return;const[e,t]=Lr(v.current,g.current);if(0!==e||0!==t){var n,r;const{transform:a,panBy:s}=c.getState();p.current.x=(null!==(n=p.current.x)&&void 0!==n?n:0)-e/a[2],p.current.y=(null!==(r=p.current.y)&&void 0!==r?r:0)-t/a[2],s({x:e,y:t})&&o(p.current)}m.current=requestAnimationFrame(u)},d=e=>{const{nodeInternals:n,multiSelectionActive:r,nodesDraggable:o,unselectNodesAndEdges:a,onNodeDragStart:u,onSelectionDragStart:d}=c.getState();w.current=!0;const f=s?u:ns(d);var m;l&&i||r||!s||(null!==(m=n.get(s))&&void 0!==m&&m.selected||a());s&&i&&l&&ts({id:s,store:c,nodeRef:t});const g=_(e);if(p.current=g,h.current=Ya(n,o,g,s),f&&h.current){const[t,r]=Qa({nodeId:s,dragItems:h.current,nodeInternals:n});f(e.sourceEvent,t,r)}};if(!n){const n=function(){var e,t,n,r,o=sr,a=ir,s=lr,i=cr,l={},c=C("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",h).filter(i).on("touchstart.drag",g).on("touchmove.drag",v,We).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(s,i){if(!r&&o.call(this,s,i)){var l=b(this,a.call(this,s,i),s,i,"mouse");l&&(Be(s.view).on("mousemove.drag",p,He).on("mouseup.drag",m,He),Ze(s.view),qe(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function p(r){if(Ve(r),!n){var o=r.clientX-e,a=r.clientY-t;n=o*o+a*a>d}l.mouse("drag",r)}function m(e){Be(e.view).on("mousemove.drag mouseup.drag",null),Ke(e.view,n),Ve(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,s=e.changedTouches,i=a.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=b(this,i,e,t,s[n].identifier,s[n]))&&(qe(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(Ve(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,a=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<a;++t)(n=l[o[t].identifier])&&(qe(e),n("end",e,o[t]))}function b(e,t,n,r,o,a){var i,d,h,p=c.copy(),m=Ye(a||n,t);if(null!=(h=s.call(e,new ar("beforestart",{sourceEvent:n,target:f,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return i=h.x-m[0]||0,d=h.y-m[1]||0,function n(a,s,c){var g,v=m;switch(a){case"start":l[o]=n,g=u++;break;case"end":delete l[o],--u;case"drag":m=Ye(c||s,t),g=u}p.call(a,e,new ar(a,{sourceEvent:s,subject:h,target:f,identifier:o,active:g,x:m[0]+i,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(o="function"===typeof e?e:or(!!e),f):o},f.container=function(e){return arguments.length?(a="function"===typeof e?e:or(e),f):a},f.subject=function(e){return arguments.length?(s="function"===typeof e?e:or(e),f):s},f.touchable=function(e){return arguments.length?(i="function"===typeof e?e:or(!!e),f):i},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&d(e),x.current=!1;const r=_(e);p.current=r,g.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,v.current=$r(e.sourceEvent,g.current)}).on("drag",e=>{const t=_(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!b.current&&w.current&&n&&(b.current=!0,u()),!w.current){var a,s,i,l;const n=t.xSnapped-(null!==(a=null===p||void 0===p||null===(s=p.current)||void 0===s?void 0:s.x)&&void 0!==a?a:0),o=t.ySnapped-(null!==(i=null===p||void 0===p||null===(l=p.current)||void 0===l?void 0:l.y)&&void 0!==i?i:0);Math.sqrt(n*n+o*o)>r&&d(e)}(p.current.x!==t.xSnapped||p.current.y!==t.ySnapped)&&h.current&&w.current&&(y.current=e.sourceEvent,v.current=$r(e.sourceEvent,g.current),o(t))}}).on("end",e=>{if(w.current&&!x.current&&(f(!1),b.current=!1,w.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=c.getState(),a=s?r:ns(o);if(t(h.current,!1,!1),a){const[t,r]=Qa({nodeId:s,dragItems:h.current,nodeInternals:n});a(e.sourceEvent,t,r)}}}).filter(e=>{const n=e.target;return!e.button&&(!r||!$a(n,".".concat(r),t))&&(!a||$a(n,a,t))});return e.call(n),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[t,n,r,a,i,c,s,l,_]),d}function os(){const e=Cr(),t=(0,o.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:a,snapToGrid:s,snapGrid:i,onError:l,nodesDraggable:c}=e.getState(),u=a().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),d=s?i[0]:5,f=s?i[1]:5,h=t.isShiftPressed?4:1,p=t.x*d*h,m=t.y*f*h,g=u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};s&&(t.x=i[0]*Math.round(t.x/i[0]),t.y=i[1]*Math.round(t.y/i[1]));const{positionAbsolute:o,position:a}=Ja(e,t,n,r,void 0,l);e.position=a,e.positionAbsolute=o}return e});o(g,!0,!1)},[]);return t}const as={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ss=e=>{const t=t=>{let{id:n,type:r,data:a,xPos:s,yPos:i,xPosOrigin:l,yPosOrigin:c,selected:d,onClick:h,onMouseEnter:p,onMouseMove:m,onMouseLeave:g,onContextMenu:v,onDoubleClick:y,style:b,className:w,isDraggable:x,isSelectable:_,isConnectable:k,isFocusable:S,selectNodesOnDrag:E,sourcePosition:N,targetPosition:C,hidden:O,resizeObserver:A,dragHandle:j,zIndex:P,isParent:R,noDragClassName:T,noPanClassName:I,initialized:M,disableKeyboardA11y:L,ariaLabel:D,rfId:z,hasHandleBounds:F}=t;const U=Cr(),B=(0,o.useRef)(null),W=(0,o.useRef)(null),H=(0,o.useRef)(N),q=(0,o.useRef)(C),V=(0,o.useRef)(r),Z=_||x||h||p||m||g,K=os(),X=es(n,U.getState,p),$=es(n,U.getState,m),Y=es(n,U.getState,g),J=es(n,U.getState,v),Q=es(n,U.getState,y);(0,o.useEffect)(()=>()=>{W.current&&(null===A||void 0===A||A.unobserve(W.current),W.current=null)},[]),(0,o.useEffect)(()=>{if(B.current&&!O){const e=B.current;M&&F&&W.current===e||(W.current&&(null===A||void 0===A||A.unobserve(W.current)),null===A||void 0===A||A.observe(e),W.current=e)}},[O,M,F]),(0,o.useEffect)(()=>{const e=V.current!==r,t=H.current!==N,o=q.current!==C;B.current&&(e||t||o)&&(e&&(V.current=r),t&&(H.current=N),o&&(q.current=C),U.getState().updateNodeDimensions([{id:n,nodeElement:B.current,forceUpdate:!0}]))},[n,r,N,C]);const G=rs({nodeRef:B,disabled:O||!x,noDragClassName:T,handleSelector:j,nodeId:n,isSelectable:_,selectNodesOnDrag:E});return O?null:o.createElement("div",{className:f(["react-flow__node","react-flow__node-".concat(r),{[I]:x},w,{selected:d,selectable:_,parent:R,dragging:G}]),ref:B,style:u({zIndex:P,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:Z?"all":"none",visibility:M?"visible":"hidden"},b),"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:X,onMouseMove:$,onMouseLeave:Y,onContextMenu:J,onClick:e=>{const{nodeDragThreshold:t}=U.getState();if(_&&(!E||!x||t>0)&&ts({id:n,store:U,nodeRef:B}),h){const t=U.getState().nodeInternals.get(n);t&&h(e,u({},t))}},onDoubleClick:Q,onKeyDown:S?e=>{if(!Kr(e)&&!L)if(Vr.includes(e.key)&&_){const t="Escape"===e.key;ts({id:n,store:U,unselect:t,nodeRef:B})}else x&&d&&Object.prototype.hasOwnProperty.call(as,e.key)&&(U.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~s,", y: ").concat(~~i)}),K({x:as[e.key].x,y:as[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":L?void 0:"".concat(da,"-").concat(z),"aria-label":D},o.createElement(ko,{value:n},o.createElement(e,{id:n,data:a,type:r,xPos:s,yPos:i,selected:d,isConnectable:k,sourcePosition:N,targetPosition:C,dragging:G,dragHandle:j,zIndex:P})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const is=e=>{const t=e.getNodes().filter(e=>e.selected);return u(u({},Ao(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var ls=(0,o.memo)(function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}=e;const a=Cr(),{width:s,height:i,x:l,y:c,transformString:u,userSelectionActive:d}=Nr(is,x),h=os(),p=(0,o.useRef)(null);if((0,o.useEffect)(()=>{var e;r||(null===(e=p.current)||void 0===e||e.focus({preventScroll:!0}))},[r]),rs({nodeRef:p}),d||!s||!i)return null;const m=t?e=>{const n=a.getState().getNodes().filter(e=>e.selected);t(e,n)}:void 0;return o.createElement("div",{className:f(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},o.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(as,e.key)&&h({x:as[e.key].x,y:as[e.key].y,isShiftPressed:e.shiftKey})},style:{width:s,height:i,top:c,left:l}}))});const cs=e=>e.nodesSelectionActive,us=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:k,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:O,defaultViewport:A,translateExtent:j,minZoom:P,maxZoom:R,preventScrolling:T,onSelectionContextMenu:I,noWheelClassName:M,noPanClassName:L,disableKeyboardA11y:D}=e;const z=Nr(cs),F=ga(h),U=ga(b),B=U||O,W=U||S,H=F||p&&!0!==B;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const r=Cr(),{deleteElements:a}=Aa(),s=ga(t,ja),i=ga(n);(0,o.useEffect)(()=>{if(s){const{edges:e,getNodes:t}=r.getState(),n=t().filter(e=>e.selected),o=e.filter(e=>e.selected);a({nodes:n,edges:o}),r.setState({nodesSelectionActive:!1})}},[s]),(0,o.useEffect)(()=>{r.setState({multiSelectionActive:i})},[i])})({deleteKeyCode:c,multiSelectionKeyCode:y}),o.createElement(Da,{onMove:u,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:k,panOnScroll:W,panOnScrollSpeed:E,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:!F&&B,defaultViewport:A,translateExtent:j,minZoom:P,maxZoom:R,zoomActivationKeyCode:w,preventScrolling:T,noWheelClassName:M,noPanClassName:L},o.createElement(Ka,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:B,isSelecting:!!H,selectionMode:m},t,z&&o.createElement(ls,{onSelectionContextMenu:I,noPanClassName:L,disableKeyboardA11y:D})))};us.displayName="FlowRenderer";var ds=(0,o.memo)(us);function fs(e){const t={input:ss(e.input||$o),default:ss(e.default||Ko),output:ss(e.output||Jo),group:ss(e.group||Qo)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=ss(e[n]||Ko),t),{});return u(u({},t),n)}const hs=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ps=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:s,onError:i}=Nr(hs,x),l=function(e){const t=Nr((0,o.useCallback)(t=>e?jo(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]));return t}(e.onlyRenderVisibleElements),c=(0,o.useRef)(),u=(0,o.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));s(t)});return c.current=e,e},[]);return(0,o.useEffect)(()=>()=>{var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.disconnect()},[]),o.createElement("div",{className:"react-flow__nodes",style:Pa},l.map(s=>{var l,c,d,f,h,p,m,g;let v=s.type||"default";e.nodeTypes[v]||(null===i||void 0===i||i("003",gr(v)),v="default");const y=e.nodeTypes[v]||e.nodeTypes.default,b=!!(s.draggable||t&&"undefined"===typeof s.draggable),w=!!(s.selectable||a&&"undefined"===typeof s.selectable),x=!!(s.connectable||n&&"undefined"===typeof s.connectable),_=!!(s.focusable||r&&"undefined"===typeof s.focusable),k=e.nodeExtent?Ir(s.positionAbsolute,e.nodeExtent):s.positionAbsolute,S=null!==(l=null===k||void 0===k?void 0:k.x)&&void 0!==l?l:0,E=null!==(c=null===k||void 0===k?void 0:k.y)&&void 0!==c?c:0,N=(e=>{let{x:t,y:n,width:r,height:o,origin:a}=e;return r&&o?a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:n}:{x:t-r*a[0],y:n-o*a[1]}:{x:t,y:n}})({x:S,y:E,width:null!==(d=s.width)&&void 0!==d?d:0,height:null!==(f=s.height)&&void 0!==f?f:0,origin:e.nodeOrigin});return o.createElement(y,{key:s.id,id:s.id,className:s.className,style:s.style,type:v,data:s.data,sourcePosition:s.sourcePosition||so.Bottom,targetPosition:s.targetPosition||so.Top,hidden:s.hidden,xPos:S,yPos:E,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!s.selected,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:_,resizeObserver:u,dragHandle:s.dragHandle,zIndex:null!==(h=null===(p=s[qr])||void 0===p?void 0:p.z)&&void 0!==h?h:0,isParent:!(null===(m=s[qr])||void 0===m||!m.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!s.width&&!!s.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:s.ariaLabel,hasHandleBounds:!(null===(g=s[qr])||void 0===g||!g.handleBounds)})}))};ps.displayName="NodeRenderer";var ms=(0,o.memo)(ps);const gs=(e,t,n)=>n===so.Left?e-t:n===so.Right?e+t:e,vs=(e,t,n)=>n===so.Top?e-t:n===so.Bottom?e+t:e,ys="react-flow__edgeupdater",bs=e=>{let{position:t,centerX:n,centerY:r,radius:a=10,onMouseDown:s,onMouseEnter:i,onMouseOut:l,type:c}=e;return o.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:l,className:f([ys,"".concat(ys,"-").concat(c)]),cx:gs(n,a,t),cy:vs(r,a,t),r:a,stroke:"transparent",fill:"transparent"})},ws=()=>!0;var xs=e=>{const t=t=>{let{id:n,className:r,type:a,data:s,onClick:i,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:y,source:b,target:w,sourceX:x,sourceY:_,targetX:k,targetY:S,sourcePosition:E,targetPosition:N,elementsSelectable:C,hidden:O,sourceHandleId:A,targetHandleId:j,onContextMenu:P,onMouseEnter:R,onMouseMove:T,onMouseLeave:I,reconnectRadius:M,onReconnect:L,onReconnectStart:D,onReconnectEnd:z,markerEnd:F,markerStart:U,rfId:B,ariaLabel:W,isFocusable:H,isReconnectable:q,pathOptions:V,interactionWidth:Z,disableKeyboardA11y:K}=t;const X=(0,o.useRef)(null),[$,Y]=(0,o.useState)(!1),[J,Q]=(0,o.useState)(!1),G=Cr(),ee=(0,o.useMemo)(()=>"url('#".concat(Eo(U,B),"')"),[U,B]),te=(0,o.useMemo)(()=>"url('#".concat(Eo(F,B),"')"),[F,B]);if(O)return null;const ne=Qr(n,G.getState,l),re=Qr(n,G.getState,P),oe=Qr(n,G.getState,R),ae=Qr(n,G.getState,T),se=Qr(n,G.getState,I),ie=(e,t)=>{if(0!==e.button)return;const{edges:r,isValidConnection:o}=G.getState(),a=t?w:b,s=(t?j:A)||null,i=t?"target":"source",l=o||ws,c=t,u=r.find(e=>e.id===n);Q(!0),null===D||void 0===D||D(e,u,i);Bo({event:e,handleId:s,nodeId:a,onConnect:e=>null===L||void 0===L?void 0:L(u,e),isTarget:c,getState:G.getState,setState:G.setState,isValidConnection:l,edgeUpdaterType:i,onReconnectEnd:e=>{Q(!1),null===z||void 0===z||z(e,u,i)}})},le=()=>Y(!0),ce=()=>Y(!1),ue=!C&&!i;return o.createElement("g",{className:f(["react-flow__edge","react-flow__edge-".concat(a),r,{selected:c,animated:u,inactive:ue,updating:$}]),onClick:e=>{const{edges:t,addSelectedEdges:r,unselectNodesAndEdges:o,multiSelectionActive:a}=G.getState(),s=t.find(e=>e.id===n);if(s){var l;if(C)if(G.setState({nodesSelectionActive:!1}),s.selected&&a)o({nodes:[],edges:[s]}),null===(l=X.current)||void 0===l||l.blur();else r([n]);i&&i(e,s)}},onDoubleClick:ne,onContextMenu:re,onMouseEnter:oe,onMouseMove:ae,onMouseLeave:se,onKeyDown:H?e=>{if(!K&&Vr.includes(e.key)&&C){const{unselectNodesAndEdges:r,addSelectedEdges:o,edges:a}=G.getState();var t;if("Escape"===e.key)null===(t=X.current)||void 0===t||t.blur(),r({edges:[a.find(e=>e.id===n)]});else o([n])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===W?void 0:W||"Edge from ".concat(b," to ").concat(w),"aria-describedby":H?"".concat(fa,"-").concat(B):void 0,ref:X},!J&&o.createElement(e,{id:n,source:b,target:w,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,data:s,style:y,sourceX:x,sourceY:_,targetX:k,targetY:S,sourcePosition:E,targetPosition:N,sourceHandleId:A,targetHandleId:j,markerStart:ee,markerEnd:te,pathOptions:V,interactionWidth:Z}),q&&o.createElement(o.Fragment,null,("source"===q||!0===q)&&o.createElement(bs,{position:E,centerX:x,centerY:_,radius:M,onMouseDown:e=>ie(e,!0),onMouseEnter:le,onMouseOut:ce,type:"source"}),("target"===q||!0===q)&&o.createElement(bs,{position:N,centerX:k,centerY:S,radius:M,onMouseDown:e=>ie(e,!1),onMouseEnter:le,onMouseOut:ce,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function _s(e){const t={default:xs(e.default||xo),straight:xs(e.bezier||vo),step:xs(e.step||go),smoothstep:xs(e.step||mo),simplebezier:xs(e.simplebezier||co)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=xs(e[n]||xo),t),{});return u(u({},t),n)}function ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,o=((null===n||void 0===n?void 0:n.y)||0)+t.y,a=(null===n||void 0===n?void 0:n.width)||t.width,s=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case so.Top:return{x:r+a/2,y:o};case so.Right:return{x:r+a,y:o+s/2};case so.Bottom:return{x:r+a/2,y:o+s};case so.Left:return{x:r,y:o+s/2}}}function Ss(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function Es(e){var t,n,r,o,a;const s=(null===e||void 0===e||null===(t=e[qr])||void 0===t?void 0:t.handleBounds)||null,i=s&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)||0,y:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},s,!!i]}const Ns=[{level:0,isMaxLevel:!0,edges:[]}];function Cs(e,t,n){const r=Nr((0,o.useCallback)(n=>e?n.edges.filter(e=>{const r=t.get(e.source),o=t.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:a,targetHeight:s,width:i,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+a),y2:Math.max(t.y+o,n.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Fr({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const o=e.reduce((e,o)=>{const a=Hr(o.zIndex);let s=a?o.zIndex:0;if(n){var i,l;const e=t.get(o.target),n=t.get(o.source),r=o.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(i=n[qr])||void 0===i?void 0:i.z)||0,(null===e||void 0===e||null===(l=e[qr])||void 0===l?void 0:l.z)||0,1e3);s=(a?o.zIndex:0)+(r?c:0)}return e[s]?e[s].push(o):e[s]=[o],r=s>r?s:r,e},{}),a=Object.entries(o).map(e=>{let[t,n]=e;const o=+t;return{edges:n,level:o,isMaxLevel:o===r}});return 0===a.length?Ns:a}(r,t,n)}const Os={[ao.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[ao.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const As=e=>{let{id:t,type:n,color:r,width:a=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const u=function(e){const t=Cr();return(0,o.useMemo)(()=>{var n,r;return Object.prototype.hasOwnProperty.call(Os,e)?Os[e]:(null===(n=(r=t.getState()).onError)||void 0===n||n.call(r,"009",wr(e)),null)},[e])}(n);return u?o.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(a),markerHeight:"".concat(s),viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},o.createElement(u,{color:r,strokeWidth:l})):null},js=e=>{let{defaultColor:t,rfId:n}=e;const r=Nr((0,o.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce((e,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o&&"object"===typeof o){const a=Eo(o,n);r.includes(a)||(e.push(u({id:a,color:o.color||t},o)),r.push(a))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:t,rfId:n}),[t,n]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return o.createElement("defs",null,r.map(e=>o.createElement(As,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};js.displayName="MarkerDefinitions";var Ps=(0,o.memo)(js);const Rs=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ts=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:a,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,children:b,disableKeyboardA11y:w}=e;const{edgesFocusable:_,edgesUpdatable:k,elementsSelectable:S,width:E,height:N,connectionMode:C,nodeInternals:O,onError:A}=Nr(Rs,x),j=Cs(n,O,r);return E?o.createElement(o.Fragment,null,j.map(e=>{let{level:n,edges:r,isMaxLevel:b}=e;return o.createElement("svg",{key:n,style:{zIndex:n},width:E,height:N,className:"react-flow__edges react-flow__container"},b&&o.createElement(Ps,{defaultColor:t,rfId:a}),o.createElement("g",null,r.map(e=>{var t,n;const[r,b,x]=Es(O.get(e.source)),[E,N,j]=Es(O.get(e.target));if(!x||!j)return null;let P=e.type||"default";s[P]||(null===A||void 0===A||A("011",kr(P)),P="default");const R=s[P]||s.default,T=C===to.Strict?N.target:(null!==(t=N.target)&&void 0!==t?t:[]).concat(null!==(n=N.source)&&void 0!==n?n:[]),I=Ss(b.source,e.sourceHandle),M=Ss(T,e.targetHandle),L=(null===I||void 0===I?void 0:I.position)||so.Bottom,D=(null===M||void 0===M?void 0:M.position)||so.Top,z=!!(e.focusable||_&&"undefined"===typeof e.focusable),F=e.reconnectable||e.updatable,U="undefined"!==typeof m&&(F||k&&"undefined"===typeof F);if(!I||!M)return null===A||void 0===A||A("008",xr(I,e)),null;const{sourceX:B,sourceY:W,targetX:H,targetY:q}=((e,t,n,r,o,a)=>{const s=ks(n,e,t),i=ks(a,r,o);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}})(r,I,L,E,M,D);return o.createElement(R,{key:e.id,id:e.id,className:f([e.className,i]),type:P,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:B,sourceY:W,targetX:H,targetY:q,sourcePosition:L,targetPosition:D,elementsSelectable:S,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:h,onEdgeDoubleClick:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,rfId:a,ariaLabel:e.ariaLabel,isFocusable:z,isReconnectable:U,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:w})})))}),b):null};Ts.displayName="EdgeRenderer";var Is=(0,o.memo)(Ts);const Ms=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function Ls(e){let{children:t}=e;const n=Nr(Ms);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}const Ds={[so.Left]:so.Right,[so.Right]:so.Left,[so.Top]:so.Bottom,[so.Bottom]:so.Top},zs=e=>{var t,n,r,a,s,i,l;let{nodeId:c,handleType:d,style:f,type:h=oo.Bezier,CustomComponent:p,connectionStatus:m}=e;const{fromNode:g,handleId:v,toX:y,toY:b,connectionMode:w}=Nr((0,o.useCallback)(e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[c]),x),_=null===g||void 0===g||null===(t=g[qr])||void 0===t?void 0:t.handleBounds;let k=null===_||void 0===_?void 0:_[d];if(w===to.Loose&&(k=k||(null===_||void 0===_?void 0:_["source"===d?"target":"source"])),!g||!k)return null;const S=v?k.find(e=>e.id===v):k[0],E=S?S.x+S.width/2:(null!==(n=g.width)&&void 0!==n?n:0)/2,N=S?S.y+S.height/2:null!==(r=g.height)&&void 0!==r?r:0,C=(null!==(a=null===(s=g.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==a?a:0)+E,O=(null!==(i=null===(l=g.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==i?i:0)+N,A=null===S||void 0===S?void 0:S.position,j=A?Ds[A]:null;if(!A||!j)return null;if(p)return o.createElement(p,{connectionLineType:h,connectionLineStyle:f,fromNode:g,fromHandle:S,fromX:C,fromY:O,toX:y,toY:b,fromPosition:A,toPosition:j,connectionStatus:m});let P="";const R={sourceX:C,sourceY:O,sourcePosition:A,targetX:y,targetY:b,targetPosition:j};return h===oo.Bezier?[P]=wo(R):h===oo.Step?[P]=po(u(u({},R),{},{borderRadius:0})):h===oo.SmoothStep?[P]=po(R):h===oo.SimpleBezier?[P]=lo(R):P="M".concat(C,",").concat(O," ").concat(y,",").concat(b),o.createElement("path",{d:P,fill:"none",className:"react-flow__connection-path",style:f})};zs.displayName="ConnectionLine";const Fs=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Us(e){let{containerStyle:t,style:n,type:r,component:a}=e;const{nodeId:s,handleType:i,nodesConnectable:l,width:c,height:u,connectionStatus:d}=Nr(Fs,x);return!!(s&&i&&c&&l)?o.createElement("svg",{style:t,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:f(["react-flow__connection",d])},o.createElement(zs,{nodeId:s,handleType:i,style:n,type:r,CustomComponent:a,connectionStatus:d}))):null}function Bs(e,t){(0,o.useRef)(null),Cr();return(0,o.useMemo)(()=>t(e),[e])}const Ws=e=>{let{nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:a,onMoveEnd:s,onInit:i,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:k,selectionOnDrag:S,selectionMode:E,multiSelectionKeyCode:N,panActivationKeyCode:C,zoomActivationKeyCode:O,deleteKeyCode:A,onlyRenderVisibleElements:j,elementsSelectable:P,selectNodesOnDrag:R,defaultViewport:T,translateExtent:I,minZoom:M,maxZoom:L,preventScrolling:D,defaultMarkerColor:z,zoomOnScroll:F,zoomOnPinch:U,panOnScroll:B,panOnScrollSpeed:W,panOnScrollMode:H,zoomOnDoubleClick:q,panOnDrag:V,onPaneClick:Z,onPaneMouseEnter:K,onPaneMouseMove:X,onPaneMouseLeave:$,onPaneScroll:Y,onPaneContextMenu:J,onEdgeContextMenu:Q,onEdgeMouseEnter:G,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ae,noDragClassName:se,noWheelClassName:ie,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:he}=e;const pe=Bs(t,fs),me=Bs(n,_s);return function(e){const t=Aa(),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(i),o.createElement(ds,{onPaneClick:Z,onPaneMouseEnter:K,onPaneMouseMove:X,onPaneMouseLeave:$,onPaneContextMenu:J,onPaneScroll:Y,deleteKeyCode:A,selectionKeyCode:k,selectionOnDrag:S,selectionMode:E,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:C,zoomActivationKeyCode:O,elementsSelectable:P,onMove:r,onMoveStart:a,onMoveEnd:s,zoomOnScroll:F,zoomOnPinch:U,zoomOnDoubleClick:q,panOnScroll:B,panOnScrollSpeed:W,panOnScrollMode:H,panOnDrag:V,defaultViewport:T,translateExtent:I,minZoom:M,maxZoom:L,onSelectionContextMenu:g,preventScrolling:D,noDragClassName:se,noWheelClassName:ie,noPanClassName:le,disableKeyboardA11y:ue},o.createElement(Ls,null,o.createElement(Is,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:j,onEdgeContextMenu:Q,onEdgeMouseEnter:G,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ae,defaultMarkerColor:z,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:he},o.createElement(Us,{style:w,type:b,component:x,containerStyle:_})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(ms,{nodeTypes:pe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:R,onlyRenderVisibleElements:j,noPanClassName:le,noDragClassName:se,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:he})))};Ws.displayName="GraphView";var Hs=(0,o.memo)(Ws);const qs=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Vs={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:qs,nodeExtent:qs,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:to.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Zr,isValidConnection:void 0},Zs=()=>{return e=(e,t)=>u(u({},Vs),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:a}=t();e({nodeInternals:xa(n,r,o,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>u(u({},r),e))})},setDefaultNodesAndEdges:(n,r)=>{const o="undefined"!==typeof n,a="undefined"!==typeof r,s=o?xa(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:a?r:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:l,nodeOrigin:c}=t(),d=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((e,t)=>{const n=o.get(t.id);if(null!==n&&void 0!==n&&n.hidden)o.set(n.id,u(u({},n),{},{[qr]:u(u({},n[qr]),{},{handleBounds:void 0})}));else if(n){const r=Rr(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,u(u({},n),{},{[qr]:u(u({},n[qr]),{},{handleBounds:{source:Ga(".source",t.nodeElement,h,c),target:Ga(".target",t.nodeElement,h,c)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);wa(o,c);const m=s||a&&!s&&_a(t,u({initial:!0},i));e({nodeInternals:new Map(o),fitViewOnInitDone:m}),(null===p||void 0===p?void 0:p.length)>0&&(null===r||void 0===r||r(p))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:o}=t(),a=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});o(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:a,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(a){const t=xa(Wa(n,i()),o,s,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:a}=t();let s,i=null;r?s=n.map(e=>Ha(e,!0)):(s=qa(a(),n),i=qa(o,[])),Ea({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:a}=t();let s,i=null;r?s=n.map(e=>Ha(e,!0)):(s=qa(o,n),i=qa(a(),[])),Ea({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:o,getNodes:a}=t(),s=r||o,i=(n||a()).map(e=>(e.selected=!1,Ha(e.id,!1)));Ea({changedNodes:i,changedEdges:s.map(e=>Ha(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();null===r||void 0===r||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();null===r||void 0===r||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(e=>e.selected).map(e=>Ha(e.id,!1)),a=n.filter(e=>e.selected).map(e=>Ha(e.id,!1));Ea({changedNodes:o,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=Ir(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:o,d3Zoom:a,d3Selection:s,translateExtent:i}=t();if(!a||!s||!e.x&&!e.y)return!1;const l=Xn.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,o]],u=null===a||void 0===a?void 0:a.constrain()(l,c,i);return a.transform(s,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:Vs.connectionNodeId,connectionHandleId:Vs.connectionHandleId,connectionHandleType:Vs.connectionHandleType,connectionStatus:Vs.connectionStatus,connectionStartHandle:Vs.connectionStartHandle,connectionEndHandle:Vs.connectionEndHandle}),reset:()=>e(u({},Vs))}),t=Object.is,e?w(e,t):w;var e,t},Ks=e=>{let{children:t}=e;const n=(0,o.useRef)(null);return n.current||(n.current=Zs()),o.createElement(mr,{value:n.current},t)};Ks.displayName="ReactFlowProvider";const Xs=e=>{let{children:t}=e;return(0,o.useContext)(pr)?o.createElement(o.Fragment,null,t):o.createElement(Ks,null,t)};Xs.displayName="ReactFlowWrapper";const $s={input:$o,default:Ko,output:Jo,group:Qo},Ys={default:xo,straight:vo,step:go,smoothstep:mo,simplebezier:co},Js=[0,0],Qs=[15,15],Gs={x:0,y:0,zoom:1},ei={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ti=(0,o.forwardRef)((e,t)=>{let{nodes:n,edges:r,defaultNodes:a,defaultEdges:s,className:i,nodeTypes:l=$s,edgeTypes:c=Ys,onNodeClick:h,onEdgeClick:p,onInit:m,onMove:g,onMoveStart:v,onMoveEnd:y,onConnect:b,onConnectStart:w,onConnectEnd:x,onClickConnectStart:_,onClickConnectEnd:k,onNodeMouseEnter:S,onNodeMouseMove:E,onNodeMouseLeave:N,onNodeContextMenu:C,onNodeDoubleClick:O,onNodeDragStart:A,onNodeDrag:j,onNodeDragStop:P,onNodesDelete:R,onEdgesDelete:T,onSelectionChange:I,onSelectionDragStart:M,onSelectionDrag:L,onSelectionDragStop:D,onSelectionContextMenu:z,onSelectionStart:F,onSelectionEnd:U,connectionMode:B=to.Strict,connectionLineType:W=oo.Bezier,connectionLineStyle:H,connectionLineComponent:q,connectionLineContainerStyle:V,deleteKeyCode:Z="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:X=!1,selectionMode:$=ro.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:J=(Yr()?"Meta":"Control"),zoomActivationKeyCode:Q=(Yr()?"Meta":"Control"),snapToGrid:G=!1,snapGrid:ee=Qs,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ne=!0,nodesDraggable:re,nodesConnectable:oe,nodesFocusable:ae,nodeOrigin:se=Js,edgesFocusable:ie,edgesUpdatable:le,elementsSelectable:ce,defaultViewport:ue=Gs,minZoom:de=.5,maxZoom:fe=2,translateExtent:he=qs,preventScrolling:pe=!0,nodeExtent:me,defaultMarkerColor:ge="#b1b1b7",zoomOnScroll:ve=!0,zoomOnPinch:ye=!0,panOnScroll:be=!1,panOnScrollSpeed:we=.5,panOnScrollMode:xe=no.Free,zoomOnDoubleClick:_e=!0,panOnDrag:ke=!0,onPaneClick:Se,onPaneMouseEnter:Ee,onPaneMouseMove:Ne,onPaneMouseLeave:Ce,onPaneScroll:Oe,onPaneContextMenu:Ae,children:je,onEdgeContextMenu:Pe,onEdgeDoubleClick:Re,onEdgeMouseEnter:Te,onEdgeMouseMove:Ie,onEdgeMouseLeave:Me,onEdgeUpdate:Le,onEdgeUpdateStart:De,onEdgeUpdateEnd:ze,onReconnect:Fe,onReconnectStart:Ue,onReconnectEnd:Be,reconnectRadius:We=10,edgeUpdaterRadius:He=10,onNodesChange:qe,onEdgesChange:Ve,noDragClassName:Ze="nodrag",noWheelClassName:Ke="nowheel",noPanClassName:Xe="nopan",fitView:$e=!1,fitViewOptions:Ye,connectOnClick:Je=!0,attributionPosition:Qe,proOptions:Ge,defaultEdgeOptions:et,elevateNodesOnSelect:tt=!0,elevateEdgesOnSelect:nt=!1,disableKeyboardA11y:rt=!1,autoPanOnConnect:ot=!0,autoPanOnNodeDrag:at=!0,connectionRadius:st=20,isValidConnection:it,onError:lt,style:ct,id:ut,nodeDragThreshold:dt}=e,ft=d(e,hr);const ht=ut||"1";return o.createElement("div",u(u({},ft),{},{style:u(u({},ct),ei),ref:t,className:f(["react-flow",i]),"data-testid":"rf__wrapper",id:ut}),o.createElement(Xs,null,o.createElement(Hs,{onInit:m,onMove:g,onMoveStart:v,onMoveEnd:y,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:S,onNodeMouseMove:E,onNodeMouseLeave:N,onNodeContextMenu:C,onNodeDoubleClick:O,nodeTypes:l,edgeTypes:c,connectionLineType:W,connectionLineStyle:H,connectionLineComponent:q,connectionLineContainerStyle:V,selectionKeyCode:K,selectionOnDrag:X,selectionMode:$,deleteKeyCode:Z,multiSelectionKeyCode:J,panActivationKeyCode:Y,zoomActivationKeyCode:Q,onlyRenderVisibleElements:te,selectNodesOnDrag:ne,defaultViewport:ue,translateExtent:he,minZoom:de,maxZoom:fe,preventScrolling:pe,zoomOnScroll:ve,zoomOnPinch:ye,zoomOnDoubleClick:_e,panOnScroll:be,panOnScrollSpeed:we,panOnScrollMode:xe,panOnDrag:ke,onPaneClick:Se,onPaneMouseEnter:Ee,onPaneMouseMove:Ne,onPaneMouseLeave:Ce,onPaneScroll:Oe,onPaneContextMenu:Ae,onSelectionContextMenu:z,onSelectionStart:F,onSelectionEnd:U,onEdgeContextMenu:Pe,onEdgeDoubleClick:Re,onEdgeMouseEnter:Te,onEdgeMouseMove:Ie,onEdgeMouseLeave:Me,onReconnect:null!==Fe&&void 0!==Fe?Fe:Le,onReconnectStart:null!==Ue&&void 0!==Ue?Ue:De,onReconnectEnd:null!==Be&&void 0!==Be?Be:ze,reconnectRadius:null!==We&&void 0!==We?We:He,defaultMarkerColor:ge,noDragClassName:Ze,noWheelClassName:Ke,noPanClassName:Xe,elevateEdgesOnSelect:nt,rfId:ht,disableKeyboardA11y:rt,nodeOrigin:se,nodeExtent:me}),o.createElement(la,{nodes:n,edges:r,defaultNodes:a,defaultEdges:s,onConnect:b,onConnectStart:w,onConnectEnd:x,onClickConnectStart:_,onClickConnectEnd:k,nodesDraggable:re,nodesConnectable:oe,nodesFocusable:ae,edgesFocusable:ie,edgesUpdatable:le,elementsSelectable:ce,elevateNodesOnSelect:tt,minZoom:de,maxZoom:fe,nodeExtent:me,onNodesChange:qe,onEdgesChange:Ve,snapToGrid:G,snapGrid:ee,connectionMode:B,translateExtent:he,connectOnClick:Je,defaultEdgeOptions:et,fitView:$e,fitViewOptions:Ye,onNodesDelete:R,onEdgesDelete:T,onNodeDragStart:A,onNodeDrag:j,onNodeDragStop:P,onSelectionDrag:L,onSelectionDragStart:M,onSelectionDragStop:D,noPanClassName:Xe,nodeOrigin:se,rfId:ht,autoPanOnConnect:ot,autoPanOnNodeDrag:at,onError:lt,connectionRadius:st,isValidConnection:it,nodeDragThreshold:dt}),o.createElement(oa,{onSelectionChange:I}),je,o.createElement(jr,{proOptions:Ge,position:Qe}),o.createElement(ma,{rfId:ht,disableKeyboardA11y:rt})))});ti.displayName="ReactFlow";function ni(e){return t=>{const[n,r]=(0,o.useState)(t),a=(0,o.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,a]}}const ri=ni(Wa),oi=ni(function(e,t){return Ba(e,t)});function ai(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let si={data:""},ii=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||si},li=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ci=/\/\*[^]*?\*\/|  +/g,ui=/\n+/g,di=(e,t)=>{let n="",r="",o="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?di(s,a):a+"{"+di(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=di(s,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=di.p?di.p(a,s):a+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},fi={},hi=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+hi(e[n]);return t}return e},pi=(e,t,n,r,o)=>{let a=hi(e),s=fi[a]||(fi[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!fi[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=li.exec(e.replace(ci,""));)t[4]?r.shift():t[3]?(n=t[3].replace(ui," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(ui," ").trim();return r[0]})(e);fi[s]=di(o?{["@keyframes "+s]:t}:t,n?"":"."+s)}let i=n&&fi.g?fi.g:null;return n&&(fi.g=fi[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(fi[s],t,r,i),s};function mi(e){let t=this||{},n=e.call?e(t.p):e;return pi(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,o)=>{let a=t[o];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":di(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,ii(t.target),t.g,t.o,t.k)}mi.bind({g:1});let gi,vi,yi,bi=mi.bind({k:1});function wi(e,t){let n=this||{};return function(){let r=arguments;function o(a,s){let i=Object.assign({},a),l=i.className||o.className;n.p=Object.assign({theme:vi&&vi()},i),n.o=/ *go\d+/.test(l),i.className=mi.apply(n,r)+(l?" "+l:""),t&&(i.ref=s);let c=e;return e[0]&&(c=i.as||e,delete i.as),yi&&c[0]&&yi(i),gi(c,i)}return t?t(o):o}}var xi,_i,ki,Si,Ei,Ni,Ci,Oi,Ai,ji,Pi,Ri,Ti,Ii,Mi,Li,Di=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,zi=(()=>{let e=0;return()=>(++e).toString()})(),Fi=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ui="default",Bi=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return u(u({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?u(u({},e),t.toast):e)});case 2:let{toast:r}=t;return Bi(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===o||void 0===o?u(u({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?u(u({},e),{},{toasts:[]}):u(u({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return u(u({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return u(u({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>u(u({},e),{},{pauseDuration:e.pauseDuration+a}))})}},Wi=[],Hi={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},qi={},Vi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui;qi[t]=Bi(qi[t]||Hi,e),Wi.forEach(e=>{let[n,r]=e;n===t&&r(qi[t])})},Zi=e=>Object.keys(qi).forEach(t=>Vi(e,t)),Ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui;return t=>{Vi(t,e)}},Xi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$i=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return u(u({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||zi()})}(t,e,n);return Ki(r.toasterId||(e=>Object.keys(qi).find(t=>qi[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Yi=(e,t)=>$i("blank")(e,t);Yi.error=$i("error"),Yi.success=$i("success"),Yi.loading=$i("loading"),Yi.custom=$i("custom"),Yi.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ki(t)(n):Zi(n)},Yi.dismissAll=e=>Yi.dismiss(void 0,e),Yi.remove=(e,t)=>{let n={type:4,toastId:e};t?Ki(t)(n):Zi(n)},Yi.removeAll=e=>Yi.remove(void 0,e),Yi.promise=(e,t,n)=>{let r=Yi.loading(t.loading,u(u({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let o=t.success?Di(t.success,e):void 0;return o?Yi.success(o,u(u({id:r},n),null==n?void 0:n.success)):Yi.dismiss(r),e}).catch(e=>{let o=t.error?Di(t.error,e):void 0;o?Yi.error(o,u(u({id:r},n),null==n?void 0:n.error)):Yi.dismiss(r)}),e};var Ji=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui,[n,r]=(0,o.useState)(qi[t]||Hi),a=(0,o.useRef)(qi[t]);(0,o.useEffect)(()=>(a.current!==qi[t]&&r(qi[t]),Wi.push([t,r]),()=>{let e=Wi.findIndex(e=>{let[n]=e;return n===t});e>-1&&Wi.splice(e,1)}),[t]);let s=n.toasts.map(t=>{var n,r,o;return u(u(u(u({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Xi[t.type],style:u(u(u({},e.style),null==(o=e[t.type])?void 0:o.style),t.style)})});return u(u({},n),{},{toasts:s})}(e,t),a=(0,o.useRef)(new Map).current,s=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),i({type:4,toastId:e})},t);a.set(e,n)},[]);(0,o.useEffect)(()=>{if(r)return;let e=Date.now(),o=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Yi.dismiss(n.id,t),r);n.visible&&Yi.dismiss(n.id)});return()=>{o.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let i=(0,o.useCallback)(Ki(t),[t]),l=(0,o.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),c=(0,o.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),d=(0,o.useCallback)(()=>{r&&i({type:6,time:Date.now()})},[r,i]),f=(0,o.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:o=8,defaultPosition:a}=t||{},s=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),i=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<i&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+o,0)},[n]);return(0,o.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:f}}},Qi=bi(xi||(xi=ai(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Gi=bi(_i||(_i=ai(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),el=bi(ki||(ki=ai(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),tl=wi("div")(Si||(Si=ai(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Qi,Gi,e=>e.secondary||"#fff",el),nl=bi(Ei||(Ei=ai(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),rl=wi("div")(Ni||(Ni=ai(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",nl),ol=bi(Ci||(Ci=ai(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),al=bi(Oi||(Oi=ai(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),sl=wi("div")(Ai||(Ai=ai(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",ol,al,e=>e.secondary||"#fff"),il=wi("div")(ji||(ji=ai(["\n  position: absolute;\n"]))),ll=wi("div")(Pi||(Pi=ai(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),cl=bi(Ri||(Ri=ai(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ul=wi("div")(Ti||(Ti=ai(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),cl),dl=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?o.createElement(ul,null,n):n:"blank"===r?null:o.createElement(ll,null,o.createElement(rl,u({},a)),"loading"!==r&&o.createElement(il,null,"error"===r?o.createElement(tl,u({},a)):o.createElement(sl,u({},a))))},fl=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),hl=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),pl=wi("div")(Ii||(Ii=ai(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ml=wi("div")(Mi||(Mi=ai(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),gl=o.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Fi()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[fl(n),hl(n)];return{animation:t?"".concat(bi(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(bi(o)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},i=o.createElement(dl,{toast:t}),l=o.createElement(ml,u({},t.ariaProps),Di(t.message,t));return o.createElement(pl,{className:t.className,style:u(u(u({},s),r),t.style)},"function"==typeof a?a({icon:i,message:l}):o.createElement(o.Fragment,null,i,l))});!function(e,t,n,r){di.p=t,gi=e,vi=n,yi=r}(o.createElement);var vl=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:s}=e,i=o.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return o.createElement("div",{ref:i,className:n,style:r},s)},yl=mi(Li||(Li=ai(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),bl=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:s,toasterId:i,containerStyle:l,containerClassName:c}=e,{toasts:d,handlers:f}=Ji(r,i);return o.createElement("div",{"data-rht-toaster":i||"",style:u({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(e=>{let r=e.position||n,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return u(u({left:0,right:0,display:"flex",position:"absolute",transition:Fi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),o)})(r,f.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return o.createElement(vl,{id:e.id,key:e.id,onHeightUpdate:f.updateHeight,className:e.visible?yl:"",style:i},"custom"===e.type?Di(e.message,e):s?s(e):o.createElement(gl,{toast:e,position:r}))}))};const{useDebugValue:wl}=o,{useSyncExternalStoreWithSelector:xl}=h;let _l=!1;const kl=e=>e;const Sl=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?m(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kl,n=arguments.length>2?arguments[2]:void 0;n&&!_l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_l=!0);const r=xl(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return wl(r),r}(t,e,n);return Object.assign(n,t),n},El=e=>e?Sl(e):Sl;const Nl={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Cl;const Ol=new Uint8Array(16);function Al(){if(!Cl&&(Cl="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cl(Ol)}const jl=[];for(let yk=0;yk<256;++yk)jl.push((yk+256).toString(16).slice(1));function Pl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return jl[e[t+0]]+jl[e[t+1]]+jl[e[t+2]]+jl[e[t+3]]+"-"+jl[e[t+4]]+jl[e[t+5]]+"-"+jl[e[t+6]]+jl[e[t+7]]+"-"+jl[e[t+8]]+jl[e[t+9]]+"-"+jl[e[t+10]]+jl[e[t+11]]+jl[e[t+12]]+jl[e[t+13]]+jl[e[t+14]]+jl[e[t+15]]}const Rl=function(e,t,n){if(Nl.randomUUID&&!t&&!e)return Nl.randomUUID();const r=(e=e||{}).random||(e.rng||Al)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Pl(r)};function Tl(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function Il(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}let Ml=function(){const{crypto:e}=globalThis;if(null!==e&&void 0!==e&&e.randomUUID)return Ml=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};function Ll(e){return"object"===typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Dl=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};class zl extends Error{}class Fl extends zl{constructor(e,t,n,r){super("".concat(Fl.makeMessage(e,t,n))),this.status=e,this.headers=r,this.requestID=null===r||void 0===r?void 0:r.get("x-request-id"),this.error=t;const o=t;this.code=null===o||void 0===o?void 0:o.code,this.param=null===o||void 0===o?void 0:o.param,this.type=null===o||void 0===o?void 0:o.type}static makeMessage(e,t,n){const r=null!==t&&void 0!==t&&t.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?"".concat(e," ").concat(r):e?"".concat(e," status code (no body)"):r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new Bl({message:n,cause:Dl(t)});const o=null===t||void 0===t?void 0:t.error;return 400===e?new Hl(e,o,n,r):401===e?new ql(e,o,n,r):403===e?new Vl(e,o,n,r):404===e?new Zl(e,o,n,r):409===e?new Kl(e,o,n,r):422===e?new Xl(e,o,n,r):429===e?new $l(e,o,n,r):e>=500?new Yl(e,o,n,r):new Fl(e,o,n,r)}}class Ul extends Fl{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class Bl extends Fl{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Wl extends Bl{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:null!==e&&void 0!==e?e:"Request timed out."})}}class Hl extends Fl{}class ql extends Fl{}class Vl extends Fl{}class Zl extends Fl{}class Kl extends Fl{}class Xl extends Fl{}class $l extends Fl{}class Yl extends Fl{}class Jl extends zl{constructor(){super("Could not parse response content as the length limit was reached")}}class Ql extends zl{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Gl extends Error{constructor(e){super(e)}}const ec=/^[a-z][a-z0-9+.-]*:/i;let tc=e=>(tc=Array.isArray,tc(e)),nc=tc;function rc(e){return"object"!==typeof e?{}:null!==e&&void 0!==e?e:{}}function oc(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}const ac=e=>new Promise(t=>setTimeout(t,e)),sc="6.3.0";const ic=()=>{const e="undefined"!==typeof Deno&&null!=Deno.build?"deno":"undefined"!==typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call("undefined"!==typeof globalThis.process?globalThis.process:0)?"node":"unknown";var t,n,r,o,a;if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sc,"X-Stainless-OS":cc(Deno.build.os),"X-Stainless-Arch":lc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:null!==(t=null===(n=Deno.version)||void 0===n?void 0:n.deno)&&void 0!==t?t:"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sc,"X-Stainless-OS":cc(null!==(r=globalThis.process.platform)&&void 0!==r?r:"unknown"),"X-Stainless-Arch":lc(null!==(o=globalThis.process.arch)&&void 0!==o?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(a=globalThis.process.version)&&void 0!==a?a:"unknown"};const s=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){const n=e[1]||0,r=e[2]||0,o=e[3]||0;return{browser:t,version:"".concat(n,".").concat(r,".").concat(o)}}}return null}();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(s.browser),"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const lc=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown",cc=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown";let uc;function dc(){const e=globalThis.ReadableStream;if("undefined"===typeof e)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)}function fc(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return dc({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function hc(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return null!==e&&void 0!==e&&e.done&&t.releaseLock(),e}catch(si){throw t.releaseLock(),si}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const pc=e=>{let{headers:t,body:n}=e;return{bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}},mc="RFC3986",gc=e=>String(e),vc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:gc},yc="RFC1738";let bc=(e,t)=>{var n;return bc=null!==(n=Object.hasOwn)&&void 0!==n?n:Function.prototype.call.bind(Object.prototype.hasOwnProperty),bc(e,t)};const wc=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const xc=1024;function _c(e,t){if(tc(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const kc={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},Sc=function(e,t){Array.prototype.push.apply(e,tc(t)?t:[t])};let Ec;const Nc={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,o)=>{if(0===e.length)return e;let a=e;if("symbol"===typeof e?a=Symbol.prototype.toString.call(e):"string"!==typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let s="";for(let i=0;i<a.length;i+=xc){const e=a.length>=xc?a.slice(i,i+xc):a,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||o===yc&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=wc[r]:r<2048?t[t.length]=wc[192|r>>6]+wc[128|63&r]:r<55296||r>=57344?t[t.length]=wc[224|r>>12]+wc[128|r>>6&63]+wc[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=wc[240|r>>18]+wc[128|r>>12&63]+wc[128|r>>6&63]+wc[128|63&r])}s+=t.join("")}return s},encodeValuesOnly:!1,format:mc,formatter:gc,indices:!1,serializeDate:e=>(null!==Ec&&void 0!==Ec?Ec:Ec=Function.prototype.call.bind(Date.prototype.toISOString))(e),skipNulls:!1,strictNullHandling:!1};const Cc={};function Oc(e,t,n,r,o,a,s,i,l,c,u,d,f,h,p,m,g,v){let y=e,b=v,w=0,x=!1;for(;void 0!==(b=b.get(Cc))&&!x;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");x=!0}"undefined"===typeof b.get(Cc)&&(w=0)}if("function"===typeof c?y=c(t,y):y instanceof Date?y=null===f||void 0===f?void 0:f(y):"comma"===n&&tc(y)&&(y=_c(y,function(e){return e instanceof Date?null===f||void 0===f?void 0:f(e):e})),null===y){if(a)return l&&!m?l(t,Nc.encoder,g,"key",h):t;y=""}if(function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e}(y)||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(y)){if(l){const e=m?t:l(t,Nc.encoder,g,"key",h);return[(null===p||void 0===p?void 0:p(e))+"="+(null===p||void 0===p?void 0:p(l(y,Nc.encoder,g,"value",h)))]}return[(null===p||void 0===p?void 0:p(t))+"="+(null===p||void 0===p?void 0:p(String(y)))]}const _=[];if("undefined"===typeof y)return _;let k;if("comma"===n&&tc(y))m&&l&&(y=_c(y,l)),k=[{value:y.length>0?y.join(",")||null:void 0}];else if(tc(c))k=c;else{const e=Object.keys(y);k=u?e.sort(u):e}const S=i?String(t).replace(/\./g,"%2E"):String(t),E=r&&tc(y)&&1===y.length?S+"[]":S;if(o&&tc(y)&&0===y.length)return E+"[]";for(let N=0;N<k.length;++N){const t=k[N],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:y[t];if(s&&null===b)continue;const x=d&&i?t.replace(/\./g,"%2E"):t,S=tc(y)?"function"===typeof n?n(E,x):E:E+(d?"."+x:"["+x+"]");v.set(e,w);const C=new WeakMap;C.set(Cc,v),Sc(_,Oc(b,S,n,r,o,a,s,i,"comma"===n&&m&&tc(y)?null:l,c,u,d,f,h,p,m,g,C))}return _}function Ac(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||Nc.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=mc;if("undefined"!==typeof e.format){if(!bc(vc,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=vc[n];let o,a=Nc.filter;if(("function"===typeof e.filter||tc(e.filter))&&(a=e.filter),o=e.arrayFormat&&e.arrayFormat in kc?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Nc.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||Nc.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:Nc.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Nc.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:Nc.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?Nc.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:Nc.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:Nc.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:Nc.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:Nc.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:Nc.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:Nc.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:Nc.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,o;"function"===typeof n.filter?(o=n.filter,t=o("",t)):tc(n.filter)&&(o=n.filter,r=o);const a=[];if("object"!==typeof t||null===t)return"";const s=kc[n.arrayFormat],i="comma"===s&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let d=0;d<r.length;++d){const e=r[d];n.skipNulls&&null===t[e]||Sc(a,Oc(t[e],e,s,i,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const c=a.join(n.delimiter);let u=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),c.length>0?u+c:""}function jc(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Pc(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Pc(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Pc=function(e){this.s=e,this.n=e.next},Pc.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Pc(e)}function Rc(e,t){this.v=e,this.k=t}function Tc(e){return new Rc(e,0)}function Ic(e){return function(){return new Mc(e.apply(this,arguments))}}function Mc(e){var t,n;function r(t,n){try{var a=e[t](n),s=a.value,i=s instanceof Rc;Promise.resolve(i?s.v:s).then(function(n){if(i){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}o(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise(function(a,s){var i={key:e,arg:o,resolve:a,reject:s,next:null};n?n=n.next=i:(t=n=i,r(e,o))})},"function"!=typeof e.return&&(this.return=void 0)}let Lc,Dc;function zc(e){let t;return(null!==Lc&&void 0!==Lc?Lc:(t=new globalThis.TextEncoder,Lc=t.encode.bind(t)))(e)}function Fc(e){let t;return(null!==Dc&&void 0!==Dc?Dc:(t=new globalThis.TextDecoder,Dc=t.decode.bind(t)))(e)}var Uc,Bc;Mc.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Mc.prototype.next=function(e){return this._invoke("next",e)},Mc.prototype.throw=function(e){return this._invoke("throw",e)},Mc.prototype.return=function(e){return this._invoke("return",e)};class Wc{constructor(){Uc.set(this,void 0),Bc.set(this,void 0),Tl(this,Uc,new Uint8Array,"f"),Tl(this,Bc,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?zc(e):e;Tl(this,Uc,function(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}([Il(this,Uc,"f"),t]),"f");const n=[];let r;for(;null!=(r=Hc(Il(this,Uc,"f"),Il(this,Bc,"f")));){if(r.carriage&&null==Il(this,Bc,"f")){Tl(this,Bc,r.index,"f");continue}if(null!=Il(this,Bc,"f")&&(r.index!==Il(this,Bc,"f")+1||r.carriage)){n.push(Fc(Il(this,Uc,"f").subarray(0,Il(this,Bc,"f")-1))),Tl(this,Uc,Il(this,Uc,"f").subarray(Il(this,Bc,"f")),"f"),Tl(this,Bc,null,"f");continue}const e=null!==Il(this,Bc,"f")?r.preceding-1:r.preceding,t=Fc(Il(this,Uc,"f").subarray(0,e));n.push(t),Tl(this,Uc,Il(this,Uc,"f").subarray(r.index),"f"),Tl(this,Bc,null,"f")}return n}flush(){return Il(this,Uc,"f").length?this.decode("\n"):[]}}function Hc(e,t){for(let n=null!==t&&void 0!==t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function qc(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}Uc=new WeakMap,Bc=new WeakMap,Wc.NEWLINE_CHARS=new Set(["\n","\r"]),Wc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Vc={off:0,error:200,warn:300,info:400,debug:500},Zc=(e,t,n)=>{var r,o;if(e)return r=Vc,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void Jc(n).warn("".concat(t," was set to ").concat(JSON.stringify(e),", expected one of ").concat(JSON.stringify(Object.keys(Vc))))};function Kc(){}function Xc(e,t,n){return!t||Vc[e]>Vc[n]?Kc:t[e].bind(t)}const $c={error:Kc,warn:Kc,info:Kc,debug:Kc};let Yc=new WeakMap;function Jc(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return $c;const o=Yc.get(n);if(o&&o[0]===r)return o[1];const a={error:Xc("error",n,r),warn:Xc("warn",n,r),info:Xc("info",n,r),debug:Xc("debug",n,r)};return Yc.set(n,[r,a]),a}const Qc=e=>(e.options&&(e.options=u({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(e=>{let[t,n]=e;return[t,"authorization"===t.toLowerCase()||"cookie"===t.toLowerCase()||"set-cookie"===t.toLowerCase()?"***":n]}))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Gc,eu,tu;class nu{constructor(e,t,n){this.iterator=e,Gc.set(this,void 0),this.controller=t,Tl(this,Gc,n,"f")}static fromSSEResponse(e,t,n){let r=!1;const o=n?Jc(n):console;function a(){return a=Ic(function*(){if(r)throw new zl("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{var a,s=!1,i=!1;try{for(var l,c=jc(function(e,t){return ru.apply(this,arguments)}(e,t));s=!(l=yield Tc(c.next())).done;s=!1){const t=l.value;if(!n)if(t.data.startsWith("[DONE]"))n=!0;else if(null!==t.event&&t.event.startsWith("thread.")){let e;try{e=JSON.parse(t.data)}catch(si){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),si}if("error"==t.event)throw new Fl(void 0,e.error,e.message,void 0);yield{event:t.event,data:e}}else{let n;try{n=JSON.parse(t.data)}catch(si){throw o.error("Could not parse message into JSON:",t.data),o.error("From chunk:",t.raw),si}if(n&&n.error)throw new Fl(void 0,n.error,void 0,e.headers);yield n}}}catch(u){i=!0,a=u}finally{try{s&&null!=c.return&&(yield Tc(c.return()))}finally{if(i)throw a}}n=!0}catch(si){if(Ll(si))return;throw si}finally{n||t.abort()}}),a.apply(this,arguments)}return new nu(function(){return a.apply(this,arguments)},t,n)}static fromReadableStream(e,t,n){let r=!1;function o(){return(o=Ic(function*(){const t=new Wc,n=hc(e);var r,o=!1,a=!1;try{for(var s,i=jc(n);o=!(s=yield Tc(i.next())).done;o=!1){const e=s.value;for(const n of t.decode(e))yield n}}catch(l){a=!0,r=l}finally{try{o&&null!=i.return&&(yield Tc(i.return()))}finally{if(a)throw r}}for(const e of t.flush())yield e})).apply(this,arguments)}function a(){return a=Ic(function*(){if(r)throw new zl("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let e=!1;try{var n,a=!1,s=!1;try{for(var i,l=jc(function(){return o.apply(this,arguments)}());a=!(i=yield Tc(l.next())).done;a=!1){const t=i.value;e||t&&(yield JSON.parse(t))}}catch(c){s=!0,n=c}finally{try{a&&null!=l.return&&(yield Tc(l.return()))}finally{if(s)throw n}}e=!0}catch(si){if(Ll(si))return;throw si}finally{e||t.abort()}}),a.apply(this,arguments)}return new nu(function(){return a.apply(this,arguments)},t,n)}[(Gc=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new nu(()=>r(e),this.controller,Il(this,Gc,"f")),new nu(()=>r(t),this.controller,Il(this,Gc,"f"))]}toReadableStream(){const e=this;let t;return dc({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=zc(JSON.stringify(n)+"\n");e.enqueue(o)}catch(n){e.error(n)}},async cancel(){var e,n;await(null===(e=(n=t).return)||void 0===e?void 0:e.call(n))}})}}function ru(){return ru=Ic(function*(e,t){if(!e.body){if(t.abort(),"undefined"!==typeof globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new zl("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new zl("Attempted to iterate over a response with no body")}const n=new au,r=new Wc,o=hc(e.body);var a,s=!1,i=!1;try{for(var l,c=jc(function(e){return ou.apply(this,arguments)}(o));s=!(l=yield Tc(c.next())).done;s=!1){const e=l.value;for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}}}catch(u){i=!0,a=u}finally{try{s&&null!=c.return&&(yield Tc(c.return()))}finally{if(i)throw a}}for(const d of r.flush()){const e=n.decode(d);e&&(yield e)}}),ru.apply(this,arguments)}function ou(){return ou=Ic(function*(e){let t=new Uint8Array;var n,r=!1,o=!1;try{for(var a,s=jc(e);r=!(a=yield Tc(s.next())).done;r=!1){const e=a.value;{if(null==e)continue;const n=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?zc(e):e;let r,o=new Uint8Array(t.length+n.length);for(o.set(t),o.set(n,t.length),t=o;-1!==(r=qc(t));)yield t.slice(0,r),t=t.slice(r)}}}catch(i){o=!0,n=i}finally{try{r&&null!=s.return&&(yield Tc(s.return()))}finally{if(o)throw n}}t.length>0&&(yield t)}),ou.apply(this,arguments)}class au{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function su(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:a}=t,s=await(async r=>{if(t.options.stream)return Jc(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):nu.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),a=null===o||void 0===o||null===(r=o.split(";")[0])||void 0===r?void 0:r.trim();if((null===a||void 0===a?void 0:a.includes("application/json"))||(null===a||void 0===a?void 0:a.endsWith("+json"))){return iu(await n.json(),n)}return await n.text()})();return Jc(e).debug("[".concat(r,"] response parsed"),Qc({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}function iu(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class lu extends Promise{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:su;super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,eu.set(this,void 0),Tl(this,eu,e,"f")}_thenUnwrap(e){return new lu(Il(this,eu,"f"),this.responsePromise,async(t,n)=>iu(e(await this.parseResponse(t,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(Il(this,eu,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}eu=new WeakMap;class cu{constructor(e,t,n,r){tu.set(this,void 0),Tl(this,tu,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new zl("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await Il(this,tu,"f").requestAPIList(this.constructor,e)}iterPages(){var e=this;return Ic(function*(){let t=e;for(yield t;t.hasNextPage();)t=yield Tc(t.getNextPage()),yield t})()}[(tu=new WeakMap,Symbol.asyncIterator)](){var e=this;return Ic(function*(){var t,n=!1,r=!1;try{for(var o,a=jc(e.iterPages());n=!(o=yield Tc(a.next())).done;n=!1){const e=o.value;for(const t of e.getPaginatedItems())yield t}}catch(s){r=!0,t=s}finally{try{n&&null!=a.return&&(yield Tc(a.return()))}finally{if(r)throw t}}})()}}class uu extends lu{constructor(e,t,n){super(e,t,async(e,t)=>new n(e,t.response,await su(e,t),t.options))}[Symbol.asyncIterator](){var e=this;return Ic(function*(){const t=yield Tc(e);var n,r=!1,o=!1;try{for(var a,s=jc(t);r=!(a=yield Tc(s.next())).done;r=!1){const e=a.value;yield e}}catch(i){o=!0,n=i}finally{try{r&&null!=s.return&&(yield Tc(s.return()))}finally{if(o)throw n}}})()}}class du extends cu{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}nextPageRequestOptions(){return null}}class fu extends cu{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){var e;const t=this.getPaginatedItems(),n=null===(e=t[t.length-1])||void 0===e?void 0:e.id;return n?u(u({},this.options),{},{query:u(u({},rc(this.options.query)),{},{after:n})}):null}}class hu extends cu{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?u(u({},this.options),{},{query:u(u({},rc(this.options.query)),{},{after:e})}):null}}const pu=()=>{if("undefined"===typeof File){var e;const{process:t}=globalThis,n="string"===typeof(null===t||void 0===t||null===(e=t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mu(e,t,n){return pu(),new File(e,null!==t&&void 0!==t?t:"unknown_file",n)}function gu(e){return("object"===typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const vu=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],yu=async(e,t)=>ku(e.body)?u(u({},e),{},{body:await xu(e.body,t)}):e,bu=async(e,t)=>u(u({},e),{},{body:await xu(e.body,t)}),wu=new WeakMap;const xu=async(e,t)=>{if(!await function(e){const t="function"===typeof e?e:e.fetch,n=wu.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch(e){return!0}})();return wu.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(e=>{let[t,r]=e;return Su(n,t,r)})),n},_u=e=>e instanceof Blob&&"name"in e,ku=e=>{if((e=>"object"===typeof e&&null!==e&&(e instanceof Response||vu(e)||_u(e)))(e))return!0;if(Array.isArray(e))return e.some(ku);if(e&&"object"===typeof e)for(const t in e)if(ku(e[t]))return!0;return!1},Su=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError('Received null for "'.concat(t,"\"; to pass null in FormData, you must use the string 'null'"));if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(n instanceof Response)e.append(t,mu([await n.blob()],gu(n)));else if(vu(n))e.append(t,mu([await new Response(fc(n)).blob()],gu(n)));else if(_u(n))e.append(t,n,gu(n));else if(Array.isArray(n))await Promise.all(n.map(n=>Su(e,t+"[]",n)));else{if("object"!==typeof n)throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(n," instead"));await Promise.all(Object.entries(n).map(n=>{let[r,o]=n;return Su(e,"".concat(t,"[").concat(r,"]"),o)}))}}},Eu=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer;async function Nu(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Eu(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!vu(e)){var n;const t=null===e||void 0===e||null===(n=e.constructor)||void 0===n?void 0:n.name;throw new Error("Unexpected data type: ".concat(typeof e).concat(t?"; constructor: ".concat(t):"").concat(function(e){if("object"!==typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return"; props: [".concat(t.map(e=>'"'.concat(e,'"')).join(", "),"]")}(e)))}var r,o=!1,a=!1;try{for(var s,i=jc(e);o=!(s=await i.next()).done;o=!1){const e=s.value;t.push(...await Nu(e))}}catch(l){a=!0,r=l}finally{try{o&&null!=i.return&&await i.return()}finally{if(a)throw r}}}return t}class Cu{constructor(e){this._client=e}}function Ou(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Au=Object.freeze(Object.create(null)),ju=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou;return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(1===t.length)return t[0];let a=!1;const s=[],i=t.reduce((t,n,o)=>{var i,l,c;/[?#]/.test(n)&&(a=!0);const u=r[o];let d=(a?encodeURIComponent:e)(""+u);return o!==r.length&&(null==u||"object"===typeof u&&u.toString===(null===(i=Object.getPrototypeOf(null!==(l=Object.getPrototypeOf(null!==(c=u.hasOwnProperty)&&void 0!==c?c:Au))&&void 0!==l?l:Au))||void 0===i?void 0:i.toString))&&(d=u+"",s.push({start:t.length+n.length,length:d.length,error:"Value of type ".concat(Object.prototype.toString.call(u).slice(8,-1)," is not a valid path parameter")})),t+n+(o===r.length?"":d)},""),l=i.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let u;for(;null!==(u=c.exec(l));)s.push({start:u.index,length:u[0].length,error:'Value "'.concat(u[0],"\" can't be safely passed as a path parameter")});if(s.sort((e,t)=>e.start-t.start),s.length>0){let e=0;const t=s.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new zl("Path parameters result in path with invalid segments:\n".concat(s.map(e=>e.error).join("\n"),"\n").concat(i,"\n").concat(t))}return i}},Pu=ju(Ou);var Ru;class Tu extends Cu{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(Ru||(Ru=ai(["/chat/completions/","/messages"])),e),fu,u({query:t},n))}}function Iu(e){return void 0!==e&&"function"in e&&void 0!==e.function}function Mu(e){return"auto-parseable-response-format"===(null===e||void 0===e?void 0:e.$brand)}function Lu(e){return"auto-parseable-tool"===(null===e||void 0===e?void 0:e.$brand)}function Du(e,t){const n=e.choices.map(e=>{var n,r;if("length"===e.finish_reason)throw new Jl;if("content_filter"===e.finish_reason)throw new Ql;return Bu(e.message.tool_calls),u(u({},e),{},{message:u(u(u({},e.message),e.message.tool_calls?{tool_calls:null!==(n=null===(r=e.message.tool_calls)||void 0===r?void 0:r.map(e=>function(e,t){var n;const r=null===(n=e.tools)||void 0===n?void 0:n.find(e=>{var n;return Iu(e)&&(null===(n=e.function)||void 0===n?void 0:n.name)===t.function.name});return u(u({},t),{},{function:u(u({},t.function),{},{parsed_arguments:Lu(r)?r.$parseRaw(t.function.arguments):null!==r&&void 0!==r&&r.function.strict?JSON.parse(t.function.arguments):null})})}(t,e)))&&void 0!==n?n:void 0}:void 0),{},{parsed:e.message.content&&!e.message.refusal?zu(t,e.message.content):null})})});return u(u({},e),{},{choices:n})}function zu(e,t){var n,r;if("json_schema"!==(null===(n=e.response_format)||void 0===n?void 0:n.type))return null;if("json_schema"===(null===(r=e.response_format)||void 0===r?void 0:r.type)){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function Fu(e,t){var n;if(!e||!("tools"in e)||!e.tools)return!1;const r=null===(n=e.tools)||void 0===n?void 0:n.find(e=>{var n;return Iu(e)&&(null===(n=e.function)||void 0===n?void 0:n.name)===t.function.name});return Iu(r)&&(Lu(r)||(null===r||void 0===r?void 0:r.function.strict)||!1)}function Uu(e){var t,n;return!!Mu(e.response_format)||null!==(t=null===(n=e.tools)||void 0===n?void 0:n.some(e=>Lu(e)||"function"===e.type&&!0===e.function.strict))&&void 0!==t&&t}function Bu(e){for(const t of e||[])if("function"!==t.type)throw new zl("Currently only `function` tool calls are supported; Received `".concat(t.type,"`"))}const Wu=e=>"assistant"===(null===e||void 0===e?void 0:e.role),Hu=e=>"tool"===(null===e||void 0===e?void 0:e.role);var qu,Vu,Zu,Ku,Xu,$u,Yu,Ju,Qu,Gu,ed,td,nd;class rd{constructor(){qu.add(this),this.controller=new AbortController,Vu.set(this,void 0),Zu.set(this,()=>{}),Ku.set(this,()=>{}),Xu.set(this,void 0),$u.set(this,()=>{}),Yu.set(this,()=>{}),Ju.set(this,{}),Qu.set(this,!1),Gu.set(this,!1),ed.set(this,!1),td.set(this,!1),Tl(this,Vu,new Promise((e,t)=>{Tl(this,Zu,e,"f"),Tl(this,Ku,t,"f")}),"f"),Tl(this,Xu,new Promise((e,t)=>{Tl(this,$u,e,"f"),Tl(this,Yu,t,"f")}),"f"),Il(this,Vu,"f").catch(()=>{}),Il(this,Xu,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Il(this,qu,"m",nd).bind(this))},0)}_connected(){this.ended||(Il(this,Zu,"f").call(this),this._emit("connect"))}get ended(){return Il(this,Qu,"f")}get errored(){return Il(this,Gu,"f")}get aborted(){return Il(this,ed,"f")}abort(){this.controller.abort()}on(e,t){return(Il(this,Ju,"f")[e]||(Il(this,Ju,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=Il(this,Ju,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(Il(this,Ju,"f")[e]||(Il(this,Ju,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{Tl(this,td,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}async done(){Tl(this,td,!0,"f"),await Il(this,Xu,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Il(this,Qu,"f"))return;"end"===e&&(Tl(this,Qu,!0,"f"),Il(this,$u,"f").call(this));const o=Il(this,Ju,"f")[e];if(o&&(Il(this,Ju,"f")[e]=o.filter(e=>!e.once),o.forEach(e=>{let{listener:t}=e;return t(...n)})),"abort"===e){const e=n[0];return Il(this,td,"f")||null!==o&&void 0!==o&&o.length||Promise.reject(e),Il(this,Ku,"f").call(this,e),Il(this,Yu,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];Il(this,td,"f")||null!==o&&void 0!==o&&o.length||Promise.reject(e),Il(this,Ku,"f").call(this,e),Il(this,Yu,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function od(e){return"function"===typeof e.parse}Vu=new WeakMap,Zu=new WeakMap,Ku=new WeakMap,Xu=new WeakMap,$u=new WeakMap,Yu=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,Gu=new WeakMap,ed=new WeakMap,td=new WeakMap,qu=new WeakSet,nd=function(e){if(Tl(this,Gu,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Ul),e instanceof Ul)return Tl(this,ed,!0,"f"),this._emit("abort",e);if(e instanceof zl)return this._emit("error",e);if(e instanceof Error){const t=new zl(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new zl(String(e)))};const ad=["tool_choice","stream"];var sd,id,ld,cd,ud,dd,fd,hd;const pd=10;class md extends rd{constructor(){super(...arguments),sd.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=null===(t=e.choices[0])||void 0===t?void 0:t.message;return n&&this._addMessage(n),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),Hu(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Wu(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionToolCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new zl("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Il(this,sd,"m",id).call(this)}async finalMessage(){return await this.done(),Il(this,sd,"m",ld).call(this)}async finalFunctionToolCall(){return await this.done(),Il(this,sd,"m",cd).call(this)}async finalFunctionToolCallResult(){return await this.done(),Il(this,sd,"m",ud).call(this)}async totalUsage(){return await this.done(),Il(this,sd,"m",dd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Il(this,sd,"m",ld).call(this);t&&this._emit("finalMessage",t);const n=Il(this,sd,"m",id).call(this);n&&this._emit("finalContent",n);const r=Il(this,sd,"m",cd).call(this);r&&this._emit("finalFunctionToolCall",r);const o=Il(this,sd,"m",ud).call(this);null!=o&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",Il(this,sd,"m",dd).call(this))}async _createChatCompletion(e,t,n){const r=null===n||void 0===n?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Il(this,sd,"m",fd).call(this,t);const o=await e.chat.completions.create(u(u({},t),{},{stream:!1}),u(u({},n),{},{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(Du(o,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){var r;const o="tool",{tool_choice:a="auto",stream:s}=t,i=d(t,ad),l="string"!==typeof a&&"function"===a.type&&(null===a||void 0===a||null===(r=a.function)||void 0===r?void 0:r.name),{maxChatCompletions:c=pd}=n||{},f=t.tools.map(e=>{if(Lu(e)){if(!e.$callback)throw new zl("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),h={};for(const u of f)"function"===u.type&&(h[u.function.name||u.function.function.name]=u.function);const p="tools"in t?f.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(const u of t.messages)this._addMessage(u,!1);for(let d=0;d<c;++d){var m,g;const t=null===(m=(await this._createChatCompletion(e,u(u({},i),{},{tool_choice:a,tools:p,messages:[...this.messages]}),n)).choices[0])||void 0===m?void 0:m.message;if(!t)throw new zl("missing message in ChatCompletion response");if(null===(g=t.tool_calls)||void 0===g||!g.length)return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:r}=e.function,a=h[n];if(!a){const e="Invalid tool_call: ".concat(JSON.stringify(n),". Available options are: ").concat(Object.keys(h).map(e=>JSON.stringify(e)).join(", "),". Please try again");this._addMessage({role:o,tool_call_id:t,content:e});continue}if(l&&l!==n){const e="Invalid tool_call: ".concat(JSON.stringify(n),". ").concat(JSON.stringify(l)," requested. Please try again");this._addMessage({role:o,tool_call_id:t,content:e});continue}let s;try{s=od(a)?await a.parse(r):r}catch(v){const e=v instanceof Error?v.message:String(v);this._addMessage({role:o,tool_call_id:t,content:e});continue}const i=await a.function(s,this),c=Il(this,sd,"m",hd).call(this,i);if(this._addMessage({role:o,tool_call_id:t,content:c}),l)return}}}}sd=new WeakSet,id=function(){var e;return null!==(e=Il(this,sd,"m",ld).call(this).content)&&void 0!==e?e:null},ld=function(){let e=this.messages.length;for(;e-- >0;){const r=this.messages[e];if(Wu(r)){var t,n;return u(u({},r),{},{content:null!==(t=r.content)&&void 0!==t?t:null,refusal:null!==(n=r.refusal)&&void 0!==n?n:null})}}throw new zl("stream ended without producing a ChatCompletionMessage with role=assistant")},cd=function(){for(let n=this.messages.length-1;n>=0;n--){var e;const r=this.messages[n];var t;if(Wu(r)&&null!==r&&void 0!==r&&null!==(e=r.tool_calls)&&void 0!==e&&e.length)return null===(t=r.tool_calls.filter(e=>"function"===e.type).at(-1))||void 0===t?void 0:t.function}},ud=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Hu(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some(e=>{var n;return"assistant"===e.role&&(null===(n=e.tool_calls)||void 0===n?void 0:n.some(e=>"function"===e.type&&e.id===t.tool_call_id))}))return t.content}},dd=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},fd=function(e){if(null!=e.n&&e.n>1)throw new zl("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},hd=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class gd extends md{static runTools(e,t,n){const r=new gd,o=u(u({},n),{},{headers:u(u({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return r._run(()=>r._runTools(e,t,o)),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),Wu(e)&&e.content&&this._emit("content",e.content)}}const vd={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class yd extends Error{}class bd extends Error{}const wd=(e,t)=>{const n=e.length;let r=0;const o=e=>{throw new yd("".concat(e," at position ").concat(r))},a=e=>{throw new bd("".concat(e," at position ").concat(r))},s=()=>(d(),r>=n&&o("Unexpected end of input"),'"'===e[r]?i():"{"===e[r]?l():"["===e[r]?c():"null"===e.substring(r,r+4)||vd.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||vd.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||vd.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||vd.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||vd.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||vd.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),i=()=>{const s=r;let i=!1;for(r++;r<n&&('"'!==e[r]||i&&"\\"===e[r-1]);)i="\\"===e[r]&&!i,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(s,++r-Number(i)))}catch(si){a(String(si))}else if(vd.STR&t)try{return JSON.parse(e.substring(s,r-Number(i))+'"')}catch(si){return JSON.parse(e.substring(s,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},l=()=>{r++,d();const a={};try{for(;"}"!==e[r];){if(d(),r>=n&&vd.OBJ&t)return a;const o=i();d(),r++;try{const e=s();Object.defineProperty(a,o,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(si){if(vd.OBJ&t)return a;throw si}d(),","===e[r]&&r++}}catch(si){if(vd.OBJ&t)return a;o("Expected '}' at end of object")}return r++,a},c=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(s()),d(),","===e[r]&&r++}catch(si){if(vd.ARR&t)return n;o("Expected ']' at end of array")}return r++,n},u=()=>{if(0===r){"-"===e&&vd.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(si){if(vd.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(si){}a(String(si))}}const s=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||vd.NUM&t||o("Unterminated number literal");try{return JSON.parse(e.substring(s,r))}catch(si){"-"===e.substring(s,r)&&vd.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(s,e.lastIndexOf("e")))}catch(si){a(String(si))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return s()},xd=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vd.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got ".concat(typeof e));if(!e.trim())throw new Error("".concat(e," is empty"));return wd(e.trim(),t)}(e,vd.ALL^vd.NUM),_d=["choices"],kd=["delta","finish_reason","index","logprobs"],Sd=["content","refusal"],Ed=["content","refusal","function_call","role","tool_calls"],Nd=["index","id","type","function"],Cd=["id","choices","created","model","system_fingerprint"],Od=["message","finish_reason","index","logprobs"],Ad=["content","function_call","tool_calls"],jd=["function","type","id"],Pd=["arguments","name"];var Rd,Td,Id,Md,Ld,Dd,zd,Fd,Ud,Bd,Wd,Hd,qd,Vd,Zd;class Kd extends md{constructor(e){super(),Rd.add(this),Td.set(this,void 0),Id.set(this,void 0),Md.set(this,void 0),Tl(this,Td,e,"f"),Tl(this,Id,[],"f")}get currentChatCompletionSnapshot(){return Il(this,Md,"f")}static fromReadableStream(e){const t=new Kd(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){const r=new Kd(t);return r._run(()=>r._runChatCompletion(e,u(u({},t),{},{stream:!0}),u(u({},n),{},{headers:u(u({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})}))),r}async _createChatCompletion(e,t,n){var r;super._createChatCompletion;const o=null===n||void 0===n?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Il(this,Rd,"m",Ld).call(this);const a=await e.chat.completions.create(u(u({},t),{},{stream:!0}),u(u({},n),{},{signal:this.controller.signal}));this._connected();var s,i=!1,l=!1;try{for(var c,d=jc(a);i=!(c=await d.next()).done;i=!1){const e=c.value;Il(this,Rd,"m",zd).call(this,e)}}catch(f){l=!0,s=f}finally{try{i&&null!=d.return&&await d.return()}finally{if(l)throw s}}if(null!==(r=a.controller.signal)&&void 0!==r&&r.aborted)throw new Ul;return this._addChatCompletion(Il(this,Rd,"m",Bd).call(this))}async _fromReadableStream(e,t){var n;const r=null===t||void 0===t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Il(this,Rd,"m",Ld).call(this),this._connected();const o=nu.fromReadableStream(e,this.controller);let a;var s,i=!1,l=!1;try{for(var c,u=jc(o);i=!(c=await u.next()).done;i=!1){const e=c.value;a&&a!==e.id&&this._addChatCompletion(Il(this,Rd,"m",Bd).call(this)),Il(this,Rd,"m",zd).call(this,e),a=e.id}}catch(d){l=!0,s=d}finally{try{i&&null!=u.return&&await u.return()}finally{if(l)throw s}}if(null!==(n=o.controller.signal)&&void 0!==n&&n.aborted)throw new Ul;return this._addChatCompletion(Il(this,Rd,"m",Bd).call(this))}[(Td=new WeakMap,Id=new WeakMap,Md=new WeakMap,Rd=new WeakSet,Ld=function(){this.ended||Tl(this,Md,void 0,"f")},Dd=function(e){let t=Il(this,Id,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Il(this,Id,"f")[e.index]=t,t)},zd=function(e){if(this.ended)return;const t=Il(this,Rd,"m",Hd).call(this,e);this._emit("chunk",e,t);for(const _ of e.choices){var n,r,o,a,s,i,l,c;const e=t.choices[_.index];var u,d,f,h,p,m;if(null!=_.delta.content&&"assistant"===(null===(n=e.message)||void 0===n?void 0:n.role)&&null!==(r=e.message)&&void 0!==r&&r.content&&(this._emit("content",_.delta.content,e.message.content),this._emit("content.delta",{delta:_.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=_.delta.refusal&&"assistant"===(null===(o=e.message)||void 0===o?void 0:o.role)&&null!==(a=e.message)&&void 0!==a&&a.refusal&&this._emit("refusal.delta",{delta:_.delta.refusal,snapshot:e.message.refusal}),null!=(null===(s=_.logprobs)||void 0===s?void 0:s.content)&&"assistant"===(null===(i=e.message)||void 0===i?void 0:i.role))this._emit("logprobs.content.delta",{content:null===(u=_.logprobs)||void 0===u?void 0:u.content,snapshot:null!==(d=null===(f=e.logprobs)||void 0===f?void 0:f.content)&&void 0!==d?d:[]});if(null!=(null===(l=_.logprobs)||void 0===l?void 0:l.refusal)&&"assistant"===(null===(c=e.message)||void 0===c?void 0:c.role))this._emit("logprobs.refusal.delta",{refusal:null===(h=_.logprobs)||void 0===h?void 0:h.refusal,snapshot:null!==(p=null===(m=e.logprobs)||void 0===m?void 0:m.refusal)&&void 0!==p?p:[]});const k=Il(this,Rd,"m",Dd).call(this,e);e.finish_reason&&(Il(this,Rd,"m",Ud).call(this,e),null!=k.current_tool_call_index&&Il(this,Rd,"m",Fd).call(this,e,k.current_tool_call_index));for(const t of null!==(g=_.delta.tool_calls)&&void 0!==g?g:[]){var g;k.current_tool_call_index!==t.index&&(Il(this,Rd,"m",Ud).call(this,e),null!=k.current_tool_call_index&&Il(this,Rd,"m",Fd).call(this,e,k.current_tool_call_index)),k.current_tool_call_index=t.index}for(const t of null!==(v=_.delta.tool_calls)&&void 0!==v?v:[]){var v,y;const n=null===(y=e.message.tool_calls)||void 0===y?void 0:y[t.index];var b,w,x;if(null!==n&&void 0!==n&&n.type)if("function"===(null===n||void 0===n?void 0:n.type))this._emit("tool_calls.function.arguments.delta",{name:null===(b=n.function)||void 0===b?void 0:b.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:null!==(w=null===(x=t.function)||void 0===x?void 0:x.arguments)&&void 0!==w?w:""});else Yd(null===n||void 0===n?void 0:n.type)}}},Fd=function(e,t){var n;if(Il(this,Rd,"m",Dd).call(this,e).done_tool_calls.has(t))return;const r=null===(n=e.message.tool_calls)||void 0===n?void 0:n[t];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if("function"===r.type){var o;const e=null===(o=Il(this,Td,"f"))||void 0===o||null===(o=o.tools)||void 0===o?void 0:o.find(e=>Iu(e)&&e.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:Lu(e)?e.$parseRaw(r.function.arguments):null!==e&&void 0!==e&&e.function.strict?JSON.parse(r.function.arguments):null})}else r.type},Ud=function(e){var t,n;const r=Il(this,Rd,"m",Dd).call(this,e);if(e.message.content&&!r.content_done){r.content_done=!0;const t=Il(this,Rd,"m",Wd).call(this);this._emit("content.done",{content:e.message.content,parsed:t?t.$parseRaw(e.message.content):null})}e.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),null!==(t=e.logprobs)&&void 0!==t&&t.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),null!==(n=e.logprobs)&&void 0!==n&&n.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},Bd=function(){if(this.ended)throw new zl("stream has ended, this shouldn't happen");const e=Il(this,Md,"f");if(!e)throw new zl("request ended without sending any chunks");return Tl(this,Md,void 0,"f"),Tl(this,Id,[],"f"),function(e,t){const{id:n,choices:r,created:o,model:a,system_fingerprint:s}=e,i=d(e,Cd),l=u(u({},i),{},{id:n,choices:r.map(t=>{var n;let{message:r,finish_reason:o,index:a,logprobs:s}=t,i=d(t,Od);if(!o)throw new zl("missing finish_reason for choice ".concat(a));const{content:l=null,function_call:c,tool_calls:f}=r,h=d(r,Ad),p=r.role;if(!p)throw new zl("missing role for choice ".concat(a));if(c){var m;const{arguments:e,name:t}=c;if(null==e)throw new zl("missing function_call.arguments for choice ".concat(a));if(!t)throw new zl("missing function_call.name for choice ".concat(a));return u(u({},i),{},{message:{content:l,function_call:{arguments:e,name:t},role:p,refusal:null!==(m=r.refusal)&&void 0!==m?m:null},finish_reason:o,index:a,logprobs:s})}var g;return u(u({},i),{},f?{index:a,finish_reason:o,logprobs:s,message:u(u({},h),{},{role:p,content:l,refusal:null!==(g=r.refusal)&&void 0!==g?g:null,tool_calls:f.map((t,n)=>{const{function:r,type:o,id:s}=t,i=d(t,jd),l=r||{},{arguments:c,name:f}=l,h=d(l,Pd);if(null==s)throw new zl("missing choices[".concat(a,"].tool_calls[").concat(n,"].id\n").concat(Xd(e)));if(null==o)throw new zl("missing choices[".concat(a,"].tool_calls[").concat(n,"].type\n").concat(Xd(e)));if(null==f)throw new zl("missing choices[".concat(a,"].tool_calls[").concat(n,"].function.name\n").concat(Xd(e)));if(null==c)throw new zl("missing choices[".concat(a,"].tool_calls[").concat(n,"].function.arguments\n").concat(Xd(e)));return u(u({},i),{},{id:s,type:o,function:u(u({},h),{},{name:f,arguments:c})})})})}:{message:u(u({},h),{},{content:l,role:p,refusal:null!==(n=r.refusal)&&void 0!==n?n:null}),finish_reason:o,index:a,logprobs:s})}),created:o,model:a,object:"chat.completion"},s?{system_fingerprint:s}:{});return function(e,t){return t&&Uu(t)?Du(e,t):u(u({},e),{},{choices:e.choices.map(e=>(Bu(e.message.tool_calls),u(u({},e),{},{message:u(u({},e.message),{},{parsed:null},e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0)})))})}(l,t)}(e,Il(this,Td,"f"))},Wd=function(){var e;const t=null===(e=Il(this,Td,"f"))||void 0===e?void 0:e.response_format;return Mu(t)?t:null},Hd=function(e){var t,n,r,o;let a=Il(this,Md,"f");const{choices:s}=e,i=d(e,_d);a?Object.assign(a,i):a=Tl(this,Md,u(u({},i),{},{choices:[]}),"f");for(const g of e.choices){const{delta:e,finish_reason:s,index:i,logprobs:v=null}=g,y=d(g,kd);{let g=a.choices[i];if(g||(g=a.choices[i]=u({finish_reason:s,index:i,message:{},logprobs:v},y)),v)if(g.logprobs){const{content:e,refusal:r}=v,o=d(v,Sd);var l,c;if($d(o),Object.assign(g.logprobs,o),e)null!==(l=(t=g.logprobs).content)&&void 0!==l||(t.content=[]),g.logprobs.content.push(...e);if(r)null!==(c=(n=g.logprobs).refusal)&&void 0!==c||(n.refusal=[]),g.logprobs.refusal.push(...r)}else g.logprobs=Object.assign({},v);if(s&&(g.finish_reason=s,Il(this,Td,"f")&&Uu(Il(this,Td,"f")))){if("length"===s)throw new Jl;if("content_filter"===s)throw new Ql}if(Object.assign(g,y),!e)continue;const{content:b,refusal:w,function_call:x,role:_,tool_calls:k}=e,S=d(e,Ed);var f;if($d(S),Object.assign(g.message,S),w&&(g.message.refusal=(g.message.refusal||"")+w),_&&(g.message.role=_),x)if(g.message.function_call){if(x.name&&(g.message.function_call.name=x.name),x.arguments)null!==(f=(r=g.message.function_call).arguments)&&void 0!==f||(r.arguments=""),g.message.function_call.arguments+=x.arguments}else g.message.function_call=x;if(b&&(g.message.content=(g.message.content||"")+b,!g.message.refusal&&Il(this,Rd,"m",Wd).call(this)&&(g.message.parsed=xd(g.message.content))),k){g.message.tool_calls||(g.message.tool_calls=[]);for(const e of k){var h,p,m;const{index:t,id:n,type:r,function:a}=e,s=d(e,Nd),i=null!==(h=(o=g.message.tool_calls)[t])&&void 0!==h?h:o[t]={};Object.assign(i,s),n&&(i.id=n),r&&(i.type=r),a&&(null!==(p=i.function)&&void 0!==p||(i.function={name:null!==(m=a.name)&&void 0!==m?m:"",arguments:""})),null!==a&&void 0!==a&&a.name&&(i.function.name=a.name),null!==a&&void 0!==a&&a.arguments&&(i.function.arguments+=a.arguments,Fu(Il(this,Td,"f"),i)&&(i.function.parsed_arguments=xd(i.function.arguments)))}}}}return a},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new nu(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Xd(e){return JSON.stringify(e)}function $d(e){}function Yd(e){}class Jd extends Kd{static fromReadableStream(e){const t=new Jd(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,n){const r=new Jd(t),o=u(u({},n),{},{headers:u(u({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return r._run(()=>r._runTools(e,t,o)),r}}class Qd extends Cu{constructor(){super(...arguments),this.messages=new Tu(this._client)}create(e,t){var n;return this._client.post("/chat/completions",u(u({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}retrieve(e,t){return this._client.get(Pu(qd||(qd=ai(["/chat/completions/",""])),e),t)}update(e,t,n){return this._client.post(Pu(Vd||(Vd=ai(["/chat/completions/",""])),e),u({body:t},n))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/chat/completions",fu,u({query:e},t))}delete(e,t){return this._client.delete(Pu(Zd||(Zd=ai(["/chat/completions/",""])),e),t)}parse(e,t){return function(e){for(const t of null!==e&&void 0!==e?e:[]){if("function"!==t.type)throw new zl("Currently only `function` tool types support auto-parsing; Received `".concat(t.type,"`"));if(!0!==t.function.strict)throw new zl("The `".concat(t.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}(e.tools),this._client.chat.completions.create(e,u(u({},t),{},{headers:u(u({},null===t||void 0===t?void 0:t.headers),{},{"X-Stainless-Helper-Method":"chat.completions.parse"})}))._thenUnwrap(t=>Du(t,e))}runTools(e,t){return e.stream?Jd.runTools(this._client,e,t):gd.runTools(this._client,e,t)}stream(e,t){return Kd.createChatCompletion(this._client,e,t)}}Qd.Messages=Tu;class Gd extends Cu{constructor(){super(...arguments),this.completions=new Qd(this._client)}}Gd.Completions=Qd;const ef=Symbol("brand.privateNullableHeaders");function*tf(e){if(!e)return;if(ef in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():nc(e)?t=e:(n=!0,t=Object.entries(null!==e&&void 0!==e?e:{}));for(let r of t){const e=r[0];if("string"!==typeof e)throw new TypeError("expected header name to be a string");const t=nc(r[1])?r[1]:[r[1]];let o=!1;for(const r of t)void 0!==r&&(n&&!o&&(o=!0,yield[e,null]),yield[e,r])}}const nf=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,a]of tf(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===a?(t.delete(o),n.add(r)):(t.append(o,a),n.delete(r))}}return{[ef]:!0,values:t,nulls:n}};class rf extends Cu{create(e,t){return this._client.post("/audio/speech",u(u({body:e},t),{},{headers:nf([{Accept:"application/octet-stream"},null===t||void 0===t?void 0:t.headers]),__binaryResponse:!0}))}}class of extends Cu{create(e,t){var n;return this._client.post("/audio/transcriptions",bu(u(u({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n,__metadata:{model:e.model}}),this._client))}}class af extends Cu{create(e,t){return this._client.post("/audio/translations",bu(u(u({body:e},t),{},{__metadata:{model:e.model}}),this._client))}}class sf extends Cu{constructor(){super(...arguments),this.transcriptions=new of(this._client),this.translations=new af(this._client),this.speech=new rf(this._client)}}var lf,cf,uf,df,ff,hf,pf,mf,gf;sf.Transcriptions=of,sf.Translations=af,sf.Speech=rf;class vf extends Cu{create(e,t){return this._client.post("/batches",u({body:e},t))}retrieve(e,t){return this._client.get(Pu(lf||(lf=ai(["/batches/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/batches",fu,u({query:e},t))}cancel(e,t){return this._client.post(Pu(cf||(cf=ai(["/batches/","/cancel"])),e),t)}}class yf extends Cu{create(e,t){return this._client.post("/assistants",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}retrieve(e,t){return this._client.get(Pu(uf||(uf=ai(["/assistants/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}update(e,t,n){return this._client.post(Pu(df||(df=ai(["/assistants/",""])),e),u(u({body:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/assistants",fu,u(u({query:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}delete(e,t){return this._client.delete(Pu(ff||(ff=ai(["/assistants/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}}class bf extends Cu{create(e,t){return this._client.post("/realtime/sessions",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}}class wf extends Cu{create(e,t){return this._client.post("/realtime/transcription_sessions",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}}class xf extends Cu{constructor(){super(...arguments),this.sessions=new bf(this._client),this.transcriptionSessions=new wf(this._client)}}xf.Sessions=bf,xf.TranscriptionSessions=wf;class _f extends Cu{create(e,t){return this._client.post("/chatkit/sessions",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===t||void 0===t?void 0:t.headers])}))}cancel(e,t){return this._client.post(Pu(hf||(hf=ai(["/chatkit/sessions/","/cancel"])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===t||void 0===t?void 0:t.headers])}))}}class kf extends Cu{retrieve(e,t){return this._client.get(Pu(pf||(pf=ai(["/chatkit/threads/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===t||void 0===t?void 0:t.headers])}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/chatkit/threads",hu,u(u({query:e},t),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===t||void 0===t?void 0:t.headers])}))}delete(e,t){return this._client.delete(Pu(mf||(mf=ai(["/chatkit/threads/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===t||void 0===t?void 0:t.headers])}))}listItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(gf||(gf=ai(["/chatkit/threads/","/items"])),e),hu,u(u({query:t},n),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===n||void 0===n?void 0:n.headers])}))}}class Sf extends Cu{constructor(){super(...arguments),this.sessions=new _f(this._client),this.threads=new kf(this._client)}uploadFile(e,t){return this._client.post("/chatkit/files",yu(u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"chatkit_beta=v1"},null===t||void 0===t?void 0:t.headers])}),this._client))}}Sf.Sessions=_f,Sf.Threads=kf;const Ef=["thread_id"];var Nf,Cf,Of,Af,jf,Pf,Rf;class Tf extends Cu{create(e,t,n){return this._client.post(Pu(Nf||(Nf=ai(["/threads/","/messages"])),e),u(u({body:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(Pu(Cf||(Cf=ai(["/threads/","/messages/",""])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}update(e,t,n){const{thread_id:r}=t,o=d(t,Ef);return this._client.post(Pu(Of||(Of=ai(["/threads/","/messages/",""])),r,e),u(u({body:o},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(Af||(Af=ai(["/threads/","/messages"])),e),fu,u(u({query:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}delete(e,t,n){const{thread_id:r}=t;return this._client.delete(Pu(jf||(jf=ai(["/threads/","/messages/",""])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}const If=["thread_id","run_id"],Mf=["thread_id"];class Lf extends Cu{retrieve(e,t,n){const{thread_id:r,run_id:o}=t,a=d(t,If);return this._client.get(Pu(Pf||(Pf=ai(["/threads/","/runs/","/steps/",""])),r,o,e),u(u({query:a},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e,t,n){const{thread_id:r}=t,o=d(t,Mf);return this._client.getAPIList(Pu(Rf||(Rf=ai(["/threads/","/runs/","/steps"])),r,e),fu,u(u({query:o},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}const Df=e=>{var t,n,r,o;return"undefined"!==typeof globalThis.process?null!==(t=null===(n=globalThis.process.env)||void 0===n||null===(n=n[e])||void 0===n?void 0:n.trim())&&void 0!==t?t:void 0:"undefined"!==typeof globalThis.Deno?null===(r=globalThis.Deno.env)||void 0===r||null===(o=r.get)||void 0===o||null===(o=o.call(r,e))||void 0===o?void 0:o.trim():void 0};var zf,Ff,Uf,Bf,Wf,Hf,qf,Vf,Zf,Kf,Xf,$f,Yf,Jf,Qf,Gf,eh,th,nh,rh,oh,ah,sh,ih,lh,ch,uh,dh,fh;class hh extends rd{constructor(){super(...arguments),zf.add(this),Uf.set(this,[]),Bf.set(this,{}),Wf.set(this,{}),Hf.set(this,void 0),qf.set(this,void 0),Vf.set(this,void 0),Zf.set(this,void 0),Kf.set(this,void 0),Xf.set(this,void 0),$f.set(this,void 0),Yf.set(this,void 0),Jf.set(this,void 0)}[(Uf=new WeakMap,Bf=new WeakMap,Wf=new WeakMap,Hf=new WeakMap,qf=new WeakMap,Vf=new WeakMap,Zf=new WeakMap,Kf=new WeakMap,Xf=new WeakMap,$f=new WeakMap,Yf=new WeakMap,Jf=new WeakMap,zf=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Ff;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var n;const r=null===t||void 0===t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=nu.fromReadableStream(e,this.controller);var a,s=!1,i=!1;try{for(var l,c=jc(o);s=!(l=await c.next()).done;s=!1){const e=l.value;Il(this,zf,"m",Qf).call(this,e)}}catch(u){i=!0,a=u}finally{try{s&&null!=c.return&&await c.return()}finally{if(i)throw a}}if(null!==(n=o.controller.signal)&&void 0!==n&&n.aborted)throw new Ul;return this._addRun(Il(this,zf,"m",Gf).call(this))}toReadableStream(){return new nu(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r){const o=new Ff;return o._run(()=>o._runToolAssistantStream(e,t,n,u(u({},r),{},{headers:u(u({},null===r||void 0===r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})}))),o}async _createToolAssistantStream(e,t,n,r){var o;const a=null===r||void 0===r?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s=u(u({},n),{},{stream:!0}),i=await e.submitToolOutputs(t,s,u(u({},r),{},{signal:this.controller.signal}));this._connected();var l,c=!1,d=!1;try{for(var f,h=jc(i);c=!(f=await h.next()).done;c=!1){const e=f.value;Il(this,zf,"m",Qf).call(this,e)}}catch(p){d=!0,l=p}finally{try{c&&null!=h.return&&await h.return()}finally{if(d)throw l}}if(null!==(o=i.controller.signal)&&void 0!==o&&o.aborted)throw new Ul;return this._addRun(Il(this,zf,"m",Gf).call(this))}static createThreadAssistantStream(e,t,n){const r=new Ff;return r._run(()=>r._threadAssistantStream(e,t,u(u({},n),{},{headers:u(u({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})}))),r}static createAssistantStream(e,t,n,r){const o=new Ff;return o._run(()=>o._runAssistantStream(e,t,n,u(u({},r),{},{headers:u(u({},null===r||void 0===r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})}))),o}currentEvent(){return Il(this,$f,"f")}currentRun(){return Il(this,Yf,"f")}currentMessageSnapshot(){return Il(this,Hf,"f")}currentRunStepSnapshot(){return Il(this,Jf,"f")}async finalRunSteps(){return await this.done(),Object.values(Il(this,Bf,"f"))}async finalMessages(){return await this.done(),Object.values(Il(this,Wf,"f"))}async finalRun(){if(await this.done(),!Il(this,qf,"f"))throw Error("Final run was not received.");return Il(this,qf,"f")}async _createThreadAssistantStream(e,t,n){var r;const o=null===n||void 0===n?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a=u(u({},t),{},{stream:!0}),s=await e.createAndRun(a,u(u({},n),{},{signal:this.controller.signal}));this._connected();var i,l=!1,c=!1;try{for(var d,f=jc(s);l=!(d=await f.next()).done;l=!1){const e=d.value;Il(this,zf,"m",Qf).call(this,e)}}catch(h){c=!0,i=h}finally{try{l&&null!=f.return&&await f.return()}finally{if(c)throw i}}if(null!==(r=s.controller.signal)&&void 0!==r&&r.aborted)throw new Ul;return this._addRun(Il(this,zf,"m",Gf).call(this))}async _createAssistantStream(e,t,n,r){var o;const a=null===r||void 0===r?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s=u(u({},n),{},{stream:!0}),i=await e.create(t,s,u(u({},r),{},{signal:this.controller.signal}));this._connected();var l,c=!1,d=!1;try{for(var f,h=jc(i);c=!(f=await h.next()).done;c=!1){const e=f.value;Il(this,zf,"m",Qf).call(this,e)}}catch(p){d=!0,l=p}finally{try{c&&null!=h.return&&await h.return()}finally{if(d)throw l}}if(null!==(o=i.controller.signal)&&void 0!==o&&o.aborted)throw new Ul;return this._addRun(Il(this,zf,"m",Gf).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!oc(t)||!oc(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every(e=>"string"===typeof e||"number"===typeof e)){t.push(...r);continue}for(const e of r){if(!oc(e))throw new Error("Expected array delta entry to be an object but got: ".concat(e));const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error("Expected array delta entry `index` property to be a number but got ".concat(n));const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error("Unhandled record type: ".concat(n,", deltaValue: ").concat(r,", accValue: ").concat(t))}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r){return await this._createToolAssistantStream(t,e,n,r)}}Ff=hh,Qf=function(e){if(!this.ended)switch(Tl(this,$f,e,"f"),Il(this,zf,"m",nh).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Il(this,zf,"m",sh).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Il(this,zf,"m",th).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Il(this,zf,"m",eh).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Gf=function(){if(this.ended)throw new zl("stream has ended, this shouldn't happen");if(!Il(this,qf,"f"))throw Error("Final run has not been received");return Il(this,qf,"f")},eh=function(e){const[t,n]=Il(this,zf,"m",oh).call(this,e,Il(this,Hf,"f"));Tl(this,Hf,t,"f"),Il(this,Wf,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==(null===e||void 0===e?void 0:e.type)&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Il(this,Vf,"f")){if(Il(this,Zf,"f"))switch(Il(this,Zf,"f").type){case"text":this._emit("textDone",Il(this,Zf,"f").text,Il(this,Hf,"f"));break;case"image_file":this._emit("imageFileDone",Il(this,Zf,"f").image_file,Il(this,Hf,"f"))}Tl(this,Vf,n.index,"f")}Tl(this,Zf,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Il(this,Vf,"f")){const t=e.data.content[Il(this,Vf,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Il(this,Hf,"f"));break;case"text":this._emit("textDone",t.text,Il(this,Hf,"f"))}}Il(this,Hf,"f")&&this._emit("messageDone",e.data),Tl(this,Hf,void 0,"f")}},th=function(e){const t=Il(this,zf,"m",rh).call(this,e);switch(Tl(this,Jf,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Il(this,Kf,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Il(this,Xf,"f")&&this._emit("toolCallDone",Il(this,Xf,"f")),Tl(this,Kf,e.index,"f"),Tl(this,Xf,t.step_details.tool_calls[e.index],"f"),Il(this,Xf,"f")&&this._emit("toolCallCreated",Il(this,Xf,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Tl(this,Jf,void 0,"f");"tool_calls"==e.data.step_details.type&&Il(this,Xf,"f")&&(this._emit("toolCallDone",Il(this,Xf,"f")),Tl(this,Xf,void 0,"f")),this._emit("runStepDone",e.data,t)}},nh=function(e){Il(this,Uf,"f").push(e),this._emit("event",e)},rh=function(e){switch(e.event){case"thread.run.step.created":return Il(this,Bf,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Il(this,Bf,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=Ff.accumulateDelta(t,n.delta);Il(this,Bf,"f")[e.data.id]=r}return Il(this,Bf,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Il(this,Bf,"f")[e.data.id]=e.data}if(Il(this,Bf,"f")[e.data.id])return Il(this,Bf,"f")[e.data.id];throw new Error("No snapshot available")},oh=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Il(this,zf,"m",ah).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ah=function(e,t){return Ff.accumulateDelta(t,e)},sh=function(e){switch(Tl(this,Yf,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Tl(this,qf,e.data,"f"),Il(this,Xf,"f")&&(this._emit("toolCallDone",Il(this,Xf,"f")),Tl(this,Xf,void 0,"f"))}};const ph=["include"],mh=["thread_id"],gh=["thread_id"];class vh extends Cu{constructor(){super(...arguments),this.steps=new Lf(this._client)}create(e,t,n){var r;const{include:o}=t,a=d(t,ph);return this._client.post(Pu(ih||(ih=ai(["/threads/","/runs"])),e),u(u({query:{include:o},body:a},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers]),stream:null!==(r=t.stream)&&void 0!==r&&r}))}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(Pu(lh||(lh=ai(["/threads/","/runs/",""])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}update(e,t,n){const{thread_id:r}=t,o=d(t,mh);return this._client.post(Pu(ch||(ch=ai(["/threads/","/runs/",""])),r,e),u(u({body:o},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(uh||(uh=ai(["/threads/","/runs"])),e),fu,u(u({query:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(Pu(dh||(dh=ai(["/threads/","/runs/","/cancel"])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return hh.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){var r,o;const a=nf([null===n||void 0===n?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":null!==(r=null===n||void 0===n||null===(o=n.pollIntervalMs)||void 0===o?void 0:o.toString())&&void 0!==r?r:void 0}]);for(;;){const{data:r,response:o}=await this.retrieve(e,t,u(u({},n),{},{headers:u(u({},null===n||void 0===n?void 0:n.headers),a)})).withResponse();switch(r.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await ac(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return r}}}stream(e,t,n){return hh.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){var r;const{thread_id:o}=t,a=d(t,gh);return this._client.post(Pu(fh||(fh=ai(["/threads/","/runs/","/submit_tool_outputs"])),o,e),u(u({body:a},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers]),stream:null!==(r=t.stream)&&void 0!==r&&r}))}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return hh.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}}var yh,bh,wh,xh,_h,kh,Sh,Eh,Nh,Ch,Oh,Ah,jh,Ph;vh.Steps=Lf;class Rh extends Cu{constructor(){super(...arguments),this.runs=new vh(this._client),this.messages=new Tf(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.post("/threads",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}retrieve(e,t){return this._client.get(Pu(yh||(yh=ai(["/threads/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}update(e,t,n){return this._client.post(Pu(bh||(bh=ai(["/threads/",""])),e),u(u({body:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}delete(e,t){return this._client.delete(Pu(wh||(wh=ai(["/threads/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}createAndRun(e,t){var n;return this._client.post("/threads/runs",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers]),stream:null!==(n=e.stream)&&void 0!==n&&n}))}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return hh.createThreadAssistantStream(e,this._client.beta.threads,t)}}Rh.Runs=vh,Rh.Messages=Tf;class Th extends Cu{constructor(){super(...arguments),this.realtime=new xf(this._client),this.chatkit=new Sf(this._client),this.assistants=new yf(this._client),this.threads=new Rh(this._client)}}Th.Realtime=xf,Th.ChatKit=Sf,Th.Assistants=yf,Th.Threads=Rh;class Ih extends Cu{create(e,t){var n;return this._client.post("/completions",u(u({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}class Mh extends Cu{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(Pu(xh||(xh=ai(["/containers/","/files/","/content"])),r,e),u(u({},n),{},{headers:nf([{Accept:"application/binary"},null===n||void 0===n?void 0:n.headers]),__binaryResponse:!0}))}}class Lh extends Cu{constructor(){super(...arguments),this.content=new Mh(this._client)}create(e,t,n){return this._client.post(Pu(_h||(_h=ai(["/containers/","/files"])),e),bu(u({body:t},n),this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(Pu(kh||(kh=ai(["/containers/","/files/",""])),r,e),n)}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(Sh||(Sh=ai(["/containers/","/files"])),e),fu,u({query:t},n))}delete(e,t,n){const{container_id:r}=t;return this._client.delete(Pu(Eh||(Eh=ai(["/containers/","/files/",""])),r,e),u(u({},n),{},{headers:nf([{Accept:"*/*"},null===n||void 0===n?void 0:n.headers])}))}}Lh.Content=Mh;class Dh extends Cu{constructor(){super(...arguments),this.files=new Lh(this._client)}create(e,t){return this._client.post("/containers",u({body:e},t))}retrieve(e,t){return this._client.get(Pu(Nh||(Nh=ai(["/containers/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/containers",fu,u({query:e},t))}delete(e,t){return this._client.delete(Pu(Ch||(Ch=ai(["/containers/",""])),e),u(u({},t),{},{headers:nf([{Accept:"*/*"},null===t||void 0===t?void 0:t.headers])}))}}Dh.Files=Lh;const zh=["include"],Fh=["conversation_id"];class Uh extends Cu{create(e,t,n){const{include:r}=t,o=d(t,zh);return this._client.post(Pu(Oh||(Oh=ai(["/conversations/","/items"])),e),u({query:{include:r},body:o},n))}retrieve(e,t,n){const{conversation_id:r}=t,o=d(t,Fh);return this._client.get(Pu(Ah||(Ah=ai(["/conversations/","/items/",""])),r,e),u({query:o},n))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(jh||(jh=ai(["/conversations/","/items"])),e),hu,u({query:t},n))}delete(e,t,n){const{conversation_id:r}=t;return this._client.delete(Pu(Ph||(Ph=ai(["/conversations/","/items/",""])),r,e),n)}}var Bh,Wh,Hh;class qh extends Cu{constructor(){super(...arguments),this.items=new Uh(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.post("/conversations",u({body:e},t))}retrieve(e,t){return this._client.get(Pu(Bh||(Bh=ai(["/conversations/",""])),e),t)}update(e,t,n){return this._client.post(Pu(Wh||(Wh=ai(["/conversations/",""])),e),u({body:t},n))}delete(e,t){return this._client.delete(Pu(Hh||(Hh=ai(["/conversations/",""])),e),t)}}qh.Items=Uh;class Vh extends Cu{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&Jc(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",u({body:u(u({},e),{},{encoding_format:r})},t));return n?o:(Jc(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{const t=e.embedding;e.embedding=(e=>{if("undefined"!==typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}})(t)}),e)))}}const Zh=["eval_id"];var Kh,Xh,$h,Yh,Jh,Qh,Gh,ep,tp,np,rp,op,ap,sp,ip,lp,cp,up,dp,fp,hp,pp,mp,gp,vp,yp,bp,wp,xp,_p,kp,Sp,Ep,Np,Cp,Op,Ap,jp,Pp,Rp,Tp,Ip,Mp;class Lp extends Cu{retrieve(e,t,n){const{eval_id:r,run_id:o}=t;return this._client.get(Pu(Kh||(Kh=ai(["/evals/","/runs/","/output_items/",""])),r,o,e),n)}list(e,t,n){const{eval_id:r}=t,o=d(t,Zh);return this._client.getAPIList(Pu(Xh||(Xh=ai(["/evals/","/runs/","/output_items"])),r,e),fu,u({query:o},n))}}class Dp extends Cu{constructor(){super(...arguments),this.outputItems=new Lp(this._client)}create(e,t,n){return this._client.post(Pu($h||($h=ai(["/evals/","/runs"])),e),u({body:t},n))}retrieve(e,t,n){const{eval_id:r}=t;return this._client.get(Pu(Yh||(Yh=ai(["/evals/","/runs/",""])),r,e),n)}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(Jh||(Jh=ai(["/evals/","/runs"])),e),fu,u({query:t},n))}delete(e,t,n){const{eval_id:r}=t;return this._client.delete(Pu(Qh||(Qh=ai(["/evals/","/runs/",""])),r,e),n)}cancel(e,t,n){const{eval_id:r}=t;return this._client.post(Pu(Gh||(Gh=ai(["/evals/","/runs/",""])),r,e),n)}}Dp.OutputItems=Lp;class zp extends Cu{constructor(){super(...arguments),this.runs=new Dp(this._client)}create(e,t){return this._client.post("/evals",u({body:e},t))}retrieve(e,t){return this._client.get(Pu(ep||(ep=ai(["/evals/",""])),e),t)}update(e,t,n){return this._client.post(Pu(tp||(tp=ai(["/evals/",""])),e),u({body:t},n))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/evals",fu,u({query:e},t))}delete(e,t){return this._client.delete(Pu(np||(np=ai(["/evals/",""])),e),t)}}zp.Runs=Dp;class Fp extends Cu{create(e,t){return this._client.post("/files",bu(u({body:e},t),this._client))}retrieve(e,t){return this._client.get(Pu(rp||(rp=ai(["/files/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/files",fu,u({query:e},t))}delete(e,t){return this._client.delete(Pu(op||(op=ai(["/files/",""])),e),t)}content(e,t){return this._client.get(Pu(ap||(ap=ai(["/files/","/content"])),e),u(u({},t),{},{headers:nf([{Accept:"application/binary"},null===t||void 0===t?void 0:t.headers]),__binaryResponse:!0}))}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),o=Date.now();let a=await this.retrieve(e);for(;!a.status||!r.has(a.status);)if(await ac(t),a=await this.retrieve(e),Date.now()-o>n)throw new Wl({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return a}}class Up extends Cu{}class Bp extends Cu{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",u({body:e},t))}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",u({body:e},t))}}class Wp extends Cu{constructor(){super(...arguments),this.graders=new Bp(this._client)}}Wp.Graders=Bp;class Hp extends Cu{create(e,t,n){return this._client.getAPIList(Pu(sp||(sp=ai(["/fine_tuning/checkpoints/","/permissions"])),e),du,u({body:t,method:"post"},n))}retrieve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.get(Pu(ip||(ip=ai(["/fine_tuning/checkpoints/","/permissions"])),e),u({query:t},n))}delete(e,t,n){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(Pu(lp||(lp=ai(["/fine_tuning/checkpoints/","/permissions/",""])),r,e),n)}}class qp extends Cu{constructor(){super(...arguments),this.permissions=new Hp(this._client)}}qp.Permissions=Hp;class Vp extends Cu{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(cp||(cp=ai(["/fine_tuning/jobs/","/checkpoints"])),e),fu,u({query:t},n))}}class Zp extends Cu{constructor(){super(...arguments),this.checkpoints=new Vp(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",u({body:e},t))}retrieve(e,t){return this._client.get(Pu(up||(up=ai(["/fine_tuning/jobs/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/fine_tuning/jobs",fu,u({query:e},t))}cancel(e,t){return this._client.post(Pu(dp||(dp=ai(["/fine_tuning/jobs/","/cancel"])),e),t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(fp||(fp=ai(["/fine_tuning/jobs/","/events"])),e),fu,u({query:t},n))}pause(e,t){return this._client.post(Pu(hp||(hp=ai(["/fine_tuning/jobs/","/pause"])),e),t)}resume(e,t){return this._client.post(Pu(pp||(pp=ai(["/fine_tuning/jobs/","/resume"])),e),t)}}Zp.Checkpoints=Vp;class Kp extends Cu{constructor(){super(...arguments),this.methods=new Up(this._client),this.jobs=new Zp(this._client),this.checkpoints=new qp(this._client),this.alpha=new Wp(this._client)}}Kp.Methods=Up,Kp.Jobs=Zp,Kp.Checkpoints=qp,Kp.Alpha=Wp;class Xp extends Cu{}class $p extends Cu{constructor(){super(...arguments),this.graderModels=new Xp(this._client)}}$p.GraderModels=Xp;class Yp extends Cu{createVariation(e,t){return this._client.post("/images/variations",bu(u({body:e},t),this._client))}edit(e,t){var n;return this._client.post("/images/edits",bu(u(u({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}),this._client))}generate(e,t){var n;return this._client.post("/images/generations",u(u({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}class Jp extends Cu{retrieve(e,t){return this._client.get(Pu(mp||(mp=ai(["/models/",""])),e),t)}list(e){return this._client.getAPIList("/models",du,e)}delete(e,t){return this._client.delete(Pu(gp||(gp=ai(["/models/",""])),e),t)}}class Qp extends Cu{create(e,t){return this._client.post("/moderations",u({body:e},t))}}class Gp extends Cu{accept(e,t,n){return this._client.post(Pu(vp||(vp=ai(["/realtime/calls/","/accept"])),e),u(u({body:t},n),{},{headers:nf([{Accept:"*/*"},null===n||void 0===n?void 0:n.headers])}))}hangup(e,t){return this._client.post(Pu(yp||(yp=ai(["/realtime/calls/","/hangup"])),e),u(u({},t),{},{headers:nf([{Accept:"*/*"},null===t||void 0===t?void 0:t.headers])}))}refer(e,t,n){return this._client.post(Pu(bp||(bp=ai(["/realtime/calls/","/refer"])),e),u(u({body:t},n),{},{headers:nf([{Accept:"*/*"},null===n||void 0===n?void 0:n.headers])}))}reject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.post(Pu(wp||(wp=ai(["/realtime/calls/","/reject"])),e),u(u({body:t},n),{},{headers:nf([{Accept:"*/*"},null===n||void 0===n?void 0:n.headers])}))}}class em extends Cu{create(e,t){return this._client.post("/realtime/client_secrets",u({body:e},t))}}class tm extends Cu{constructor(){super(...arguments),this.clientSecrets=new em(this._client),this.calls=new Gp(this._client)}}function nm(e,t){return t&&function(e){var t;if(Mu(null===(t=e.text)||void 0===t?void 0:t.format))return!0;return!1}(t)?rm(e,t):u(u({},e),{},{output_parsed:null,output:e.output.map(e=>"function_call"===e.type?u(u({},e),{},{parsed_arguments:null}):"message"===e.type?u(u({},e),{},{content:e.content.map(e=>u(u({},e),{},{parsed:null}))}):e)})}function rm(e,t){const n=e.output.map(e=>{if("function_call"===e.type)return u(u({},e),{},{parsed_arguments:im(t,e)});if("message"===e.type){const n=e.content.map(e=>"output_text"===e.type?u(u({},e),{},{parsed:om(t,e.text)}):e);return u(u({},e),{},{content:n})}return e}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||lm(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function om(e,t){var n,r;if("json_schema"!==(null===(n=e.text)||void 0===n||null===(n=n.format)||void 0===n?void 0:n.type))return null;if("$parseRaw"in(null===(r=e.text)||void 0===r?void 0:r.format)){var o;return(null===(o=e.text)||void 0===o?void 0:o.format).$parseRaw(t)}return JSON.parse(t)}function am(e){return"auto-parseable-tool"===(null===e||void 0===e?void 0:e.$brand)}function sm(e,t){return e.find(e=>"function"===e.type&&e.name===t)}function im(e,t){var n;const r=sm(null!==(n=e.tools)&&void 0!==n?n:[],t.name);return u(u(u({},t),t),{},{parsed_arguments:am(r)?r.$parseRaw(t.arguments):null!==r&&void 0!==r&&r.strict?JSON.parse(t.arguments):null})}function lm(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}tm.ClientSecrets=em,tm.Calls=Gp;class cm extends rd{constructor(e){super(),xp.add(this),_p.set(this,void 0),kp.set(this,void 0),Sp.set(this,void 0),Tl(this,_p,e,"f")}static createResponse(e,t,n){const r=new cm(t);return r._run(()=>r._createOrRetrieveResponse(e,t,u(u({},n),{},{headers:u(u({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})}))),r}async _createOrRetrieveResponse(e,t,n){var r;const o=null===n||void 0===n?void 0:n.signal;let a;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Il(this,xp,"m",Ep).call(this);let s=null;var i;"response_id"in t?(a=await e.responses.retrieve(t.response_id,{stream:!0},u(u({},n),{},{signal:this.controller.signal,stream:!0})),s=null!==(i=t.starting_after)&&void 0!==i?i:null):a=await e.responses.create(u(u({},t),{},{stream:!0}),u(u({},n),{},{signal:this.controller.signal}));this._connected();var l,c=!1,d=!1;try{for(var f,h=jc(a);c=!(f=await h.next()).done;c=!1){const e=f.value;Il(this,xp,"m",Np).call(this,e,s)}}catch(p){d=!0,l=p}finally{try{c&&null!=h.return&&await h.return()}finally{if(d)throw l}}if(null!==(r=a.controller.signal)&&void 0!==r&&r.aborted)throw new Ul;return Il(this,xp,"m",Cp).call(this)}[(_p=new WeakMap,kp=new WeakMap,Sp=new WeakMap,xp=new WeakSet,Ep=function(){this.ended||Tl(this,kp,void 0,"f")},Np=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},r=Il(this,xp,"m",Op).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=r.output[e.output_index];if(!t)throw new zl("missing output at index ".concat(e.output_index));if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new zl("missing content at index ".concat(e.content_index));if("output_text"!==r.type)throw new zl("expected content to be 'output_text', got ".concat(r.type));n("response.output_text.delta",u(u({},e),{},{snapshot:r.text}))}break}case"response.function_call_arguments.delta":{const t=r.output[e.output_index];if(!t)throw new zl("missing output at index ".concat(e.output_index));"function_call"===t.type&&n("response.function_call_arguments.delta",u(u({},e),{},{snapshot:t.arguments}));break}default:n(e.type,e)}},Cp=function(){if(this.ended)throw new zl("stream has ended, this shouldn't happen");const e=Il(this,kp,"f");if(!e)throw new zl("request ended without sending any events");Tl(this,kp,void 0,"f");const t=function(e,t){return nm(e,t)}(e,Il(this,_p,"f"));return Tl(this,Sp,t,"f"),t},Op=function(e){let t=Il(this,kp,"f");if(!t){if("response.created"!==e.type)throw new zl("When snapshot hasn't been set yet, expected 'response.created' event, got ".concat(e.type));return t=Tl(this,kp,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new zl("missing output at index ".concat(e.output_index));const r=n.type,o=e.part;"message"===r&&"reasoning_text"!==o.type?n.content.push(o):"reasoning"===r&&"reasoning_text"===o.type&&(n.content||(n.content=[]),n.content.push(o));break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new zl("missing output at index ".concat(e.output_index));if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new zl("missing content at index ".concat(e.content_index));if("output_text"!==t.type)throw new zl("expected content to be 'output_text', got ".concat(t.type));t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new zl("missing output at index ".concat(e.output_index));"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.reasoning_text.delta":{const r=t.output[e.output_index];if(!r)throw new zl("missing output at index ".concat(e.output_index));if("reasoning"===r.type){var n;const t=null===(n=r.content)||void 0===n?void 0:n[e.content_index];if(!t)throw new zl("missing content at index ".concat(e.content_index));if("reasoning_text"!==t.type)throw new zl("expected content to be 'reasoning_text', got ".concat(t.type));t.text+=e.delta}break}case"response.completed":Tl(this,kp,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Il(this,Sp,"f");if(!e)throw new zl("stream ended without producing a ChatCompletion");return e}}class um extends Cu{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(Ap||(Ap=ai(["/responses/","/input_items"])),e),fu,u({query:t},n))}}class dm extends Cu{constructor(){super(...arguments),this.inputItems=new um(this._client)}create(e,t){var n;return this._client.post("/responses",u(u({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))._thenUnwrap(e=>("object"in e&&"response"===e.object&&lm(e),e))}retrieve(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this._client.get(Pu(jp||(jp=ai(["/responses/",""])),e),u(u({query:n},r),{},{stream:null!==(t=null===n||void 0===n?void 0:n.stream)&&void 0!==t&&t}))._thenUnwrap(e=>("object"in e&&"response"===e.object&&lm(e),e))}delete(e,t){return this._client.delete(Pu(Pp||(Pp=ai(["/responses/",""])),e),u(u({},t),{},{headers:nf([{Accept:"*/*"},null===t||void 0===t?void 0:t.headers])}))}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>rm(t,e))}stream(e,t){return cm.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(Pu(Rp||(Rp=ai(["/responses/","/cancel"])),e),t)}}dm.InputItems=um;class fm extends Cu{create(e,t,n){return this._client.post(Pu(Tp||(Tp=ai(["/uploads/","/parts"])),e),bu(u({body:t},n),this._client))}}class hm extends Cu{constructor(){super(...arguments),this.parts=new fm(this._client)}create(e,t){return this._client.post("/uploads",u({body:e},t))}cancel(e,t){return this._client.post(Pu(Ip||(Ip=ai(["/uploads/","/cancel"])),e),t)}complete(e,t,n){return this._client.post(Pu(Mp||(Mp=ai(["/uploads/","/complete"])),e),u({body:t},n))}}hm.Parts=fm;const pm=["vector_store_id"];var mm,gm,vm,ym;class bm extends Cu{create(e,t,n){return this._client.post(Pu(mm||(mm=ai(["/vector_stores/","/file_batches"])),e),u(u({body:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(Pu(gm||(gm=ai(["/vector_stores/","/file_batches/",""])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}cancel(e,t,n){const{vector_store_id:r}=t;return this._client.post(Pu(vm||(vm=ai(["/vector_stores/","/file_batches/","/cancel"])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n){const{vector_store_id:r}=t,o=d(t,pm);return this._client.getAPIList(Pu(ym||(ym=ai(["/vector_stores/","/file_batches/","/files"])),r,e),fu,u(u({query:o},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async poll(e,t,n){var r,o;const a=nf([null===n||void 0===n?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":null!==(r=null===n||void 0===n||null===(o=n.pollIntervalMs)||void 0===o?void 0:o.toString())&&void 0!==r?r:void 0}]);for(;;){const{data:r,response:o}=await this.retrieve(t,{vector_store_id:e},u(u({},n),{},{headers:a})).withResponse();switch(r.status){case"in_progress":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await ac(e);break;case"failed":case"cancelled":case"completed":return r}}}async uploadAndPoll(e,t,n){var r;let{files:o,fileIds:a=[]}=t;if(null==o||0==o.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=null!==(r=null===n||void 0===n?void 0:n.maxConcurrency)&&void 0!==r?r:5,i=Math.min(s,o.length),l=this._client,c=o.values(),u=[...a];const d=Array(i).fill(c).map(async function(e){for(let t of e){const e=await l.files.create({file:t,purpose:"assistants"},n);u.push(e.id)}});return await(async e=>{const t=await Promise.allSettled(e),n=t.filter(e=>"rejected"===e.status);if(n.length){for(const e of n)console.error(e.reason);throw new Error("".concat(n.length," promise(s) failed - see the above errors"))}const r=[];for(const o of t)"fulfilled"===o.status&&r.push(o.value);return r})(d),await this.createAndPoll(e,{file_ids:u})}}const wm=["vector_store_id"];var xm,_m,km,Sm,Em,Nm,Cm,Om,Am,jm,Pm,Rm,Tm,Im,Mm,Lm,Dm;class zm extends Cu{create(e,t,n){return this._client.post(Pu(xm||(xm=ai(["/vector_stores/","/files"])),e),u(u({body:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(Pu(_m||(_m=ai(["/vector_stores/","/files/",""])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}update(e,t,n){const{vector_store_id:r}=t,o=d(t,wm);return this._client.post(Pu(km||(km=ai(["/vector_stores/","/files/",""])),r,e),u(u({body:o},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(Pu(Sm||(Sm=ai(["/vector_stores/","/files"])),e),fu,u(u({query:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}delete(e,t,n){const{vector_store_id:r}=t;return this._client.delete(Pu(Em||(Em=ai(["/vector_stores/","/files/",""])),r,e),u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){var r,o;const a=nf([null===n||void 0===n?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":null!==(r=null===n||void 0===n||null===(o=n.pollIntervalMs)||void 0===o?void 0:o.toString())&&void 0!==r?r:void 0}]);for(;;){const r=await this.retrieve(t,{vector_store_id:e},u(u({},n),{},{headers:a})).withResponse(),o=r.data;switch(o.status){case"in_progress":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=r.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await ac(e);break;case"failed":case"completed":return o}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){const{vector_store_id:r}=t;return this._client.getAPIList(Pu(Nm||(Nm=ai(["/vector_stores/","/files/","/content"])),r,e),du,u(u({},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}class Fm extends Cu{constructor(){super(...arguments),this.files=new zm(this._client),this.fileBatches=new bm(this._client)}create(e,t){return this._client.post("/vector_stores",u(u({body:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}retrieve(e,t){return this._client.get(Pu(Cm||(Cm=ai(["/vector_stores/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}update(e,t,n){return this._client.post(Pu(Om||(Om=ai(["/vector_stores/",""])),e),u(u({body:t},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/vector_stores",fu,u(u({query:e},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}delete(e,t){return this._client.delete(Pu(Am||(Am=ai(["/vector_stores/",""])),e),u(u({},t),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}search(e,t,n){return this._client.getAPIList(Pu(jm||(jm=ai(["/vector_stores/","/search"])),e),du,u(u({body:t,method:"post"},n),{},{headers:nf([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}Fm.Files=zm,Fm.FileBatches=bm;class Um extends Cu{create(e,t){return this._client.post("/videos",yu(u({body:e},t),this._client))}retrieve(e,t){return this._client.get(Pu(Pm||(Pm=ai(["/videos/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/videos",hu,u({query:e},t))}delete(e,t){return this._client.delete(Pu(Rm||(Rm=ai(["/videos/",""])),e),t)}downloadContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.get(Pu(Tm||(Tm=ai(["/videos/","/content"])),e),u(u({query:t},n),{},{headers:nf([{Accept:"application/binary"},null===n||void 0===n?void 0:n.headers]),__binaryResponse:!0}))}remix(e,t,n){return this._client.post(Pu(Im||(Im=ai(["/videos/","/remix"])),e),yu(u({body:t},n),this._client))}}class Bm extends Cu{constructor(){super(...arguments),Mm.add(this)}async unwrap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._client.webhookSecret,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;return await this.verifySignature(e,t,n,r),JSON.parse(e)}async verifySignature(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._client.webhookSecret,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;if("undefined"===typeof crypto||"function"!==typeof crypto.subtle.importKey||"function"!==typeof crypto.subtle.verify)throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");Il(this,Mm,"m",Lm).call(this,n);const o=nf([t]).values,a=Il(this,Mm,"m",Dm).call(this,o,"webhook-signature"),s=Il(this,Mm,"m",Dm).call(this,o,"webhook-timestamp"),i=Il(this,Mm,"m",Dm).call(this,o,"webhook-id"),l=parseInt(s,10);if(isNaN(l))throw new Gl("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-l>r)throw new Gl("Webhook timestamp is too old");if(l>c+r)throw new Gl("Webhook timestamp is too new");const u=a.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),d=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=i?"".concat(i,".").concat(s,".").concat(e):"".concat(s,".").concat(e),h=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const m of u)try{const e=Buffer.from(m,"base64");if(await crypto.subtle.verify("HMAC",h,e,(new TextEncoder).encode(f)))return}catch(p){continue}throw new Gl("The given webhook signature does not match the expected signature")}}Mm=new WeakSet,Lm=function(e){if("string"!==typeof e||0===e.length)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Dm=function(e,t){if(!e)throw new Error("Headers are required");const n=e.get(t);if(null===n||void 0===n)throw new Error("Missing required header: ".concat(t));return n};const Wm=["baseURL","apiKey","organization","project","webhookSecret"],Hm=["signal","method"];var qm,Vm,Zm,Km;class Xm{constructor(){var e,t,n,r,o,a,s,i,l;let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{baseURL:f=Df("OPENAI_BASE_URL"),apiKey:h=Df("OPENAI_API_KEY"),organization:p=(null!==(e=Df("OPENAI_ORG_ID"))&&void 0!==e?e:null),project:m=(null!==(t=Df("OPENAI_PROJECT_ID"))&&void 0!==t?t:null),webhookSecret:g=(null!==(n=Df("OPENAI_WEBHOOK_SECRET"))&&void 0!==n?n:null)}=c,v=d(c,Wm);if(qm.add(this),Zm.set(this,void 0),this.completions=new Ih(this),this.chat=new Gd(this),this.embeddings=new Vh(this),this.files=new Fp(this),this.images=new Yp(this),this.audio=new sf(this),this.moderations=new Qp(this),this.models=new Jp(this),this.fineTuning=new Kp(this),this.graders=new $p(this),this.vectorStores=new Fm(this),this.webhooks=new Bm(this),this.beta=new Th(this),this.batches=new vf(this),this.uploads=new hm(this),this.responses=new dm(this),this.realtime=new tm(this),this.conversations=new qh(this),this.evals=new zp(this),this.containers=new Dh(this),this.videos=new Um(this),void 0===h)throw new zl("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const y=u(u({apiKey:h,organization:p,project:m,webhookSecret:g},v),{},{baseURL:f||"https://api.openai.com/v1"});if(!y.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new zl("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=y.baseURL,this.timeout=null!==(r=y.timeout)&&void 0!==r?r:Vm.DEFAULT_TIMEOUT,this.logger=null!==(o=y.logger)&&void 0!==o?o:console;const b="warn";this.logLevel=b,this.logLevel=null!==(a=null!==(s=Zc(y.logLevel,"ClientOptions.logLevel",this))&&void 0!==s?s:Zc(Df("OPENAI_LOG"),"process.env['OPENAI_LOG']",this))&&void 0!==a?a:b,this.fetchOptions=y.fetchOptions,this.maxRetries=null!==(i=y.maxRetries)&&void 0!==i?i:2,this.fetch=null!==(l=y.fetch)&&void 0!==l?l:function(){if("undefined"!==typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),Tl(this,Zm,pc,"f"),this._options=y,this.apiKey="string"===typeof h?h:"Missing Key",this.organization=p,this.project=m,this.webhookSecret=g}withOptions(e){return new this.constructor(u(u({},this._options),{},{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret},e))}defaultQuery(){return this._options.defaultQuery}validateHeaders(e){let{values:t,nulls:n}=e}async authHeaders(e){return nf([{Authorization:"Bearer ".concat(this.apiKey)}])}stringifyQuery(e){return Ac(e,{arrayFormat:"brackets"})}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(sc)}defaultIdempotencyKey(){return"stainless-node-retry-".concat(Ml())}makeStatusError(e,t,n,r){return Fl.generate(e,t,n,r)}async _callApiKey(){const e=this._options.apiKey;if("function"!==typeof e)return!1;let t;try{t=await e()}catch(n){if(n instanceof zl)throw n;throw new zl("Failed to get token from 'apiKey' function: ".concat(n.message),{cause:n})}if("string"!==typeof t||!t)throw new zl("Expected 'apiKey' function argument to return a string but it returned ".concat(t));return this.apiKey=t,!0}buildURL(e,t,n){const r=!Il(this,qm,"m",Km).call(this)&&n||this.baseURL,o=(e=>ec.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(a)||(t=u(u({},a),t)),"object"===typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,t){let{url:n,options:r}=t}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>u({method:e,path:t},n)))}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new lu(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,o;const a=await e,s=null!==(r=a.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=s),await this.prepareOptions(a);const{req:i,url:l,timeout:c}=await this.buildRequest(a,{retryCount:s-t});await this.prepareRequest(i,{url:l,options:a});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=void 0===n?"":", retryOf: ".concat(n),f=Date.now();if(Jc(this).debug("[".concat(u,"] sending request"),Qc({retryOfRequestLogID:n,method:a.method,url:l,options:a,headers:i.headers})),null!==(o=a.signal)&&void 0!==o&&o.aborted)throw new Ul;const h=new AbortController,p=await this.fetchWithTimeout(l,i,c,h).catch(Dl),m=Date.now();if(p instanceof globalThis.Error){var g;const e="retrying, ".concat(t," attempts remaining");if(null!==(g=a.signal)&&void 0!==g&&g.aborted)throw new Ul;const r=Ll(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(t)return Jc(this).info("[".concat(u,"] connection ").concat(r?"timed out":"failed"," - ").concat(e)),Jc(this).debug("[".concat(u,"] connection ").concat(r?"timed out":"failed"," (").concat(e,")"),Qc({retryOfRequestLogID:n,url:l,durationMs:m-f,message:p.message})),this.retryRequest(a,t,null!==n&&void 0!==n?n:u);if(Jc(this).info("[".concat(u,"] connection ").concat(r?"timed out":"failed"," - error; no more retries left")),Jc(this).debug("[".concat(u,"] connection ").concat(r?"timed out":"failed"," (error; no more retries left)"),Qc({retryOfRequestLogID:n,url:l,durationMs:m-f,message:p.message})),r)throw new Wl;throw new Bl({cause:p})}const v=[...p.headers.entries()].filter(e=>{let[t]=e;return"x-request-id"===t}).map(e=>{let[t,n]=e;return", "+t+": "+JSON.stringify(n)}).join(""),y="[".concat(u).concat(d).concat(v,"] ").concat(i.method," ").concat(l," ").concat(p.ok?"succeeded":"failed"," with status ").concat(p.status," in ").concat(m-f,"ms");if(!p.ok){const e=await this.shouldRetry(p);if(t&&e){const e="retrying, ".concat(t," attempts remaining");return await async function(e){if(null===e||"object"!==typeof e)return;var t,n;if(e[Symbol.asyncIterator])return void await(null===(t=(n=e[Symbol.asyncIterator]()).return)||void 0===t?void 0:t.call(n));const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}(p.body),Jc(this).info("".concat(y," - ").concat(e)),Jc(this).debug("[".concat(u,"] response error (").concat(e,")"),Qc({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:m-f})),this.retryRequest(a,t,null!==n&&void 0!==n?n:u,p.headers)}const r=e?"error; no more retries left":"error; not retryable";Jc(this).info("".concat(y," - ").concat(r));const o=await p.text().catch(e=>Dl(e).message),s=(e=>{try{return JSON.parse(e)}catch(t){return}})(o),i=s?void 0:o;Jc(this).debug("[".concat(u,"] response error (").concat(r,")"),Qc({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,message:i,durationMs:Date.now()-f}));throw this.makeStatusError(p.status,s,i,p.headers)}return Jc(this).info(y),Jc(this).debug("[".concat(u,"] response start"),Qc({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:m-f})),{response:p,options:a,controller:h,requestLogID:u,retryOfRequestLogID:n,startTime:f}}getAPIList(e,t,n){return this.requestAPIList(t,u({method:"get",path:e},n))}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new uu(this,n,e)}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:a,method:s}=o,i=d(o,Hm);a&&a.addEventListener("abort",()=>r.abort());const l=setTimeout(()=>r.abort(),n),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"===typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,f=u(u({signal:r.signal},c?{duplex:"half"}:{}),{},{method:"GET"},i);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(l)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){let o;const a=null===r||void 0===r?void 0:r.get("retry-after-ms");if(a){const e=parseFloat(a);Number.isNaN(e)||(o=e)}const s=null===r||void 0===r?void 0:r.get("retry-after");if(s&&!o){const e=parseFloat(s);o=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){var i;const n=null!==(i=e.maxRetries)&&void 0!==i?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,n)}return await ac(o),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e){var t,n,r;let{retryCount:o=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=u({},e),{method:s,path:i,query:l,defaultBaseURL:c}=a,d=this.buildURL(i,l,c);"timeout"in a&&((e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new zl("".concat(e," must be an integer"));if(t<0)throw new zl("".concat(e," must be a positive integer"))})("timeout",a.timeout),a.timeout=null!==(t=a.timeout)&&void 0!==t?t:this.timeout;const{bodyHeaders:f,body:h}=this.buildBody({options:a});return{req:u(u(u(u(u({method:s,headers:await this.buildHeaders({options:e,method:s,bodyHeaders:f,retryCount:o})},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),null!==(n=this.fetchOptions)&&void 0!==n?n:{}),null!==(r=a.fetchOptions)&&void 0!==r?r:{}),url:d,timeout:a.timeout}}async buildHeaders(e){let{options:t,method:n,bodyHeaders:r,retryCount:o}=e,a={};this.idempotencyHeader&&"get"!==n&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=nf([a,u(u(u({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),null!==uc&&void 0!==uc?uc:uc=ic()),{},{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(s),s.values}buildBody(e){let{options:{body:t,headers:n}}=e;if(!t)return{bodyHeaders:void 0,body:void 0};const r=nf([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||"string"===typeof t&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:"object"===typeof t&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&"function"===typeof t.next)?{bodyHeaders:void 0,body:fc(t)}:Il(this,Zm,"f").call(this,{body:t,headers:r})}}Vm=Xm,Zm=new WeakMap,qm=new WeakSet,Km=function(){return"https://api.openai.com/v1"!==this.baseURL},Xm.OpenAI=Vm,Xm.DEFAULT_TIMEOUT=6e5,Xm.OpenAIError=zl,Xm.APIError=Fl,Xm.APIConnectionError=Bl,Xm.APIConnectionTimeoutError=Wl,Xm.APIUserAbortError=Ul,Xm.NotFoundError=Zl,Xm.ConflictError=Kl,Xm.RateLimitError=$l,Xm.BadRequestError=Hl,Xm.AuthenticationError=ql,Xm.InternalServerError=Yl,Xm.PermissionDeniedError=Vl,Xm.UnprocessableEntityError=Xl,Xm.InvalidWebhookSignatureError=Gl,Xm.toFile=async function(e,t,n){var r;if(pu(),(e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&Eu(e))(e=await e))return e instanceof File?e:mu([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),mu(await Nu(r),t,n)}const o=await Nu(e);if(t||(t=gu(e)),null===(r=n)||void 0===r||!r.type){const e=o.find(e=>"object"===typeof e&&"type"in e&&e.type);"string"===typeof e&&(n=u(u({},n),{},{type:e}))}return mu(o,t,n)},Xm.Completions=Ih,Xm.Chat=Gd,Xm.Embeddings=Vh,Xm.Files=Fp,Xm.Images=Yp,Xm.Audio=sf,Xm.Moderations=Qp,Xm.Models=Jp,Xm.FineTuning=Kp,Xm.Graders=$p,Xm.VectorStores=Fm,Xm.Webhooks=Bm,Xm.Beta=Th,Xm.Batches=vf,Xm.Uploads=hm,Xm.Responses=dm,Xm.Realtime=tm,Xm.Conversations=qh,Xm.Evals=zp,Xm.Containers=Dh,Xm.Videos=Um;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);const $m=()=>localStorage.getItem("deepseek_api_key")||"sk-006dd4fb74ec47488f39200158781bfa",Ym=new Xm({apiKey:$m(),baseURL:"https://api.deepseek.com/v1",dangerouslyAllowBrowser:!0});var Jm=n(821);function Qm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gm}=Object.prototype,{getPrototypeOf:eg}=Object,{iterator:tg,toStringTag:ng}=Symbol,rg=(og=Object.create(null),e=>{const t=Gm.call(e);return og[t]||(og[t]=t.slice(8,-1).toLowerCase())});var og;const ag=e=>(e=e.toLowerCase(),t=>rg(t)===e),sg=e=>t=>typeof t===e,{isArray:ig}=Array,lg=sg("undefined");function cg(e){return null!==e&&!lg(e)&&null!==e.constructor&&!lg(e.constructor)&&fg(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ug=ag("ArrayBuffer");const dg=sg("string"),fg=sg("function"),hg=sg("number"),pg=e=>null!==e&&"object"===typeof e,mg=e=>{if("object"!==rg(e))return!1;const t=eg(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ng in e)&&!(tg in e)},gg=ag("Date"),vg=ag("File"),yg=ag("Blob"),bg=ag("FileList"),wg=ag("URLSearchParams"),[xg,_g,kg,Sg]=["ReadableStream","Request","Response","Headers"].map(ag);function Eg(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ig(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(cg(e))return;const r=o?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function Ng(e,t){if(cg(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Cg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Og=e=>!lg(e)&&e!==Cg;const Ag=(jg="undefined"!==typeof Uint8Array&&eg(Uint8Array),e=>jg&&e instanceof jg);var jg;const Pg=ag("HTMLFormElement"),Rg=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Tg=ag("RegExp"),Ig=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Eg(n,(n,o)=>{let a;!1!==(a=t(n,o,e))&&(r[o]=a||n)}),Object.defineProperties(e,r)};const Mg=ag("AsyncFunction"),Lg=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Cg.addEventListener("message",e=>{let{source:t,data:o}=e;t===Cg&&o===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Cg.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,fg(Cg.postMessage)),Dg="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Cg):"undefined"!==typeof process&&process.nextTick||Lg,zg={isArray:ig,isArrayBuffer:ug,isBuffer:cg,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||fg(e.append)&&("formdata"===(t=rg(e))||"object"===t&&fg(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ug(e.buffer),t},isString:dg,isNumber:hg,isBoolean:e=>!0===e||!1===e,isObject:pg,isPlainObject:mg,isEmptyObject:e=>{if(!pg(e)||cg(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(si){return!1}},isReadableStream:xg,isRequest:_g,isResponse:kg,isHeaders:Sg,isUndefined:lg,isDate:gg,isFile:vg,isBlob:yg,isRegExp:Tg,isFunction:fg,isStream:e=>pg(e)&&fg(e.pipe),isURLSearchParams:wg,isTypedArray:Ag,isFileList:bg,forEach:Eg,merge:function e(){const{caseless:t,skipUndefined:n}=Og(this)&&this||{},r={},o=(o,a)=>{const s=t&&Ng(r,a)||a;mg(r[s])&&mg(o)?r[s]=e(r[s],o):mg(o)?r[s]=e({},o):ig(o)?r[s]=o.slice():n&&lg(o)||(r[s]=o)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Eg(arguments[a],o);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Eg(t,(t,r)=>{n&&fg(t)?e[r]=Qm(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,s;const i={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)s=o[a],r&&!r(s,e,t)||i[s]||(t[s]=e[s],i[s]=!0);e=!1!==n&&eg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:rg,kindOfTest:ag,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ig(e))return e;let t=e.length;if(!hg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[tg]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Pg,hasOwnProperty:Rg,hasOwnProp:Rg,reduceDescriptors:Ig,freezeMethods:e=>{Ig(e,(t,n)=>{if(fg(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];fg(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return ig(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ng,global:Cg,isContextDefined:Og,isSpecCompliantForm:function(e){return!!(e&&fg(e.append)&&"FormData"===e[ng]&&e[tg])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(pg(e)){if(t.indexOf(e)>=0)return;if(cg(e))return e;if(!("toJSON"in e)){t[r]=e;const o=ig(e)?[]:{};return Eg(e,(e,t)=>{const a=n(e,r+1);!lg(a)&&(o[t]=a)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Mg,isThenable:e=>e&&(pg(e)||fg(e))&&fg(e.then)&&fg(e.catch),setImmediate:Lg,asap:Dg,isIterable:e=>null!=e&&fg(e[tg])};function Fg(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}zg.inherits(Fg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:zg.toJSONObject(this.config),code:this.code,status:this.status}}});const Ug=Fg.prototype,Bg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bg[e]={value:e}}),Object.defineProperties(Fg,Bg),Object.defineProperty(Ug,"isAxiosError",{value:!0}),Fg.from=(e,t,n,r,o,a)=>{const s=Object.create(Ug);zg.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Fg.call(s,i,l,n,r,o),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const Wg=Fg;function Hg(e){return zg.isPlainObject(e)||zg.isArray(e)}function qg(e){return zg.endsWith(e,"[]")?e.slice(0,-2):e}function Vg(e,t,n){return e?e.concat(t).map(function(e,t){return e=qg(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Zg=zg.toFlatObject(zg,{},null,function(e){return/^is[A-Z]/.test(e)});const Kg=function(e,t,n){if(!zg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=zg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!zg.isUndefined(t[e])})).metaTokens,o=n.visitor||c,a=n.dots,s=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&zg.isSpecCompliantForm(t);if(!zg.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(zg.isDate(e))return e.toISOString();if(zg.isBoolean(e))return e.toString();if(!i&&zg.isBlob(e))throw new Wg("Blob is not supported. Use a Buffer instead.");return zg.isArrayBuffer(e)||zg.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let i=e;if(e&&!o&&"object"===typeof e)if(zg.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(zg.isArray(e)&&function(e){return zg.isArray(e)&&!e.some(Hg)}(e)||(zg.isFileList(e)||zg.endsWith(n,"[]"))&&(i=zg.toArray(e)))return n=qg(n),i.forEach(function(e,r){!zg.isUndefined(e)&&null!==e&&t.append(!0===s?Vg([n],r,a):null===s?n:n+"[]",l(e))}),!1;return!!Hg(e)||(t.append(Vg(o,n,a),l(e)),!1)}const u=[],d=Object.assign(Zg,{defaultVisitor:c,convertValue:l,isVisitable:Hg});if(!zg.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!zg.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),zg.forEach(n,function(n,a){!0===(!(zg.isUndefined(n)||null===n)&&o.call(t,n,zg.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function Xg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function $g(e,t){this._pairs=[],e&&Kg(e,this,t)}const Yg=$g.prototype;Yg.append=function(e,t){this._pairs.push([e,t])},Yg.toString=function(e){const t=e?function(t){return e.call(this,t,Xg)}:Xg;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Jg=$g;function Qg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gg(e,t,n){if(!t)return e;const r=n&&n.encode||Qg;zg.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(a=o?o(t,n):zg.isURLSearchParams(t)?t.toString():new Jg(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ev=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){zg.forEach(this.handlers,function(t){null!==t&&e(t)})}},tv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nv={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Jg,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},rv="undefined"!==typeof window&&"undefined"!==typeof document,ov="object"===typeof navigator&&navigator||void 0,av=rv&&(!ov||["ReactNative","NativeScript","NS"].indexOf(ov.product)<0),sv="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,iv=rv&&window.location.href||"http://localhost",lv=u(u({},r),nv);const cv=function(e){function t(e,n,r,o){let a=e[o++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),i=o>=e.length;if(a=!a&&zg.isArray(r)?r.length:a,i)return zg.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&zg.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],o)&&zg.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(zg.isFormData(e)&&zg.isFunction(e.entries)){const n={};return zg.forEachEntry(e,(e,r)=>{t(function(e){return zg.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const uv={transitional:tv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=zg.isObject(e);o&&zg.isHTMLForm(e)&&(e=new FormData(e));if(zg.isFormData(e))return r?JSON.stringify(cv(e)):e;if(zg.isArrayBuffer(e)||zg.isBuffer(e)||zg.isStream(e)||zg.isFile(e)||zg.isBlob(e)||zg.isReadableStream(e))return e;if(zg.isArrayBufferView(e))return e.buffer;if(zg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Kg(e,new lv.classes.URLSearchParams,u({visitor:function(e,t,n,r){return lv.isNode&&zg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=zg.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Kg(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(zg.isString(e))try{return(t||JSON.parse)(e),zg.trim(e)}catch(si){if("SyntaxError"!==si.name)throw si}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||uv.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(zg.isResponse(e)||zg.isReadableStream(e))return e;if(e&&zg.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(si){if(n){if("SyntaxError"===si.name)throw Wg.from(si,Wg.ERR_BAD_RESPONSE,this,null,this.response);throw si}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lv.classes.FormData,Blob:lv.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};zg.forEach(["delete","get","head","post","put","patch"],e=>{uv.headers[e]={}});const dv=uv,fv=zg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hv=Symbol("internals");function pv(e){return e&&String(e).trim().toLowerCase()}function mv(e){return!1===e||null==e?e:zg.isArray(e)?e.map(mv):String(e)}function gv(e,t,n,r,o){return zg.isFunction(r)?r.call(this,t,n):(o&&(t=n),zg.isString(t)?zg.isString(r)?-1!==t.indexOf(r):zg.isRegExp(r)?r.test(t):void 0:void 0)}class vv{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=pv(t);if(!o)throw new Error("header name must be a non-empty string");const a=zg.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=mv(e))}const a=(e,t)=>zg.forEach(e,(e,n)=>o(e,n,t));if(zg.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(zg.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e))a((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&fv[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(zg.isObject(e)&&zg.isIterable(e)){let n,r,o={};for(const t of e){if(!zg.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?zg.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=pv(e)){const n=zg.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(zg.isFunction(t))return t.call(this,e,n);if(zg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pv(e)){const n=zg.findKey(this,e);return!(!n||void 0===this[n]||t&&!gv(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=pv(e)){const o=zg.findKey(n,e);!o||t&&!gv(0,n[o],o,t)||(delete n[o],r=!0)}}return zg.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!gv(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return zg.forEach(this,(r,o)=>{const a=zg.findKey(n,o);if(a)return t[a]=mv(r),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();s!==o&&delete t[o],t[s]=mv(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return zg.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&zg.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[hv]=this[hv]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=pv(e);t[r]||(!function(e,t){const n=zg.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return zg.isArray(e)?e.forEach(r):r(e),this}}vv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),zg.reduceDescriptors(vv.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),zg.freezeMethods(vv);const yv=vv;function bv(e,t){const n=this||dv,r=t||n,o=yv.from(r.headers);let a=r.data;return zg.forEach(e,function(e){a=e.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function wv(e){return!(!e||!e.__CANCEL__)}function xv(e,t,n){Wg.call(this,null==e?"canceled":e,Wg.ERR_CANCELED,t,n),this.name="CanceledError"}zg.inherits(xv,Wg,{__CANCEL__:!0});const _v=xv;function kv(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Wg("Request failed with status code "+n.status,[Wg.ERR_BAD_REQUEST,Wg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Sv=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,a=0,s=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=r[s];o||(o=l),n[a]=i,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const Ev=function(e,t){let n,r,o=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-o;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=a?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},a-t)))},()=>n&&s(n)]},Nv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Sv(50,250);return Ev(n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,i=a-r,l=o(i);r=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:i,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},Cv=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ov=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zg.asap(()=>e(...n))},Av=lv.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,lv.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(lv.origin),lv.navigator&&/(msie|trident)/i.test(lv.navigator.userAgent)):()=>!0,jv=lv.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const s=[e+"="+encodeURIComponent(t)];zg.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),zg.isString(r)&&s.push("path="+r),zg.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Pv(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Rv=e=>e instanceof yv?u({},e):e;function Tv(e,t){t=t||{};const n={};function r(e,t,n,r){return zg.isPlainObject(e)&&zg.isPlainObject(t)?zg.merge.call({caseless:r},e,t):zg.isPlainObject(t)?zg.merge({},t):zg.isArray(t)?t.slice():t}function o(e,t,n,o){return zg.isUndefined(t)?zg.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function a(e,t){if(!zg.isUndefined(t))return r(void 0,t)}function s(e,t){return zg.isUndefined(t)?zg.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,o,a){return a in t?r(n,o):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t,n)=>o(Rv(e),Rv(t),0,!0)};return zg.forEach(Object.keys(u(u({},e),t)),function(r){const a=l[r]||o,s=a(e[r],t[r],r);zg.isUndefined(s)&&a!==i||(n[r]=s)}),n}const Iv=e=>{const t=Tv({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:i}=t;if(t.headers=s=yv.from(s),t.url=Gg(Pv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),zg.isFormData(n))if(lv.hasStandardBrowserEnv||lv.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(zg.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&s.set(n,r)})}if(lv.hasStandardBrowserEnv&&(r&&zg.isFunction(r)&&(r=r(t)),r||!1!==r&&Av(t.url))){const e=o&&a&&jv.read(a);e&&s.set(o,e)}return t},Mv="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Iv(e);let o=r.data;const a=yv.from(r.headers).normalize();let s,i,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:h}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=yv.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());kv(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Wg("Request aborted",Wg.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",o=new Wg(r,Wg.ERR_NETWORK,e,m);o.event=t||null,n(o),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||tv;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Wg(t,o.clarifyTimeoutError?Wg.ETIMEDOUT:Wg.ECONNABORTED,e,m)),m=null},void 0===o&&a.setContentType(null),"setRequestHeader"in m&&zg.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),zg.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),h&&([l,u]=Nv(h,!0),m.addEventListener("progress",l)),f&&m.upload&&([i,c]=Nv(f),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new _v(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===lv.protocols.indexOf(v)?n(new Wg("Unsupported protocol "+v+":",Wg.ERR_BAD_REQUEST,e)):m.send(o||null)})},Lv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Wg?t:new _v(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,o(new Wg("timeout ".concat(t," of ms exceeded"),Wg.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:i}=r;return i.unsubscribe=()=>zg.asap(s),i}};function Dv(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Rc(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}const zv=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Fv=function(){var e=Ic(function*(e,t){var n,r=!1,o=!1;try{for(var a,s=jc(Uv(e));r=!(a=yield Tc(s.next())).done;r=!1){const e=a.value;yield*Dv(jc(zv(e,t)))}}catch(i){o=!0,n=i}finally{try{r&&null!=s.return&&(yield Tc(s.return()))}finally{if(o)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Uv=function(){var e=Ic(function*(e){if(e[Symbol.asyncIterator])return void(yield*Dv(jc(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Tc(t.read());if(e)break;yield n}}finally{yield Tc(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Bv=(e,t,n,r)=>{const o=Fv(e,t);let a,s=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),o.return())},{highWaterMark:2})},{isFunction:Wv}=zg,Hv=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(zg.global),{ReadableStream:qv,TextEncoder:Vv}=zg.global,Zv=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(si){return!1}},Kv=e=>{e=zg.merge.call({skipUndefined:!0},Hv,e);const{fetch:t,Request:n,Response:r}=e,o=t?Wv(t):"function"===typeof fetch,a=Wv(n),s=Wv(r);if(!o)return!1;const i=o&&Wv(qv),l=o&&("function"===typeof Vv?(c=new Vv,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=a&&i&&Zv(()=>{let e=!1;const t=new n(lv.origin,{body:new qv,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f=s&&i&&Zv(()=>zg.isReadableStream(new r("").body)),h={stream:f&&(e=>e.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Wg("Response type '".concat(e,"' is not supported"),Wg.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=zg.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(zg.isBlob(e))return e.size;if(zg.isSpecCompliantForm(e)){const t=new n(lv.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return zg.isArrayBufferView(e)||zg.isArrayBuffer(e)?e.byteLength:(zg.isURLSearchParams(e)&&(e+=""),zg.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:o,method:s,data:i,signal:l,cancelToken:c,timeout:m,onDownloadProgress:g,onUploadProgress:v,responseType:y,headers:b,withCredentials:w="same-origin",fetchOptions:x}=Iv(e),_=t||fetch;y=y?(y+"").toLowerCase():"text";let k=Lv([l,c&&c.toAbortSignal()],m),S=null;const E=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let N;try{if(v&&d&&"get"!==s&&"head"!==s&&0!==(N=await p(b,i))){let e,t=new n(o,{method:"POST",body:i,duplex:"half"});if(zg.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=Cv(N,Nv(Ov(v)));i=Bv(t.body,65536,e,n)}}zg.isString(w)||(w=w?"include":"omit");const t=a&&"credentials"in n.prototype,l=u(u({},x),{},{signal:k,method:s.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?w:void 0});S=a&&new n(o,l);let c=await(a?_(S,x):_(o,l));const m=f&&("stream"===y||"response"===y);if(f&&(g||m&&E)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=zg.toFiniteNumber(c.headers.get("content-length")),[n,o]=g&&Cv(t,Nv(Ov(g),!0))||[];c=new r(Bv(c.body,65536,n,()=>{o&&o(),E&&E()}),e)}y=y||"text";let C=await h[zg.findKey(h,y)||"text"](c,e);return!m&&E&&E(),await new Promise((t,n)=>{kv(t,n,{data:C,headers:yv.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:S})})}catch(C){if(E&&E(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Wg("Network Error",Wg.ERR_NETWORK,e,S),{cause:C.cause||C});throw Wg.from(C,C&&C.code,e,S)}}},Xv=new Map,$v=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,a=[r,o,n];let s,i,l=a.length,c=Xv;for(;l--;)s=a[l],i=c.get(s),void 0===i&&c.set(s,i=l?new Map:Kv(t)),c=i;return i},Yv=($v(),{http:null,xhr:Mv,fetch:{get:$v}});zg.forEach(Yv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(si){}Object.defineProperty(e,"adapterName",{value:t})}});const Jv=e=>"- ".concat(e),Qv=e=>zg.isFunction(e)||null===e||!1===e,Gv=(e,t)=>{e=zg.isArray(e)?e:[e];const{length:n}=e;let r,o;const a={};for(let s=0;s<n;s++){let n;if(r=e[s],o=r,!Qv(r)&&(o=Yv[(n=String(r)).toLowerCase()],void 0===o))throw new Wg("Unknown adapter '".concat(n,"'"));if(o&&(zg.isFunction(o)||(o=o.get(t))))break;a[n||"#"+s]=o}if(!o){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Jv).join("\n"):" "+Jv(e[0]):"as no adapter specified";throw new Wg("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return o};function ey(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _v(null,e)}function ty(e){ey(e),e.headers=yv.from(e.headers),e.data=bv.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gv(e.adapter||dv.adapter,e)(e).then(function(t){return ey(e),t.data=bv.call(e,e.transformResponse,t),t.headers=yv.from(t.headers),t},function(t){return wv(t)||(ey(e),t&&t.response&&(t.response.data=bv.call(e,e.transformResponse,t.response),t.response.headers=yv.from(t.response.headers))),Promise.reject(t)})}const ny="1.12.2",ry={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ry[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const oy={};ry.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ny+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new Wg(r(o," has been removed"+(t?" in "+t:"")),Wg.ERR_DEPRECATED);return t&&!oy[o]&&(oy[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}},ry.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ay={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Wg("options must be an object",Wg.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new Wg("option "+a+" must be "+n,Wg.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Wg("Unknown option "+a,Wg.ERR_BAD_OPTION)}},validators:ry},sy=ay.validators;class iy{constructor(e){this.defaults=e||{},this.interceptors={request:new ev,response:new ev}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(si){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Tv(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&ay.assertOptions(n,{silentJSONParsing:sy.transitional(sy.boolean),forcedJSONParsing:sy.transitional(sy.boolean),clarifyTimeoutError:sy.transitional(sy.boolean)},!1),null!=r&&(zg.isFunction(r)?t.paramsSerializer={serialize:r}:ay.assertOptions(r,{encode:sy.function,serialize:sy.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ay.assertOptions(t,{baseUrl:sy.spelling("baseURL"),withXsrfToken:sy.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&zg.merge(o.common,o[t.method]);o&&zg.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=yv.concat(a,o);const s=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!i){const e=[ty.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let f=t;for(;d<u;){const e=s[d++],t=s[d++];try{f=e(f)}catch(h){t.call(this,h);break}}try{c=ty.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Gg(Pv((e=Tv(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}zg.forEach(["delete","get","head","options"],function(e){iy.prototype[e]=function(t,n){return this.request(Tv(n||{},{method:e,url:t,data:(n||{}).data}))}}),zg.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(Tv(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}iy.prototype[e]=t(),iy.prototype[e+"Form"]=t(!0)});const ly=iy;class cy{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new _v(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new cy(function(t){e=t});return{token:t,cancel:e}}}const uy=cy;const dy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dy).forEach(e=>{let[t,n]=e;dy[n]=t});const fy=dy;const hy=function e(t){const n=new ly(t),r=Qm(ly.prototype.request,n);return zg.extend(r,ly.prototype,n,{allOwnKeys:!0}),zg.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Tv(t,n))},r}(dv);hy.Axios=ly,hy.CanceledError=_v,hy.CancelToken=uy,hy.isCancel=wv,hy.VERSION=ny,hy.toFormData=Kg,hy.AxiosError=Wg,hy.Cancel=hy.CanceledError,hy.all=function(e){return Promise.all(e)},hy.spread=function(e){return function(t){return e.apply(null,t)}},hy.isAxiosError=function(e){return zg.isObject(e)&&!0===e.isAxiosError},hy.mergeConfig=Tv,hy.AxiosHeaders=yv,hy.formToJSON=e=>cv(zg.isHTMLForm(e)?new FormData(e):e),hy.getAdapter=Gv,hy.HttpStatusCode=fy,hy.default=hy;const py=hy,my=Symbol("Let zodToJsonSchema decide on which parser to use"),gy={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},vy=e=>{const t=(e=>"string"===typeof e?u(u({},gy),{},{name:e}):u(u({},gy),e))(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return u(u({},t),{},{flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]}))})};var yy,by;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!==typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"===typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(yy||(yy={})),function(e){e.mergeShapes=(e,t)=>u(u({},e),t)}(by||(by={}));const wy=yy.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xy=e=>{switch(typeof e){case"undefined":return wy.undefined;case"string":return wy.string;case"number":return Number.isNaN(e)?wy.nan:wy.number;case"boolean":return wy.boolean;case"function":return wy.function;case"bigint":return wy.bigint;case"symbol":return wy.symbol;case"object":return Array.isArray(e)?wy.array:null===e?wy.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?wy.promise:"undefined"!==typeof Map&&e instanceof Map?wy.map:"undefined"!==typeof Set&&e instanceof Set?wy.set:"undefined"!==typeof Date&&e instanceof Date?wy.date:wy.object;default:return wy.unknown}},_y=yy.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ky extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof ky))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,yy.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ky.create=e=>new ky(e);const Sy=(e,t)=>{let n;switch(e.code){case _y.invalid_type:n=e.received===wy.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case _y.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,yy.jsonStringifyReplacer));break;case _y.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(yy.joinValues(e.keys,", "));break;case _y.invalid_union:n="Invalid input";break;case _y.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(yy.joinValues(e.options));break;case _y.invalid_enum_value:n="Invalid enum value. Expected ".concat(yy.joinValues(e.options),", received '").concat(e.received,"'");break;case _y.invalid_arguments:n="Invalid function arguments";break;case _y.invalid_return_type:n="Invalid function return type";break;case _y.invalid_date:n="Invalid date";break;case _y.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):yy.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case _y.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case _y.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case _y.custom:n="Invalid input";break;case _y.invalid_intersection_types:n="Intersection results could not be merged";break;case _y.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case _y.not_finite:n="Number must be finite";break;default:n=t.defaultError,yy.assertNever(e)}return{message:n}};let Ey=Sy;function Ny(){return Ey}var Cy;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Cy||(Cy={}));const Oy=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,a=[...n,...o.path||[]],s=u(u({},o),{},{path:a});if(void 0!==o.message)return u(u({},o),{},{path:a,message:o.message});let i="";const l=r.filter(e=>!!e).slice().reverse();for(const c of l)i=c(s,{data:t,defaultError:i}).message;return u(u({},o),{},{path:a,message:i})};function Ay(e,t){const n=Ny(),r=Oy({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Sy?void 0:Sy].filter(e=>!!e)});e.common.issues.push(r)}class jy{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Py;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return jy.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return Py;if("aborted"===o.status)return Py;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const Py=Object.freeze({status:"aborted"}),Ry=e=>({status:"dirty",value:e}),Ty=e=>({status:"valid",value:e}),Iy=e=>"aborted"===e.status,My=e=>"dirty"===e.status,Ly=e=>"valid"===e.status,Dy=e=>"undefined"!==typeof Promise&&e instanceof Promise;class zy{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fy=(e,t)=>{if(Ly(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ky(e.common.issues);return this._error=t,this._error}}};function Uy(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{var a;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:o.defaultError}:"undefined"===typeof o.data?{message:null!==(i=null!==s&&void 0!==s?s:r)&&void 0!==i?i:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(a=null!==s&&void 0!==s?s:n)&&void 0!==a?a:o.defaultError};var i},description:o}}class By{get description(){return this._def.description}_getType(e){return xy(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:xy(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new jy,ctx:{common:e.parent.common,data:e.data,parsedType:xy(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Dy(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xy(e)},o=this._parseSync({data:e,path:r.path,parent:r});return Fy(r,o)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xy(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Ly(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Ly(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xy(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(Dy(r)?r:Promise.resolve(r));return Fy(n,o)}refine(e,t){return this._refinement((n,r)=>{const o=e(n),a=()=>r.addIssue(u({code:_y.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&o instanceof Promise?o.then(e=>!!e||(a(),!1)):!!o||(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1))}_refinement(e){return new Fb({schema:this,typeName:Xb.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Ub.create(this,this._def)}nullable(){return Bb.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sb.create(this)}promise(){return zb.create(this,this._def)}or(e){return Cb.create([this,e],this._def)}and(e){return Ab.create(this,e,this._def)}transform(e){return new Fb(u(u({},Uy(this._def)),{},{schema:this,typeName:Xb.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new Wb(u(u({},Uy(this._def)),{},{innerType:this,defaultValue:t,typeName:Xb.ZodDefault}))}brand(){return new Vb(u({typeName:Xb.ZodBranded,type:this},Uy(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new Hb(u(u({},Uy(this._def)),{},{innerType:this,catchValue:t,typeName:Xb.ZodCatch}))}describe(e){return new(0,this.constructor)(u(u({},this._def),{},{description:e}))}pipe(e){return Zb.create(this,e)}readonly(){return Kb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wy=/^c[^\s-]{8,}$/i,Hy=/^[0-9a-z]+$/,qy=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zy=/^[a-z0-9_-]{21}$/i,Ky=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xy=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$y=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Yy;const Jy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ob=new RegExp("^".concat(rb,"$"));function ab(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function sb(e){return new RegExp("^".concat(ab(e),"$"))}function ib(e){let t="".concat(rb,"T").concat(ab(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function lb(e,t){return!("v4"!==t&&t||!Jy.test(e))||!("v6"!==t&&t||!Gy.test(e))}function cb(e,t){if(!Ky.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return"object"===typeof o&&null!==o&&((!("typ"in o)||"JWT"===(null===o||void 0===o?void 0:o.typ))&&(!!o.alg&&(!t||o.alg===t)))}catch(n){return!1}}function ub(e,t){return!("v4"!==t&&t||!Qy.test(e))||!("v6"!==t&&t||!eb.test(e))}class db extends By{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==wy.string){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.string,received:t.parsedType}),Py}const t=new jy;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const r=e.data.length>o.value,a=e.data.length<o.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?Ay(n,{code:_y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Ay(n,{code:_y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)$y.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"email",code:_y.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)Yy||(Yy=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Yy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"emoji",code:_y.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)Vy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"uuid",code:_y.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)Zy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"nanoid",code:_y.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)Wy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"cuid",code:_y.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)Hy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"cuid2",code:_y.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)qy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"ulid",code:_y.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Ay(n,{validation:"url",code:_y.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"regex",code:_y.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){ib(o).test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else if("date"===o.kind){ob.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.invalid_string,validation:"date",message:o.message}),t.dirty())}else if("time"===o.kind){sb(o).test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.invalid_string,validation:"time",message:o.message}),t.dirty())}else"duration"===o.kind?Xy.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"duration",code:_y.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?lb(e.data,o.version)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"ip",code:_y.invalid_string,message:o.message}),t.dirty()):"jwt"===o.kind?cb(e.data,o.alg)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"jwt",code:_y.invalid_string,message:o.message}),t.dirty()):"cidr"===o.kind?ub(e.data,o.version)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"cidr",code:_y.invalid_string,message:o.message}),t.dirty()):"base64"===o.kind?tb.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"base64",code:_y.invalid_string,message:o.message}),t.dirty()):"base64url"===o.kind?nb.test(e.data)||(n=this._getOrReturnCtx(e,n),Ay(n,{validation:"base64url",code:_y.invalid_string,message:o.message}),t.dirty()):yy.assertNever(o);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),u({validation:t,code:_y.invalid_string},Cy.errToObj(n)))}_addCheck(e){return new db(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(u({kind:"email"},Cy.errToObj(e)))}url(e){return this._addCheck(u({kind:"url"},Cy.errToObj(e)))}emoji(e){return this._addCheck(u({kind:"emoji"},Cy.errToObj(e)))}uuid(e){return this._addCheck(u({kind:"uuid"},Cy.errToObj(e)))}nanoid(e){return this._addCheck(u({kind:"nanoid"},Cy.errToObj(e)))}cuid(e){return this._addCheck(u({kind:"cuid"},Cy.errToObj(e)))}cuid2(e){return this._addCheck(u({kind:"cuid2"},Cy.errToObj(e)))}ulid(e){return this._addCheck(u({kind:"ulid"},Cy.errToObj(e)))}base64(e){return this._addCheck(u({kind:"base64"},Cy.errToObj(e)))}base64url(e){return this._addCheck(u({kind:"base64url"},Cy.errToObj(e)))}jwt(e){return this._addCheck(u({kind:"jwt"},Cy.errToObj(e)))}ip(e){return this._addCheck(u({kind:"ip"},Cy.errToObj(e)))}cidr(e){return this._addCheck(u({kind:"cidr"},Cy.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(u({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},Cy.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(u({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},Cy.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(u({kind:"duration"},Cy.errToObj(e)))}regex(e,t){return this._addCheck(u({kind:"regex",regex:e},Cy.errToObj(t)))}includes(e,t){return this._addCheck(u({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},Cy.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(u({kind:"startsWith",value:e},Cy.errToObj(t)))}endsWith(e,t){return this._addCheck(u({kind:"endsWith",value:e},Cy.errToObj(t)))}min(e,t){return this._addCheck(u({kind:"min",value:e},Cy.errToObj(t)))}max(e,t){return this._addCheck(u({kind:"max",value:e},Cy.errToObj(t)))}length(e,t){return this._addCheck(u({kind:"length",value:e},Cy.errToObj(t)))}nonempty(e){return this.min(1,Cy.errToObj(e))}trim(){return new db(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new db(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new db(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function fb(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}db.create=e=>{var t;return new db(u({checks:[],typeName:Xb.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Uy(e)))};class hb extends By{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==wy.number){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.number,received:t.parsedType}),Py}let t;const n=new jy;for(const r of this._def.checks)if("int"===r.kind)yy.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==fb(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.not_finite,message:r.message}),n.dirty()):yy.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Cy.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Cy.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Cy.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Cy.toString(t))}setLimit(e,t,n,r){return new hb(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Cy.toString(r)}]}))}_addCheck(e){return new hb(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Cy.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Cy.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Cy.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Cy.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Cy.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Cy.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Cy.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Cy.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Cy.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&yy.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}hb.create=e=>new hb(u({checks:[],typeName:Xb.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Uy(e)));class pb extends By{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==wy.bigint)return this._getInvalidInput(e);let t;const n=new jy;for(const o of this._def.checks)if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty())}else"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ay(t,{code:_y.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):yy.assertNever(o);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.bigint,received:t.parsedType}),Py}gte(e,t){return this.setLimit("min",e,!0,Cy.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Cy.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Cy.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Cy.toString(t))}setLimit(e,t,n,r){return new pb(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Cy.toString(r)}]}))}_addCheck(e){return new pb(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Cy.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Cy.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Cy.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Cy.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Cy.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}pb.create=e=>{var t;return new pb(u({checks:[],typeName:Xb.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Uy(e)))};class mb extends By{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==wy.boolean){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.boolean,received:t.parsedType}),Py}return Ty(e.data)}}mb.create=e=>new mb(u({typeName:Xb.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Uy(e)));class gb extends By{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==wy.date){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.date,received:t.parsedType}),Py}if(Number.isNaN(e.data.getTime())){return Ay(this._getOrReturnCtx(e),{code:_y.invalid_date}),Py}const t=new jy;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ay(n,{code:_y.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):yy.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gb(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Cy.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Cy.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}gb.create=e=>new gb(u({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Xb.ZodDate},Uy(e)));class vb extends By{_parse(e){if(this._getType(e)!==wy.symbol){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.symbol,received:t.parsedType}),Py}return Ty(e.data)}}vb.create=e=>new vb(u({typeName:Xb.ZodSymbol},Uy(e)));class yb extends By{_parse(e){if(this._getType(e)!==wy.undefined){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.undefined,received:t.parsedType}),Py}return Ty(e.data)}}yb.create=e=>new yb(u({typeName:Xb.ZodUndefined},Uy(e)));class bb extends By{_parse(e){if(this._getType(e)!==wy.null){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.null,received:t.parsedType}),Py}return Ty(e.data)}}bb.create=e=>new bb(u({typeName:Xb.ZodNull},Uy(e)));class wb extends By{constructor(){super(...arguments),this._any=!0}_parse(e){return Ty(e.data)}}wb.create=e=>new wb(u({typeName:Xb.ZodAny},Uy(e)));class xb extends By{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ty(e.data)}}xb.create=e=>new xb(u({typeName:Xb.ZodUnknown},Uy(e)));class _b extends By{_parse(e){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.never,received:t.parsedType}),Py}}_b.create=e=>new _b(u({typeName:Xb.ZodNever},Uy(e)));class kb extends By{_parse(e){if(this._getType(e)!==wy.undefined){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.void,received:t.parsedType}),Py}return Ty(e.data)}}kb.create=e=>new kb(u({typeName:Xb.ZodVoid},Uy(e)));class Sb extends By{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==wy.array)return Ay(t,{code:_y.invalid_type,expected:wy.array,received:t.parsedType}),Py;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(Ay(t,{code:e?_y.too_big:_y.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ay(t,{code:_y.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ay(t,{code:_y.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new zy(t,e,t.path,n)))).then(e=>jy.mergeArray(n,e));const o=[...t.data].map((e,n)=>r.type._parseSync(new zy(t,e,t.path,n)));return jy.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new Sb(u(u({},this._def),{},{minLength:{value:e,message:Cy.toString(t)}}))}max(e,t){return new Sb(u(u({},this._def),{},{maxLength:{value:e,message:Cy.toString(t)}}))}length(e,t){return new Sb(u(u({},this._def),{},{exactLength:{value:e,message:Cy.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Eb(e){if(e instanceof Nb){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ub.create(Eb(r))}return new Nb(u(u({},e._def),{},{shape:()=>t}))}return e instanceof Sb?new Sb(u(u({},e._def),{},{type:Eb(e.element)})):e instanceof Ub?Ub.create(Eb(e.unwrap())):e instanceof Bb?Bb.create(Eb(e.unwrap())):e instanceof jb?jb.create(e.items.map(e=>Eb(e))):e}Sb.create=(e,t)=>new Sb(u({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xb.ZodArray},Uy(t)));class Nb extends By{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=yy.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==wy.object){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.object,received:t.parsedType}),Py}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof _b&&"strip"===this._def.unknownKeys))for(const i in n.data)o.includes(i)||a.push(i);const s=[];for(const i of o){const e=r[i],t=n.data[i];s.push({key:{status:"valid",value:i},value:e._parse(new zy(n,t,n.path,i)),alwaysSet:i in n.data})}if(this._def.catchall instanceof _b){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(Ay(n,{code:_y.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new zy(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>jy.mergeObjectSync(t,e)):jy.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return Cy.errToObj,new Nb(u(u({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,o,a,s;const i=null!==(r=null===(o=(a=this._def).errorMap)||void 0===o?void 0:o.call(a,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=Cy.errToObj(e).message)&&void 0!==s?s:i}:{message:i}}}:{}))}strip(){return new Nb(u(u({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new Nb(u(u({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new Nb(u(u({},this._def),{},{shape:()=>u(u({},this._def.shape()),e)}))}merge(e){return new Nb({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>u(u({},this._def.shape()),e._def.shape()),typeName:Xb.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Nb(u(u({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of yy.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Nb(u(u({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of yy.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Nb(u(u({},this._def),{},{shape:()=>t}))}deepPartial(){return Eb(this)}partial(e){const t={};for(const n of yy.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Nb(u(u({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of yy.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ub;)e=e._def.innerType;t[n]=e}return new Nb(u(u({},this._def),{},{shape:()=>t}))}keyof(){return Mb(yy.objectKeys(this.shape))}}Nb.create=(e,t)=>new Nb(u({shape:()=>e,unknownKeys:"strip",catchall:_b.create(),typeName:Xb.ZodObject},Uy(t))),Nb.strictCreate=(e,t)=>new Nb(u({shape:()=>e,unknownKeys:"strict",catchall:_b.create(),typeName:Xb.ZodObject},Uy(t))),Nb.lazycreate=(e,t)=>new Nb(u({shape:e,unknownKeys:"strip",catchall:_b.create(),typeName:Xb.ZodObject},Uy(t)));class Cb extends By{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new ky(e.ctx.common.issues));return Ay(t,{code:_y.invalid_union,unionErrors:n}),Py});{let e;const r=[];for(const a of n){const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null}),o=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map(e=>new ky(e));return Ay(t,{code:_y.invalid_union,unionErrors:o}),Py}}get options(){return this._def.options}}Cb.create=(e,t)=>new Cb(u({options:e,typeName:Xb.ZodUnion},Uy(t)));function Ob(e,t){const n=xy(e),r=xy(t);if(e===t)return{valid:!0,data:e};if(n===wy.object&&r===wy.object){const n=yy.objectKeys(t),r=yy.objectKeys(e).filter(e=>-1!==n.indexOf(e)),o=u(u({},e),t);for(const a of r){const n=Ob(e[a],t[a]);if(!n.valid)return{valid:!1};o[a]=n.data}return{valid:!0,data:o}}if(n===wy.array&&r===wy.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=Ob(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===wy.date&&r===wy.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Ab extends By{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Iy(e)||Iy(r))return Py;const o=Ob(e.value,r.value);return o.valid?((My(e)||My(r))&&t.dirty(),{status:t.value,value:o.data}):(Ay(n,{code:_y.invalid_intersection_types}),Py)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return r(t,n)}):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ab.create=(e,t,n)=>new Ab(u({left:e,right:t,typeName:Xb.ZodIntersection},Uy(n)));class jb extends By{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wy.array)return Ay(n,{code:_y.invalid_type,expected:wy.array,received:n.parsedType}),Py;if(n.data.length<this._def.items.length)return Ay(n,{code:_y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Py;!this._def.rest&&n.data.length>this._def.items.length&&(Ay(n,{code:_y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new zy(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>jy.mergeArray(t,e)):jy.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new jb(u(u({},this._def),{},{rest:e}))}}jb.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jb(u({items:e,typeName:Xb.ZodTuple,rest:null},Uy(t)))};class Pb extends By{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wy.map)return Ay(n,{code:_y.invalid_type,expected:wy.map,received:n.parsedType}),Py;const r=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map((e,t)=>{let[a,s]=e;return{key:r._parse(new zy(n,a,n.path,[t,"key"])),value:o._parse(new zy(n,s,n.path,[t,"value"]))}});if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of a){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return Py;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of a){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return Py;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}Pb.create=(e,t,n)=>new Pb(u({valueType:t,keyType:e,typeName:Xb.ZodMap},Uy(n)));class Rb extends By{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==wy.set)return Ay(n,{code:_y.invalid_type,expected:wy.set,received:n.parsedType}),Py;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ay(n,{code:_y.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ay(n,{code:_y.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Py;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map((e,t)=>o._parse(new zy(n,e,n.path,t)));return n.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new Rb(u(u({},this._def),{},{minSize:{value:e,message:Cy.toString(t)}}))}max(e,t){return new Rb(u(u({},this._def),{},{maxSize:{value:e,message:Cy.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Rb.create=(e,t)=>new Rb(u({valueType:e,minSize:null,maxSize:null,typeName:Xb.ZodSet},Uy(t)));class Tb extends By{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Tb.create=(e,t)=>new Tb(u({getter:e,typeName:Xb.ZodLazy},Uy(t)));class Ib extends By{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ay(t,{received:t.data,code:_y.invalid_literal,expected:this._def.value}),Py}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Mb(e,t){return new Lb(u({values:e,typeName:Xb.ZodEnum},Uy(t)))}Ib.create=(e,t)=>new Ib(u({value:e,typeName:Xb.ZodLiteral},Uy(t)));class Lb extends By{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ay(t,{expected:yy.joinValues(n),received:t.parsedType,code:_y.invalid_type}),Py}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ay(t,{received:t.data,code:_y.invalid_enum_value,options:n}),Py}return Ty(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Lb.create(e,u(u({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Lb.create(this.options.filter(t=>!e.includes(t)),u(u({},this._def),t))}}Lb.create=Mb;class Db extends By{_parse(e){const t=yy.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==wy.string&&n.parsedType!==wy.number){const e=yy.objectValues(t);return Ay(n,{expected:yy.joinValues(e),received:n.parsedType,code:_y.invalid_type}),Py}if(this._cache||(this._cache=new Set(yy.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=yy.objectValues(t);return Ay(n,{received:n.data,code:_y.invalid_enum_value,options:e}),Py}return Ty(e.data)}get enum(){return this._def.values}}Db.create=(e,t)=>new Db(u({values:e,typeName:Xb.ZodNativeEnum},Uy(t)));class zb extends By{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==wy.promise&&!1===t.common.async)return Ay(t,{code:_y.invalid_type,expected:wy.promise,received:t.parsedType}),Py;const n=t.parsedType===wy.promise?t.data:Promise.resolve(t.data);return Ty(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}zb.create=(e,t)=>new zb(u({type:e,typeName:Xb.ZodPromise},Uy(t)));class Fb extends By{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xb.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{Ay(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Py;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Py:"dirty"===r.status||"dirty"===t.value?Ry(r.value):r});{if("aborted"===t.value)return Py;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Py:"dirty"===r.status||"dirty"===t.value?Ry(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Py:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?Py:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ly(e))return Py;const a=r.transform(e.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>Ly(e)?Promise.resolve(r.transform(e.value,o)).then(e=>({status:t.value,value:e})):Py)}yy.assertNever(r)}}Fb.create=(e,t,n)=>new Fb(u({schema:e,typeName:Xb.ZodEffects,effect:t},Uy(n))),Fb.createWithPreprocess=(e,t,n)=>new Fb(u({schema:t,effect:{type:"preprocess",transform:e},typeName:Xb.ZodEffects},Uy(n)));class Ub extends By{_parse(e){return this._getType(e)===wy.undefined?Ty(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ub.create=(e,t)=>new Ub(u({innerType:e,typeName:Xb.ZodOptional},Uy(t)));class Bb extends By{_parse(e){return this._getType(e)===wy.null?Ty(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bb.create=(e,t)=>new Bb(u({innerType:e,typeName:Xb.ZodNullable},Uy(t)));class Wb extends By{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===wy.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Wb.create=(e,t)=>new Wb(u({innerType:e,typeName:Xb.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},Uy(t)));class Hb extends By{_parse(e){const{ctx:t}=this._processInputParams(e),n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:u({},n)});return Dy(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ky(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ky(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Hb.create=(e,t)=>new Hb(u({innerType:e,typeName:Xb.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},Uy(t)));class qb extends By{_parse(e){if(this._getType(e)!==wy.nan){const t=this._getOrReturnCtx(e);return Ay(t,{code:_y.invalid_type,expected:wy.nan,received:t.parsedType}),Py}return{status:"valid",value:e.data}}}qb.create=e=>new qb(u({typeName:Xb.ZodNaN},Uy(e)));Symbol("zod_brand");class Vb extends By{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Zb extends By{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Py:"dirty"===e.status?(t.dirty(),Ry(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Py:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Zb({in:e,out:t,typeName:Xb.ZodPipeline})}}class Kb extends By{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Ly(e)&&(e.value=Object.freeze(e.value)),e);return Dy(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}Kb.create=(e,t)=>new Kb(u({innerType:e,typeName:Xb.ZodReadonly},Uy(t)));Nb.lazycreate;var Xb;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Xb||(Xb={}));db.create,hb.create,qb.create,pb.create,mb.create,gb.create,vb.create,yb.create,bb.create,wb.create,xb.create,_b.create,kb.create,Sb.create,Nb.create,Nb.strictCreate,Cb.create,Ab.create,jb.create,Pb.create,Rb.create,Tb.create,Ib.create,Lb.create,Db.create,zb.create,Fb.create,Ub.create,Bb.create,Fb.createWithPreprocess,Zb.create;const $b=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function Yb(e){if("openAi"!==e.target)return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?$b(t,e.currentPath):t.join("/")}}function Jb(e,t,n,r){null!==r&&void 0!==r&&r.errorMessages&&n&&(e.errorMessage=u(u({},e.errorMessage),{},{[t]:n}))}function Qb(e,t,n,r,o){e[t]=n,Jb(e,t,r,o)}function Gb(e,t){return Aw(e.type._def,t)}function ew(e,t,n){const r=null!==n&&void 0!==n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>ew(e,t,n))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return tw(e,t)}}const tw=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":Qb(n,"minimum",r.value,r.message,t);break;case"max":Qb(n,"maximum",r.value,r.message,t)}return n};const nw=["additionalProperties"];let rw;const ow=/^[cC][^\s-]{8,}$/,aw=/^[0-9a-z]+$/,sw=/^[0-9A-HJKMNP-TV-Z]{26}$/,iw=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,lw=()=>(void 0===rw&&(rw=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rw),cw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fw=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hw=/^[a-zA-Z0-9_-]{21}$/,pw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function mw(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Qb(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Qb(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":yw(n,"email",r.message,t);break;case"format:idn-email":yw(n,"idn-email",r.message,t);break;case"pattern:zod":bw(n,iw,r.message,t)}break;case"url":yw(n,"uri",r.message,t);break;case"uuid":yw(n,"uuid",r.message,t);break;case"regex":bw(n,r.regex,r.message,t);break;case"cuid":bw(n,ow,r.message,t);break;case"cuid2":bw(n,aw,r.message,t);break;case"startsWith":bw(n,RegExp("^".concat(gw(r.value,t))),r.message,t);break;case"endsWith":bw(n,RegExp("".concat(gw(r.value,t),"$")),r.message,t);break;case"datetime":yw(n,"date-time",r.message,t);break;case"date":yw(n,"date",r.message,t);break;case"time":yw(n,"time",r.message,t);break;case"duration":yw(n,"duration",r.message,t);break;case"length":Qb(n,"minLength","number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t),Qb(n,"maxLength","number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":bw(n,RegExp(gw(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&yw(n,"ipv4",r.message,t),"v4"!==r.version&&yw(n,"ipv6",r.message,t);break;case"base64url":bw(n,fw,r.message,t);break;case"jwt":bw(n,pw,r.message,t);break;case"cidr":"v6"!==r.version&&bw(n,cw,r.message,t),"v4"!==r.version&&bw(n,uw,r.message,t);break;case"emoji":bw(n,lw(),r.message,t);break;case"ulid":bw(n,sw,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":yw(n,"binary",r.message,t);break;case"contentEncoding:base64":Qb(n,"contentEncoding","base64",r.message,t);break;case"pattern:zod":bw(n,dw,r.message,t)}break;case"nanoid":bw(n,hw,r.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:(()=>{})()}return n}function gw(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)vw.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}const vw=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function yw(e,t,n,r){var o;e.format||null!==(o=e.anyOf)&&void 0!==o&&o.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push(u({format:e.format},e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}})),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push(u({format:t},n&&r.errorMessages&&{errorMessage:{format:n}}))):Qb(e,"format",t,n,r)}function bw(e,t,n,r){var o;e.pattern||null!==(o=e.allOf)&&void 0!==o&&o.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push(u({pattern:e.pattern},e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}})),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push(u({pattern:ww(t,r)},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):Qb(e,"pattern",ww(t,r),n,r)}function ww(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const n=e.flags.includes("i"),r=e.flags.includes("m"),o=e.flags.includes("s"),a=n?e.source.toLowerCase():e.source;let s="",i=!1,l=!1,c=!1;for(let f=0;f<a.length;f++)if(i)s+=a[f],i=!1;else{if(n)if(l){if(a[f].match(/[a-z]/)){var u;c?(s+=a[f],s+="".concat(a[f-2],"-").concat(a[f]).toUpperCase(),c=!1):"-"===a[f+1]&&null!==(u=a[f+2])&&void 0!==u&&u.match(/[a-z]/)?(s+=a[f],c=!0):s+="".concat(a[f]).concat(a[f].toUpperCase());continue}}else if(a[f].match(/[a-z]/)){s+="[".concat(a[f]).concat(a[f].toUpperCase(),"]");continue}if(r){if("^"===a[f]){s+="(^|(?<=[\r\n]))";continue}if("$"===a[f]){s+="($|(?=[\r\n]))";continue}}o&&"."===a[f]?s+=l?"".concat(a[f],"\r\n"):"[".concat(a[f],"\r\n]"):(s+=a[f],"\\"===a[f]?i=!0:l&&"]"===a[f]?l=!1:l||"["!==a[f]||(l=!0))}try{new RegExp(s)}catch(d){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return s}const xw=["type"],_w=["type"];function kw(e,t){var n,r,o,a,s,i,l;if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&(null===(n=e.keyType)||void 0===n?void 0:n._def.typeName)===Xb.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>{var o;return u(u({},n),{},{[r]:null!==(o=Aw(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"properties",r]})))&&void 0!==o?o:Yb(t)})},{}),additionalProperties:t.rejectedAdditionalProperties};const c={type:"object",additionalProperties:null!==(r=Aw(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]})))&&void 0!==r?r:t.allowedAdditionalProperties};if("openApi3"===t.target)return c;if((null===(o=e.keyType)||void 0===o?void 0:o._def.typeName)===Xb.ZodString&&null!==(a=e.keyType._def.checks)&&void 0!==a&&a.length){const n=mw(e.keyType._def,t),{type:r}=n,o=d(n,xw);return u(u({},c),{},{propertyNames:o})}if((null===(s=e.keyType)||void 0===s?void 0:s._def.typeName)===Xb.ZodEnum)return u(u({},c),{},{propertyNames:{enum:e.keyType._def.values}});if((null===(i=e.keyType)||void 0===i?void 0:i._def.typeName)===Xb.ZodBranded&&e.keyType._def.type._def.typeName===Xb.ZodString&&null!==(l=e.keyType._def.type._def.checks)&&void 0!==l&&l.length){const n=Gb(e.keyType._def,t),{type:r}=n,o=d(n,_w);return u(u({},c),{},{propertyNames:o})}return c}const Sw={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};const Ew=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>Aw(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","".concat(n)]}))).filter(e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0};function Nw(e,t){const n="openAi"===t.target,r={type:"object",properties:{}},o=[],a=e.shape();for(const i in a){let e=a[i];if(void 0===e||void 0===e._def)continue;let s=Cw(e);s&&n&&("ZodOptional"===e._def.typeName&&(e=e._def.innerType),e.isNullable()||(e=e.nullable()),s=!1);const l=Aw(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]}));void 0!==l&&(r.properties[i]=l,s||o.push(i))}o.length&&(r.required=o);const s=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return Aw(e.catchall._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==s&&(r.additionalProperties=s),r}function Cw(e){try{return e.isOptional()}catch(t){return!0}}const Ow=(e,t,n)=>{switch(t){case Xb.ZodString:return mw(e,n);case Xb.ZodNumber:return function(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",Jb(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?Qb(n,"minimum",r.value,r.message,t):Qb(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Qb(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?Qb(n,"maximum",r.value,r.message,t):Qb(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Qb(n,"maximum",r.value,r.message,t));break;case"multipleOf":Qb(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Xb.ZodObject:return Nw(e,n);case Xb.ZodBigInt:return function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?Qb(n,"minimum",r.value,r.message,t):Qb(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Qb(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?Qb(n,"maximum",r.value,r.message,t):Qb(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Qb(n,"maximum",r.value,r.message,t));break;case"multipleOf":Qb(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case Xb.ZodBoolean:return{type:"boolean"};case Xb.ZodDate:return ew(e,n);case Xb.ZodUndefined:return function(e){return{not:Yb(e)}}(n);case Xb.ZodNull:return function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}(n);case Xb.ZodArray:return function(e,t){var n,r;const o={type:"array"};return null!==(n=e.type)&&void 0!==n&&n._def&&(null===(r=e.type)||void 0===r||null===(r=r._def)||void 0===r?void 0:r.typeName)!==Xb.ZodAny&&(o.items=Aw(e.type._def,u(u({},t),{},{currentPath:[...t.currentPath,"items"]}))),e.minLength&&Qb(o,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Qb(o,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Qb(o,"minItems",e.exactLength.value,e.exactLength.message,t),Qb(o,"maxItems",e.exactLength.value,e.exactLength.message,t)),o}(e,n);case Xb.ZodUnion:case Xb.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return Ew(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in Sw&&(!e._def.checks||!e._def.checks.length))){const e=n.reduce((e,t)=>{const n=Sw[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){const e=n.reduce((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){const t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return Ew(e,t)}(e,n);case Xb.ZodIntersection:return function(e,t){const n=[Aw(e.left._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","0"]})),Aw(e.right._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","1"]}))].filter(e=>!!e);let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const o=[];return n.forEach(e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n}=e;t=d(e,nw)}else r=void 0;o.push(t)}else o.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);var t}),o.length?u({allOf:o},r):void 0}(e,n);case Xb.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>Aw(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]}))).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:Aw(e.rest._def,u(u({},t),{},{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>Aw(e._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]}))).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,n);case Xb.ZodRecord:return kw(e,n);case Xb.ZodLiteral:return function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case Xb.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case Xb.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter(e=>"number"!==typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case Xb.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:Sw[e.innerType._def.typeName],nullable:!0}:{type:[Sw[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=Aw(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath]}));return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&u(u({},n),{},{nullable:!0})}const n=Aw(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}(e,n);case Xb.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null===(n=t.propertyPath)||void 0===n?void 0:n.toString()))return Aw(e.innerType._def,t);const r=Aw(e.innerType._def,u(u({},t),{},{currentPath:[...t.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:Yb(t)},r]}:Yb(t)})(e,n);case Xb.ZodMap:return function(e,t){return"record"===t.mapStrategy?kw(e,t):{type:"array",maxItems:125,items:{type:"array",items:[Aw(e.keyType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","items","0"]}))||Yb(t),Aw(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items","items","1"]}))||Yb(t)],minItems:2,maxItems:2}}}(e,n);case Xb.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:Aw(e.valueType._def,u(u({},t),{},{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&Qb(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Qb(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}(e,n);case Xb.ZodLazy:return()=>e.getter()._def;case Xb.ZodPromise:return function(e,t){return Aw(e.type._def,t)}(e,n);case Xb.ZodNaN:case Xb.ZodNever:return function(e){return"openAi"===e.target?void 0:{not:Yb(u(u({},e),{},{currentPath:[...e.currentPath,"not"]}))}}(n);case Xb.ZodEffects:return function(e,t){return"input"===t.effectStrategy?Aw(e.schema._def,t):Yb(t)}(e,n);case Xb.ZodAny:return Yb(n);case Xb.ZodUnknown:return function(e){return Yb(e)}(n);case Xb.ZodDefault:return function(e,t){return u(u({},Aw(e.innerType._def,t)),{},{default:e.defaultValue()})}(e,n);case Xb.ZodBranded:return Gb(e,n);case Xb.ZodReadonly:case Xb.ZodCatch:return((e,t)=>Aw(e.innerType._def,t))(e,n);case Xb.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return Aw(e.in._def,t);if("output"===t.pipeStrategy)return Aw(e.out._def,t);const n=Aw(e.in._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf","0"]}));return{allOf:[n,Aw(e.out._def,u(u({},t),{},{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}))].filter(e=>void 0!==e)}})(e,n);case Xb.ZodFunction:case Xb.ZodVoid:case Xb.ZodSymbol:default:return}};function Aw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.seen.get(e);if(t.override){var o;const a=null===(o=t.override)||void 0===o?void 0:o.call(t,e,t,r,n);if(a!==my)return a}if(r&&!n){const e=jw(r,t);if(void 0!==e)return e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const s=Ow(e,e.typeName,t),i="function"===typeof s?Aw(s(),t):s;if(i&&Pw(e,t,i),t.postProcess){const n=t.postProcess(i,e,t);return a.jsonSchema=i,n}return a.jsonSchema=i,i}const jw=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:$b(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),Yb(t)):"seen"===t.$refStrategy?Yb(t):void 0}},Pw=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),Rw=(e,t)=>{var n;const r=vy(t);let o="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,t)=>{var n;let[o,a]=t;return u(u({},e),{},{[o]:null!==(n=Aw(a._def,u(u({},r),{},{currentPath:[...r.basePath,r.definitionPath,o]}),!0))&&void 0!==n?n:Yb(r)})},{}):void 0;const a="string"===typeof t?t:"title"===(null===t||void 0===t?void 0:t.nameStrategy)||null===t||void 0===t?void 0:t.name,s=null!==(n=Aw(e._def,void 0===a?r:u(u({},r),{},{currentPath:[...r.basePath,r.definitionPath,a]}),!1))&&void 0!==n?n:Yb(r),i="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==i&&(s.title=i),r.flags.hasReferencedOpenAiAnyType&&(o||(o={}),o[r.openAiAnyTypeName]||(o[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===r.$refStrategy?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));const l=void 0===a?o?u(u({},s),{},{[r.definitionPath]:o}):s:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:u(u({},o),{},{[a]:s})};return"jsonSchema7"===r.target?l.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"!==r.target&&"openAi"!==r.target||(l.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in l||"oneOf"in l||"allOf"in l||"type"in l&&Array.isArray(l.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),l};var Tw=n(284);const{Axios:Iw,AxiosError:Mw,CanceledError:Lw,isCancel:Dw,CancelToken:zw,VERSION:Fw,all:Uw,Cancel:Bw,isAxiosError:Ww,spread:Hw,toFormData:qw,AxiosHeaders:Vw,HttpStatusCode:Zw,formToJSON:Kw,getAdapter:Xw,mergeConfig:$w}=py;var Yw=class{constructor(e){var t,n,r;l(this,"instance",void 0),l(this,"apiKey",void 0),l(this,"apiUrl",void 0),l(this,"maxRetries",void 0),l(this,"backoffFactor",void 0),this.apiKey=e.apiKey,this.apiUrl=e.apiUrl.replace(/\/$/,""),this.maxRetries=null!==(t=e.maxRetries)&&void 0!==t?t:3,this.backoffFactor=null!==(n=e.backoffFactor)&&void 0!==n?n:.5,this.instance=py.create({baseURL:this.apiUrl,timeout:null!==(r=e.timeoutMs)&&void 0!==r?r:6e4,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)},transitional:{clarifyTimeoutError:!0}})}getApiUrl(){return this.apiUrl}getApiKey(){return this.apiKey}async request(e){const t=function(){try{if("undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.npm_package_version)return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.npm_package_version;const e=(0,Jm.R)();return(null===e||void 0===e?void 0:e.version)||"3.x.x"}catch(e){return"3.x.x"}}();let n;e.headers=u({},e.headers||{});for(let s=0;s<this.maxRetries;s++)try{const n=u({},e);if(n.method&&["post","put","patch"].includes(n.method.toLowerCase())){var r;const e=null!==(r=n.data)&&void 0!==r?r:{};n.data=u(u({},e),{},{origin:"string"===typeof e.origin&&e.origin.includes("mcp")?e.origin:"js-sdk@".concat(t)}),"number"===typeof e.timeout&&(n.timeout=e.timeout+5e3)}const o=await this.instance.request(n);if(502===o.status&&s<this.maxRetries-1){await this.sleep(this.backoffFactor*Math.pow(2,s));continue}return o}catch(a){var o;n=a;if(502===(null===a||void 0===a||null===(o=a.response)||void 0===o?void 0:o.status)&&s<this.maxRetries-1){await this.sleep(this.backoffFactor*Math.pow(2,s));continue}throw a}throw null!==n&&void 0!==n?n:new Error("Unexpected HTTP client error")}sleep(e){return new Promise(t=>setTimeout(t,1e3*e))}post(e,t,n){return this.request({method:"post",url:e,data:t,headers:n})}get(e,t){return this.request({method:"get",url:e,headers:t})}delete(e,t){return this.request({method:"delete",url:e,headers:t})}prepareHeaders(e){const t={};return e&&(t["x-idempotency-key"]=e),t}},Jw=class extends Error{constructor(e,t,n,r){super(e),l(this,"status",void 0),l(this,"code",void 0),l(this,"details",void 0),this.name="FirecrawlSdkError",this.status=t,this.code=n,this.details=r}};function Qw(e){if(e){if(null!=e.timeout&&e.timeout<=0)throw new Error("timeout must be positive");if(null!=e.waitFor&&e.waitFor<0)throw new Error("waitFor must be non-negative");!function(e){if(e)for(const r of e)if("string"!==typeof r){if("json"===r.type){const e=r;if(!e.prompt&&!e.schema)throw new Error("json format requires either 'prompt' or 'schema' (or both)");const n=e.schema;if(n&&("function"===typeof n.safeParse||"function"===typeof n.parse)&&n._def)try{e.schema=Rw(n)}catch(t){}continue}if("changeTracking"===r.type){const e=r,t=e.schema;if(t&&("function"===typeof t.safeParse||"function"===typeof t.parse)&&t._def)try{e.schema=Rw(t)}catch(n){}continue}if("screenshot"===r.type){const e=r;if(null!=e.quality&&("number"!==typeof e.quality||e.quality<0))throw new Error("screenshot.quality must be a non-negative number")}}else if("json"===r)throw new Error("json format must be an object with { type: 'json', prompt, schema }")}(e.formats)}}function Gw(e,t){const n=e.status,r=e.data||{},o=(null===r||void 0===r?void 0:r.error)||(null===r||void 0===r?void 0:r.message)||"Request failed (".concat(n,") while trying to ").concat(t);throw new Jw(o,n,void 0,null===r||void 0===r?void 0:r.details)}function ex(e,t){var n,r,o;const a=null===(n=e.response)||void 0===n?void 0:n.status,s=null===(r=e.response)||void 0===r?void 0:r.data,i=(null===s||void 0===s?void 0:s.error)||e.message||"Request failed".concat(a?" (".concat(a,")"):""," while trying to ").concat(t),l=(null===s||void 0===s?void 0:s.code)||e.code;throw new Jw(i,a,l,null!==(o=null===s||void 0===s?void 0:s.details)&&void 0!==o?o:s)}function tx(e){const t=[];for(const n of e)n&&"object"===typeof n?t.push(n):t.push({url:n});return t}async function nx(e,t){const n=function(e){if(!e.query||!e.query.trim())throw new Error("Query cannot be empty");if(null!=e.limit&&e.limit<=0)throw new Error("limit must be positive");if(null!=e.timeout&&e.timeout<=0)throw new Error("timeout must be positive");const t={query:e.query};return e.sources&&(t.sources=e.sources),e.categories&&(t.categories=e.categories),null!=e.limit&&(t.limit=e.limit),null!=e.tbs&&(t.tbs=e.tbs),null!=e.location&&(t.location=e.location),null!=e.ignoreInvalidURLs&&(t.ignoreInvalidURLs=e.ignoreInvalidURLs),null!=e.timeout&&(t.timeout=e.timeout),e.integration&&e.integration.trim()&&(t.integration=e.integration.trim()),e.scrapeOptions&&(Qw(e.scrapeOptions),t.scrapeOptions=e.scrapeOptions),t}(t);try{var r;const t=await e.post("/v2/search",n);200===t.status&&null!==(r=t.data)&&void 0!==r&&r.success||Gw(t,"search");const o=t.data.data||{},a={};return o.web&&(a.web=tx(o.web)),o.news&&(a.news=tx(o.news)),o.images&&(a.images=tx(o.images)),a}catch(o){if(null!==o&&void 0!==o&&o.isAxiosError)return ex(o,"search");throw o}}async function rx(e,t,n){const r=function(e,t){if(!e||!e.trim())throw new Error("URL cannot be empty");const n={url:e.trim()};return t&&(null!=t.sitemap&&(n.sitemap=t.sitemap),null!=t.search&&(n.search=t.search),null!=t.includeSubdomains&&(n.includeSubdomains=t.includeSubdomains),null!=t.limit&&(n.limit=t.limit),null!=t.timeout&&(n.timeout=t.timeout),null!=t.integration&&t.integration.trim()&&(n.integration=t.integration.trim()),null!=t.location&&(n.location=t.location)),n}(t,n);try{var o;const t=await e.post("/v2/map",r);200===t.status&&null!==(o=t.data)&&void 0!==o&&o.success||Gw(t,"map");const n=t.data.links||[],a=[];for(const e of n)"string"===typeof e?a.push({url:e}):e&&"object"===typeof e&&a.push({url:e.url,title:e.title,description:e.description});return{links:a}}catch(a){if(null!==a&&void 0!==a&&a.isAxiosError)return ex(a,"map");throw a}}async function ox(e,t,n,r){var o,a,s;const i=n.slice();let l=t,c=0;const u=null!==(o=null===r||void 0===r?void 0:r.maxPages)&&void 0!==o?o:void 0,d=null!==(a=null===r||void 0===r?void 0:r.maxResults)&&void 0!==a?a:void 0,f=null!==(s=null===r||void 0===r?void 0:r.maxWaitTime)&&void 0!==s?s:void 0,h=Date.now();for(;l;){var p,m;if(null!=u&&c>=u)break;if(null!=f&&(Date.now()-h)/1e3>f)break;let t=null;try{t=(await e.get(l)).data}catch(g){break}if(null===(p=t)||void 0===p||!p.success)break;for(const e of t.data||[]){if(null!=d&&i.length>=d)break;i.push(e)}if(null!=d&&i.length>=d)break;l=null!==(m=t.next)&&void 0!==m?m:null,c+=1}return i}async function ax(e,t){const n=function(e){if(!e.url||!e.url.trim())throw new Error("URL cannot be empty");const t={url:e.url.trim()};return e.prompt&&(t.prompt=e.prompt),e.excludePaths&&(t.excludePaths=e.excludePaths),e.includePaths&&(t.includePaths=e.includePaths),null!=e.maxDiscoveryDepth&&(t.maxDiscoveryDepth=e.maxDiscoveryDepth),null!=e.sitemap&&(t.sitemap=e.sitemap),null!=e.ignoreQueryParameters&&(t.ignoreQueryParameters=e.ignoreQueryParameters),null!=e.limit&&(t.limit=e.limit),null!=e.crawlEntireDomain&&(t.crawlEntireDomain=e.crawlEntireDomain),null!=e.allowExternalLinks&&(t.allowExternalLinks=e.allowExternalLinks),null!=e.allowSubdomains&&(t.allowSubdomains=e.allowSubdomains),null!=e.delay&&(t.delay=e.delay),null!=e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency),null!=e.webhook&&(t.webhook=e.webhook),null!=e.integration&&e.integration.trim()&&(t.integration=e.integration.trim()),e.scrapeOptions&&(Qw(e.scrapeOptions),t.scrapeOptions=e.scrapeOptions),null!=e.zeroDataRetention&&(t.zeroDataRetention=e.zeroDataRetention),t}(t);try{var r;const t=await e.post("/v2/crawl",n);return 200===t.status&&null!==(r=t.data)&&void 0!==r&&r.success||Gw(t,"start crawl"),{id:t.data.id,url:t.data.url}}catch(o){if(null!==o&&void 0!==o&&o.isAxiosError)return ex(o,"start crawl");throw o}}async function sx(e,t,n){try{var r,o,a,s;const u=await e.get("/v2/crawl/".concat(t));200===u.status&&null!==(r=u.data)&&void 0!==r&&r.success||Gw(u,"get crawl status");const d=u.data,f=d.data||[];var i,l,c;if(!(null===(o=null===n||void 0===n?void 0:n.autoPaginate)||void 0===o||o)||!d.next)return{status:d.status,completed:null!==(i=d.completed)&&void 0!==i?i:0,total:null!==(l=d.total)&&void 0!==l?l:0,creditsUsed:d.creditsUsed,expiresAt:d.expiresAt,next:null!==(c=d.next)&&void 0!==c?c:null,data:f};const h=await ox(e,d.next,f,n);return{status:d.status,completed:null!==(a=d.completed)&&void 0!==a?a:0,total:null!==(s=d.total)&&void 0!==s?s:0,creditsUsed:d.creditsUsed,expiresAt:d.expiresAt,next:null,data:h}}catch(u){if(null!==u&&void 0!==u&&u.isAxiosError)return ex(u,"get crawl status");throw u}}async function ix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;return async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;const o=Date.now();for(;;){const a=await sx(e,t);if(["completed","failed","cancelled"].includes(a.status))return a;if(null!=r&&Date.now()-o>1e3*r)throw new Error("Crawl job ".concat(t," did not complete within ").concat(r," seconds"));await new Promise(e=>setTimeout(e,Math.max(1e3,1e3*n)))}}(e,(await ax(e,t)).id,n,r)}async function lx(e,t){let{options:n,webhook:r,appendToId:o,ignoreInvalidURLs:a,maxConcurrency:s,zeroDataRetention:i,idempotencyKey:l,integration:c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Array.isArray(t)||0===t.length)throw new Error("URLs list cannot be empty");const u={urls:t};n&&(Qw(n),Object.assign(u,n)),null!=r&&(u.webhook=r),null!=o&&(u.appendToId=o),null!=a&&(u.ignoreInvalidURLs=a),null!=s&&(u.maxConcurrency=s),null!=i&&(u.zeroDataRetention=i),null!=c&&c.trim()&&(u.integration=c.trim());try{var d;const t=e.prepareHeaders(l),n=await e.post("/v2/batch/scrape",u,t);return 200===n.status&&null!==(d=n.data)&&void 0!==d&&d.success||Gw(n,"start batch scrape"),{id:n.data.id,url:n.data.url,invalidURLs:n.data.invalidURLs||void 0}}catch(f){if(null!==f&&void 0!==f&&f.isAxiosError)return ex(f,"start batch scrape");throw f}}async function cx(e,t,n){try{var r,o,a,s;const u=await e.get("/v2/batch/scrape/".concat(t));200===u.status&&null!==(r=u.data)&&void 0!==r&&r.success||Gw(u,"get batch scrape status");const d=u.data,f=d.data||[];var i,l,c;if(!(null===(o=null===n||void 0===n?void 0:n.autoPaginate)||void 0===o||o)||!d.next)return{status:d.status,completed:null!==(i=d.completed)&&void 0!==i?i:0,total:null!==(l=d.total)&&void 0!==l?l:0,creditsUsed:d.creditsUsed,expiresAt:d.expiresAt,next:null!==(c=d.next)&&void 0!==c?c:null,data:f};const h=await ox(e,d.next,f,n);return{status:d.status,completed:null!==(a=d.completed)&&void 0!==a?a:0,total:null!==(s=d.total)&&void 0!==s?s:0,creditsUsed:d.creditsUsed,expiresAt:d.expiresAt,next:null,data:h}}catch(u){if(null!==u&&void 0!==u&&u.isAxiosError)return ex(u,"get batch scrape status");throw u}}async function ux(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;const o=Date.now();for(;;){const a=await cx(e,t);if(["completed","failed","cancelled"].includes(a.status))return a;if(null!=r&&Date.now()-o>1e3*r)throw new Error("Batch scrape job ".concat(t," did not complete within ").concat(r," seconds"));await new Promise(e=>setTimeout(e,Math.max(1e3,1e3*n)))}}(e,(await lx(e,t,r)).id,null!==(n=r.pollInterval)&&void 0!==n?n:2,r.timeout)}async function dx(e,t){const n=function(e){const t={};if(e.urls&&(t.urls=e.urls),null!=e.prompt&&(t.prompt=e.prompt),null!=e.schema){const n=e.schema,r=n&&("function"===typeof n.safeParse||"function"===typeof n.parse)&&n._def;t.schema=r?Rw(n):e.schema}return null!=e.systemPrompt&&(t.systemPrompt=e.systemPrompt),null!=e.allowExternalLinks&&(t.allowExternalLinks=e.allowExternalLinks),null!=e.enableWebSearch&&(t.enableWebSearch=e.enableWebSearch),null!=e.showSources&&(t.showSources=e.showSources),null!=e.ignoreInvalidURLs&&(t.ignoreInvalidURLs=e.ignoreInvalidURLs),e.integration&&e.integration.trim()&&(t.integration=e.integration.trim()),e.agent&&(t.agent=e.agent),e.scrapeOptions&&(Qw(e.scrapeOptions),t.scrapeOptions=e.scrapeOptions),t}(t);try{const t=await e.post("/v2/extract",n);return 200!==t.status&&Gw(t,"extract"),t.data}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"extract");throw r}}async function fx(e,t){try{const n=await e.get("/v2/extract/".concat(t));return 200!==n.status&&Gw(n,"extract status"),n.data}catch(n){if(null!==n&&void 0!==n&&n.isAxiosError)return ex(n,"extract status");throw n}}async function hx(e,t){var n;const r=await dx(e,t),o=r.id;return o?async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;const o=Date.now();for(;;){const a=await fx(e,t);if(["completed","failed","cancelled"].includes(a.status||""))return a;if(null!=r&&Date.now()-o>1e3*r)return a;await new Promise(e=>setTimeout(e,Math.max(1e3,1e3*n)))}}(e,o,null!==(n=t.pollInterval)&&void 0!==n?n:2,t.timeout):r}var px=class extends Tw.EventEmitter{constructor(e,t){var n,r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),l(this,"http",void 0),l(this,"jobId",void 0),l(this,"kind",void 0),l(this,"pollInterval",void 0),l(this,"timeout",void 0),l(this,"ws",void 0),l(this,"closed",!1),this.http=e,this.jobId=t,this.kind=null!==(n=o.kind)&&void 0!==n?n:"crawl",this.pollInterval=null!==(r=o.pollInterval)&&void 0!==r?r:2,this.timeout=o.timeout}buildWsUrl(){const e=this.http.getApiUrl().replace(/^http/,"ws"),t="crawl"===this.kind?"/v2/crawl/".concat(this.jobId):"/v2/batch/scrape/".concat(this.jobId);return"".concat(e).concat(t)}async start(){try{const e=this.buildWsUrl();this.ws=new WebSocket(e,this.http.getApiKey()),this.attachWsHandlers(this.ws)}catch(e){this.pollLoop()}}attachWsHandlers(e){let t=Date.now();const n=this.timeout?1e3*this.timeout:void 0;e.onmessage=e=>{try{const t="string"===typeof e.data?JSON.parse(e.data):null;if(!t)return;const n=t.type;if("error"===n)return void this.emit("error",{status:"failed",data:[],error:t.error,id:this.jobId});if("catchup"===n){const e=t.data||{};return this.emitDocuments(e.data||[]),void this.emitSnapshot(e)}if("document"===n){const e=t.data;return void(e&&this.emit("document",e))}if("done"===n)return this.emit("done",{status:"completed",data:[],id:this.jobId}),void this.close();const r=t.data||t;r&&r.status&&this.emitSnapshot(r)}catch(r){}n&&Date.now()-t>n&&this.close()},e.onerror=()=>{this.emit("error",{status:"failed",data:[],error:"WebSocket error",id:this.jobId}),this.close()},e.onclose=()=>{this.closed||this.pollLoop()}}emitDocuments(e){for(const t of e)this.emit("document",u(u({},t),{},{id:this.jobId}))}emitSnapshot(e){var t,n,r,o,a,s;const i=e.status,l=e.data||[],c="crawl"===this.kind?{status:i,completed:null!==(t=e.completed)&&void 0!==t?t:0,total:null!==(n=e.total)&&void 0!==n?n:0,creditsUsed:e.creditsUsed,expiresAt:e.expiresAt,next:null!==(r=e.next)&&void 0!==r?r:null,data:l}:{status:i,completed:null!==(o=e.completed)&&void 0!==o?o:0,total:null!==(a=e.total)&&void 0!==a?a:0,creditsUsed:e.creditsUsed,expiresAt:e.expiresAt,next:null!==(s=e.next)&&void 0!==s?s:null,data:l};this.emit("snapshot",c),["completed","failed","cancelled"].includes(i)&&(this.emit("done",{status:i,data:l,id:this.jobId}),this.close())}async pollLoop(){const e=Date.now(),t=this.timeout?1e3*this.timeout:void 0;for(;!this.closed;){try{const e="crawl"===this.kind?await sx(this.http,this.jobId):await cx(this.http,this.jobId);if(this.emit("snapshot",e),["completed","failed","cancelled"].includes(e.status)){this.emit("done",{status:e.status,data:e.data,id:this.jobId}),this.close();break}}catch(n){}if(t&&Date.now()-e>t)break;await new Promise(e=>setTimeout(e,Math.max(1e3,1e3*this.pollInterval)))}}close(){this.closed=!0,this.ws&&this.ws.close&&this.ws.close()}},mx=class{constructor(){var e,t,n,r;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,"http",void 0);const a=null!==(e=null!==(t=o.apiKey)&&void 0!==t?t:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.FIRECRAWL_API_KEY)&&void 0!==e?e:"",s=(null!==(n=null!==(r=o.apiUrl)&&void 0!==r?r:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.FIRECRAWL_API_URL)&&void 0!==n?n:"https://api.firecrawl.dev").replace(/\/$/,"");if(!a)throw new Error("API key is required. Set FIRECRAWL_API_KEY env or pass apiKey.");this.http=new Yw({apiKey:a,apiUrl:s,timeoutMs:o.timeoutMs,maxRetries:o.maxRetries,backoffFactor:o.backoffFactor})}async scrape(e,t){return async function(e,t,n){if(!t||!t.trim())throw new Error("URL cannot be empty");n&&Qw(n);const r={url:t.trim()};n&&Object.assign(r,n);try{var o;const t=await e.post("/v2/scrape",r);return 200===t.status&&null!==(o=t.data)&&void 0!==o&&o.success||Gw(t,"scrape"),t.data.data||{}}catch(a){if(null!==a&&void 0!==a&&a.isAxiosError)return ex(a,"scrape");throw a}}(this.http,e,t)}async search(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nx(this.http,u({query:e},t))}async map(e,t){return rx(this.http,e,t)}async startCrawl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ax(this.http,u({url:e},t))}async getCrawlStatus(e,t){return sx(this.http,e,t)}async cancelCrawl(e){return async function(e,t){try{var n;const r=await e.delete("/v2/crawl/".concat(t));return 200!==r.status&&Gw(r,"cancel crawl"),"cancelled"===(null===(n=r.data)||void 0===n?void 0:n.status)}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"cancel crawl");throw r}}(this.http,e)}async crawl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ix(this.http,u({url:e},t),t.pollInterval,t.timeout)}async getCrawlErrors(e){return async function(e,t){try{var n,r;const o=await e.get("/v2/crawl/".concat(t,"/errors"));200!==o.status&&Gw(o,"get crawl errors");const a=null!==(n=null===(r=o.data)||void 0===r?void 0:r.data)&&void 0!==n?n:o.data;return{errors:a.errors||[],robotsBlocked:a.robotsBlocked||[]}}catch(o){if(null!==o&&void 0!==o&&o.isAxiosError)return ex(o,"get crawl errors");throw o}}(this.http,e)}async getActiveCrawls(){return async function(e){try{var t,n;const r=await e.get("/v2/crawl/active");200===r.status&&null!==(t=r.data)&&void 0!==t&&t.success||Gw(r,"get active crawls");const o=((null===(n=r.data)||void 0===n?void 0:n.crawls)||[]).map(e=>{var t,n;return{id:e.id,teamId:null!==(t=e.teamId)&&void 0!==t?t:e.team_id,url:e.url,options:null!==(n=e.options)&&void 0!==n?n:null}});return{success:!0,crawls:o}}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"get active crawls");throw r}}(this.http)}async crawlParamsPreview(e,t){return async function(e,t,n){if(!t||!t.trim())throw new Error("URL cannot be empty");if(!n||!n.trim())throw new Error("Prompt cannot be empty");try{var r;const o=await e.post("/v2/crawl/params-preview",{url:t.trim(),prompt:n});200===o.status&&null!==(r=o.data)&&void 0!==r&&r.success||Gw(o,"crawl params preview");const a=o.data.data||{};return o.data.warning&&(a.warning=o.data.warning),a}catch(o){if(null!==o&&void 0!==o&&o.isAxiosError)return ex(o,"crawl params preview");throw o}}(this.http,e,t)}async startBatchScrape(e,t){return lx(this.http,e,t)}async getBatchScrapeStatus(e,t){return cx(this.http,e,t)}async getBatchScrapeErrors(e){return async function(e,t){try{var n,r;const o=await e.get("/v2/batch/scrape/".concat(t,"/errors"));200!==o.status&&Gw(o,"get batch scrape errors");const a=null!==(n=null===(r=o.data)||void 0===r?void 0:r.data)&&void 0!==n?n:o.data;return{errors:a.errors||[],robotsBlocked:a.robotsBlocked||[]}}catch(o){if(null!==o&&void 0!==o&&o.isAxiosError)return ex(o,"get batch scrape errors");throw o}}(this.http,e)}async cancelBatchScrape(e){return async function(e,t){try{var n;const r=await e.delete("/v2/batch/scrape/".concat(t));return 200!==r.status&&Gw(r,"cancel batch scrape"),"cancelled"===(null===(n=r.data)||void 0===n?void 0:n.status)}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"cancel batch scrape");throw r}}(this.http,e)}async batchScrape(e,t){return ux(this.http,e,t)}async startExtract(e){return dx(this.http,e)}async getExtractStatus(e){return fx(this.http,e)}async extract(e){return hx(this.http,e)}async getConcurrency(){return async function(e){try{var t,n;const r=await e.get("/v2/concurrency-check");200===r.status&&null!==(t=r.data)&&void 0!==t&&t.success||Gw(r,"get concurrency");const o=r.data.data||r.data;return{concurrency:o.concurrency,maxConcurrency:null!==(n=o.maxConcurrency)&&void 0!==n?n:o.max_concurrency}}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"get concurrency");throw r}}(this.http)}async getCreditUsage(){return async function(e){try{var t,n,r,o,a,s,i,l;const c=await e.get("/v2/team/credit-usage");200===c.status&&null!==(t=c.data)&&void 0!==t&&t.success||Gw(c,"get credit usage");const u=c.data.data||c.data;return{remainingCredits:null!==(n=null!==(r=u.remainingCredits)&&void 0!==r?r:u.remaining_credits)&&void 0!==n?n:0,planCredits:null!==(o=u.planCredits)&&void 0!==o?o:u.plan_credits,billingPeriodStart:null!==(a=null!==(s=u.billingPeriodStart)&&void 0!==s?s:u.billing_period_start)&&void 0!==a?a:null,billingPeriodEnd:null!==(i=null!==(l=u.billingPeriodEnd)&&void 0!==l?l:u.billing_period_end)&&void 0!==i?i:null}}catch(c){if(null!==c&&void 0!==c&&c.isAxiosError)return ex(c,"get credit usage");throw c}}(this.http)}async getTokenUsage(){return async function(e){try{var t,n,r,o,a,s,i,l;const c=await e.get("/v2/team/token-usage");200===c.status&&null!==(t=c.data)&&void 0!==t&&t.success||Gw(c,"get token usage");const u=c.data.data||c.data;return{remainingTokens:null!==(n=null!==(r=u.remainingTokens)&&void 0!==r?r:u.remaining_tokens)&&void 0!==n?n:0,planTokens:null!==(o=u.planTokens)&&void 0!==o?o:u.plan_tokens,billingPeriodStart:null!==(a=null!==(s=u.billingPeriodStart)&&void 0!==s?s:u.billing_period_start)&&void 0!==a?a:null,billingPeriodEnd:null!==(i=null!==(l=u.billingPeriodEnd)&&void 0!==l?l:u.billing_period_end)&&void 0!==i?i:null}}catch(c){if(null!==c&&void 0!==c&&c.isAxiosError)return ex(c,"get token usage");throw c}}(this.http)}async getCreditUsageHistorical(e){return async function(e,t){try{var n;const r=t?"?byApiKey=true":"",o=await e.get("/v2/team/credit-usage/historical".concat(r));return 200===o.status&&null!==(n=o.data)&&void 0!==n&&n.success||Gw(o,"get credit usage historical"),o.data}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"get credit usage historical");throw r}}(this.http,e)}async getTokenUsageHistorical(e){return async function(e,t){try{var n;const r=t?"?byApiKey=true":"",o=await e.get("/v2/team/token-usage/historical".concat(r));return 200===o.status&&null!==(n=o.data)&&void 0!==n&&n.success||Gw(o,"get token usage historical"),o.data}catch(r){if(null!==r&&void 0!==r&&r.isAxiosError)return ex(r,"get token usage historical");throw r}}(this.http,e)}async getQueueStatus(){return async function(e){try{var t;const n=await e.get("/v2/team/queue-status");return 200===n.status&&null!==(t=n.data)&&void 0!==t&&t.success||Gw(n,"get queue status"),n.data}catch(n){if(null!==n&&void 0!==n&&n.isAxiosError)return ex(n,"get queue status");throw n}}(this.http)}watcher(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new px(this.http,e,t)}},gx=class extends EventTarget{dispatchTypedEvent(e,t){return super.dispatchEvent(t)}},vx=class extends Error{constructor(e,t,n){super(e),l(this,"statusCode",void 0),l(this,"details",void 0),this.statusCode=t,this.details=n}},yx=class{isCloudService(e){return e.includes("api.firecrawl.dev")}async getVersion(){try{if("undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.npm_package_version)return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.npm_package_version;return(await n.e(264).then(n.bind(n,264))).default.version}catch(e){return"undefined"!==typeof process&&(null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-006dd4fb74ec47488f39200158781bfa",REACT_APP_FIRECRAWL_API_KEY:"fc-1523f5a5f130498ca9fbe1d136681671",REACT_APP_NAME:"Agent Workflow Builder",REACT_APP_VERSION:"1.0.0"}.JEST_WORKER_ID||!1)||console.error("Error getting version:",e),"1.25.1"}}async init(){this.version=await this.getVersion()}constructor(e){let{apiKey:t=null,apiUrl:n=null}=e;l(this,"apiKey",void 0),l(this,"apiUrl",void 0),l(this,"version","1.25.1");const r=n||"https://api.firecrawl.dev";if(this.isCloudService(r)&&"string"!==typeof t)throw new vx("No API key provided",401);this.apiKey=t||"",this.apiUrl=r,this.init()}async scrapeUrl(e,t){var n,r;const o={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)};let a=u(u({url:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});if(null!==(n=a)&&void 0!==n&&null!==(n=n.extract)&&void 0!==n&&n.schema){let e=a.extract.schema;try{e=Rw(e)}catch(s){}a=u(u({},a),{},{extract:u(u({},a.extract),{},{schema:e})})}if(null!==(r=a)&&void 0!==r&&null!==(r=r.jsonOptions)&&void 0!==r&&r.schema){let e=a.jsonOptions.schema;try{e=Rw(e)}catch(s){}a=u(u({},a),{},{jsonOptions:u(u({},a.jsonOptions),{},{schema:e})})}try{const e=await py.post(this.apiUrl+"/v1/scrape",a,{headers:o,timeout:void 0!==(null===t||void 0===t?void 0:t.timeout)?t.timeout+5e3:void 0});if(200===e.status){const t=e.data;if(t.success)return u({success:!0,warning:t.warning,error:t.error},t.data);throw new vx("Failed to scrape URL. Error: ".concat(t.error),e.status)}this.handleError(e,"scrape URL")}catch(s){this.handleError(s.response,"scrape URL")}return{success:!1,error:"Internal server error."}}async search(e,t){var n,r,o,a,s,i;const l={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)};let c={query:e,limit:null!==(n=null===t||void 0===t?void 0:t.limit)&&void 0!==n?n:5,tbs:null===t||void 0===t?void 0:t.tbs,filter:null===t||void 0===t?void 0:t.filter,lang:null!==(r=null===t||void 0===t?void 0:t.lang)&&void 0!==r?r:"en",country:null!==(o=null===t||void 0===t?void 0:t.country)&&void 0!==o?o:"us",location:null===t||void 0===t?void 0:t.location,origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version),timeout:null!==(a=null===t||void 0===t?void 0:t.timeout)&&void 0!==a?a:6e4,scrapeOptions:null!==(s=null===t||void 0===t?void 0:t.scrapeOptions)&&void 0!==s?s:{formats:[]}};if(null!==(i=c)&&void 0!==i&&null!==(i=i.scrapeOptions)&&void 0!==i&&null!==(i=i.extract)&&void 0!==i&&i.schema){let e=c.scrapeOptions.extract.schema;try{e=Rw(e)}catch(f){}c=u(u({},c),{},{scrapeOptions:u(u({},c.scrapeOptions),{},{extract:u(u({},c.scrapeOptions.extract),{},{schema:e})})})}try{const e=await this.postRequest(this.apiUrl+"/v1/search",c,l);if(200===e.status){const t=e.data;if(t.success)return{success:!0,data:t.data,warning:t.warning};throw new vx("Failed to search. Error: ".concat(t.error),e.status)}this.handleError(e,"search")}catch(f){var d;throw null!==(d=f.response)&&void 0!==d&&null!==(d=d.data)&&void 0!==d&&d.error?new vx("Request failed with status code ".concat(f.response.status,". Error: ").concat(f.response.data.error," ").concat(f.response.data.details?" - ".concat(JSON.stringify(f.response.data.details)):""),f.response.status):new vx(f.message,500)}return{success:!1,error:"Internal server error.",data:[]}}async crawlUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;const o=this.prepareHeaders(r);let a=u(u({url:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});try{const e=await this.postRequest(this.apiUrl+"/v1/crawl",a,o);if(200===e.status){const t=e.data.id;return this.monitorJobStatus(t,o,n)}this.handleError(e,"start crawl job")}catch(i){var s;throw null!==(s=i.response)&&void 0!==s&&null!==(s=s.data)&&void 0!==s&&s.error?new vx("Request failed with status code ".concat(i.response.status,". Error: ").concat(i.response.data.error," ").concat(i.response.data.details?" - ".concat(JSON.stringify(i.response.data.details)):""),i.response.status):new vx(i.message,500)}return{success:!1,error:"Internal server error."}}async asyncCrawlUrl(e,t,n){const r=this.prepareHeaders(n);let o=u(u({url:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});try{const e=await this.postRequest(this.apiUrl+"/v1/crawl",o,r);if(200===e.status)return e.data;this.handleError(e,"start crawl job")}catch(s){var a;throw null!==(a=s.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.error?new vx("Request failed with status code ".concat(s.response.status,". Error: ").concat(s.response.data.error," ").concat(s.response.data.details?" - ".concat(JSON.stringify(s.response.data.details)):""),s.response.status):new vx(s.message,500)}return{success:!1,error:"Internal server error."}}async checkCrawlStatus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!e)throw new vx("No crawl ID provided",400);const a=this.prepareHeaders(),s=new URL(null!==n&&void 0!==n?n:"".concat(this.apiUrl,"/v1/crawl/").concat(e));void 0!==r&&s.searchParams.set("skip",r.toString()),void 0!==o&&s.searchParams.set("limit",o.toString());try{const e=await this.getRequest(s.href,a);if(200===e.status){let n=e.data.data;if(t&&"completed"===e.data.status){let t=e.data;if("data"in t){let e=t.data;for(;"object"===typeof t&&"next"in t&&0!==e.length;)t=(await this.getRequest(t.next,a)).data,e=e.concat(t.data);n=e}}let r={success:e.data.success,status:e.data.status,total:e.data.total,completed:e.data.completed,creditsUsed:e.data.creditsUsed,next:t?void 0:e.data.next,expiresAt:new Date(e.data.expiresAt),data:n};return!e.data.success&&e.data.error&&(r=u(u({},r),{},{success:!1,error:e.data.error})),e.data.next&&(r.next=e.data.next),r}this.handleError(e,"check crawl status")}catch(i){throw new vx(i.message,500)}return{success:!1,error:"Internal server error."}}async checkCrawlErrors(e){const t=this.prepareHeaders();try{const n=await this.deleteRequest("".concat(this.apiUrl,"/v1/crawl/").concat(e,"/errors"),t);if(200===n.status)return n.data;this.handleError(n,"check crawl errors")}catch(n){throw new vx(n.message,500)}return{success:!1,error:"Internal server error."}}async cancelCrawl(e){const t=this.prepareHeaders();try{const n=await this.deleteRequest("".concat(this.apiUrl,"/v1/crawl/").concat(e),t);if(200===n.status)return n.data;this.handleError(n,"cancel crawl job")}catch(n){throw new vx(n.message,500)}return{success:!1,error:"Internal server error."}}async crawlUrlAndWatch(e,t,n){const r=await this.asyncCrawlUrl(e,t,n);if(r.success&&r.id){const e=r.id;return new bx(e,this)}throw new vx("Crawl job failed to start",400)}async mapUrl(e,t){const n=this.prepareHeaders();let r=u(u({url:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});try{const e=await this.postRequest(this.apiUrl+"/v1/map",r,n);if(200===e.status)return e.data;this.handleError(e,"map")}catch(o){throw new vx(o.message,500)}return{success:!1,error:"Internal server error."}}async batchScrapeUrls(e,t){var n,r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;const c=this.prepareHeaders(a);let d=u(u({urls:e,webhook:s,ignoreInvalidURLs:i,maxConcurrency:l},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});if(null!==(n=d)&&void 0!==n&&null!==(n=n.extract)&&void 0!==n&&n.schema){let e=d.extract.schema;try{e=Rw(e)}catch(h){}d=u(u({},d),{},{extract:u(u({},d.extract),{},{schema:e})})}if(null!==(r=d)&&void 0!==r&&null!==(r=r.jsonOptions)&&void 0!==r&&r.schema){let e=d.jsonOptions.schema;try{e=Rw(e)}catch(h){}d=u(u({},d),{},{jsonOptions:u(u({},d.jsonOptions),{},{schema:e})})}try{const e=await this.postRequest(this.apiUrl+"/v1/batch/scrape",d,c);if(200===e.status){const t=e.data.id;return this.monitorJobStatus(t,c,o)}this.handleError(e,"start batch scrape job")}catch(h){var f;throw null!==(f=h.response)&&void 0!==f&&null!==(f=f.data)&&void 0!==f&&f.error?new vx("Request failed with status code ".concat(h.response.status,". Error: ").concat(h.response.data.error," ").concat(h.response.data.details?" - ".concat(JSON.stringify(h.response.data.details)):""),h.response.status):new vx(h.message,500)}return{success:!1,error:"Internal server error."}}async asyncBatchScrapeUrls(e,t,n,r,o){const a=this.prepareHeaders(n);let s=u(u({urls:e,webhook:r,ignoreInvalidURLs:o},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});try{const e=await this.postRequest(this.apiUrl+"/v1/batch/scrape",s,a);if(200===e.status)return e.data;this.handleError(e,"start batch scrape job")}catch(l){var i;throw null!==(i=l.response)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.error?new vx("Request failed with status code ".concat(l.response.status,". Error: ").concat(l.response.data.error," ").concat(l.response.data.details?" - ".concat(JSON.stringify(l.response.data.details)):""),l.response.status):new vx(l.message,500)}return{success:!1,error:"Internal server error."}}async batchScrapeUrlsAndWatch(e,t,n,r,o){const a=await this.asyncBatchScrapeUrls(e,t,n,r,o);if(a.success&&a.id){const e=a.id;return new bx(e,this)}throw new vx("Batch scrape job failed to start",400)}async checkBatchScrapeStatus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!e)throw new vx("No batch scrape ID provided",400);const a=this.prepareHeaders(),s=new URL(null!==n&&void 0!==n?n:"".concat(this.apiUrl,"/v1/batch/scrape/").concat(e));void 0!==r&&s.searchParams.set("skip",r.toString()),void 0!==o&&s.searchParams.set("limit",o.toString());try{const e=await this.getRequest(s.href,a);if(200===e.status){let n=e.data.data;if(t&&"completed"===e.data.status){let t=e.data;if("data"in t){let e=t.data;for(;"object"===typeof t&&"next"in t&&0!==e.length;)t=(await this.getRequest(t.next,a)).data,e=e.concat(t.data);n=e}}let r={success:e.data.success,status:e.data.status,total:e.data.total,completed:e.data.completed,creditsUsed:e.data.creditsUsed,next:t?void 0:e.data.next,expiresAt:new Date(e.data.expiresAt),data:n};return!e.data.success&&e.data.error&&(r=u(u({},r),{},{success:!1,error:e.data.error})),e.data.next&&(r.next=e.data.next),r}this.handleError(e,"check batch scrape status")}catch(i){throw new vx(i.message,500)}return{success:!1,error:"Internal server error."}}async checkBatchScrapeErrors(e){const t=this.prepareHeaders();try{const n=await this.deleteRequest("".concat(this.apiUrl,"/v1/batch/scrape/").concat(e,"/errors"),t);if(200===n.status)return n.data;this.handleError(n,"check batch scrape errors")}catch(n){throw new vx(n.message,500)}return{success:!1,error:"Internal server error."}}async extract(e,t){const n=this.prepareHeaders();let r,o=u({urls:e},t);try{if(null!==t&&void 0!==t&&t.schema)try{r=Rw(t.schema)}catch(Zi){r=t.schema}else r=void 0}catch(i){throw new vx("Invalid schema. Schema must be either a valid Zod schema or JSON schema object.",400)}try{const e=await this.postRequest(this.apiUrl+"/v1/extract",u(u({},o),{},{schema:r,origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)}),n);if(200===e.status){const t=e.data.id;let r;do{const e=await this.getRequest("".concat(this.apiUrl,"/v1/extract/").concat(t),n);if(r=e.data,"completed"===r.status){var a;if(r.success)return{success:!0,data:r.data,warning:r.warning,error:r.error,sources:(null===(a=r)||void 0===a?void 0:a.sources)||void 0};throw new vx("Failed to extract data. Error: ".concat(r.error),e.status)}if("failed"===r.status||"cancelled"===r.status)throw new vx("Extract job ".concat(r.status,". Error: ").concat(r.error),e.status);await new Promise(e=>setTimeout(e,1e3))}while("completed"!==r.status)}else this.handleError(e,"extract")}catch(i){var s;throw new vx(i.message,500,null===(s=i.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.details)}return{success:!1,error:"Internal server error."}}async asyncExtract(e,t,n){const r=this.prepareHeaders(n);let o,a=u({urls:e},t);try{if(null!==t&&void 0!==t&&t.schema)try{o=Rw(t.schema)}catch(Zi){o=t.schema}else o=void 0}catch(i){throw new vx("Invalid schema. Schema must be either a valid Zod schema or JSON schema object.",400)}try{const e=await this.postRequest(this.apiUrl+"/v1/extract",u(u({},a),{},{schema:o,origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)}),r);if(200===e.status)return e.data;this.handleError(e,"start extract job")}catch(i){var s;throw new vx(i.message,500,null===(s=i.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.details)}return{success:!1,error:"Internal server error."}}async getExtractStatus(e){try{const t=await this.getRequest("".concat(this.apiUrl,"/v1/extract/").concat(e),this.prepareHeaders());if(200===t.status)return t.data;this.handleError(t,"get extract status")}catch(t){throw new vx(t.message,500)}}prepareHeaders(e){return u({"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)},e?{"x-idempotency-key":e}:{})}postRequest(e,t,n){return py.post(e,t,{headers:n,timeout:null!==t&&void 0!==t&&t.timeout?t.timeout+5e3:void 0})}async getRequest(e,t){try{return await py.get(e,{headers:t})}catch(n){if(n instanceof Mw&&n.response)return n.response;throw n}}async deleteRequest(e,t){try{return await py.delete(e,{headers:t})}catch(n){if(n instanceof Mw&&n.response)return n.response;throw n}}async monitorJobStatus(e,t,n){let r=0,o=0;for(;;)try{let a=await this.getRequest("".concat(this.apiUrl,"/v1/crawl/").concat(e),t);if(200===a.status){r=0,o=0;let e=a.data;if("completed"===e.status){if("data"in e){let n=e.data;for(;"object"===typeof e&&"next"in e&&0!==n.length;)a=await this.getRequest(e.next,t),e=a.data,n=n.concat(e.data);return e.data=n,e}throw new vx("Crawl job completed but no data was returned",500)}if(!["active","paused","pending","queued","waiting","scraping"].includes(e.status))throw new vx("Crawl job failed or was stopped. Status: ".concat(e.status),500);n=Math.max(n,2),await new Promise(e=>setTimeout(e,1e3*n))}else r++,r>=3&&this.handleError(a,"check crawl status")}catch(a){if(this.isRetryableError(a)&&o<3){o++;const e=Math.min(1e3*Math.pow(2,o-1),1e4);await new Promise(t=>setTimeout(t,e));continue}throw new vx(a,500)}}isRetryableError(e){if(e instanceof Mw){var t,n;if(!e.response){var r;const t=e.code,n=(null===(r=e.message)||void 0===r?void 0:r.toLowerCase())||"";return"ECONNRESET"===t||"ETIMEDOUT"===t||"ENOTFOUND"===t||"ECONNREFUSED"===t||n.includes("socket hang up")||n.includes("network error")||n.includes("timeout")}if(408===(null===(t=e.response)||void 0===t?void 0:t.status)||504===(null===(n=e.response)||void 0===n?void 0:n.status))return!0}if(e&&"object"===typeof e){var o,a,s;const t=e.code,n=(null===(o=e.message)||void 0===o?void 0:o.toLowerCase())||"";if("ECONNRESET"===t||"ETIMEDOUT"===t||"ENOTFOUND"===t||"ECONNREFUSED"===t||n.includes("socket hang up")||n.includes("network error")||n.includes("timeout"))return!0;if(408===(null===(a=e.response)||void 0===a?void 0:a.status)||504===(null===(s=e.response)||void 0===s?void 0:s.status))return!0}return!1}handleError(e,t){if(!e)throw new vx("No response received while trying to ".concat(t,". This may be a network error or the server is unreachable."),0);if([400,402,403,408,409,500].includes(e.status)){var n;const r=e.data.error||"Unknown error occurred",o=e.data.details?" - ".concat(JSON.stringify(e.data.details)):"";throw new vx("Failed to ".concat(t,". Status code: ").concat(e.status,". Error: ").concat(r).concat(o),e.status,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.details)}throw new vx("Unexpected error occurred while trying to ".concat(t,". Status code: ").concat(e.status),e.status)}async deepResearch(e,t,n,r){try{const o=await this.asyncDeepResearch(e,t);if(!o.success||"error"in o)return{success:!1,error:"error"in o?o.error:"Unknown error"};if(!o.id)throw new vx("Failed to start research. No job ID returned.",500);const a=o.id;let s,i=0,l=0;for(;;){if(s=await this.checkDeepResearchStatus(a),"error"in s&&!s.success)return s;if(n&&s.activities){const e=s.activities.slice(i);for(const t of e)n(t);i=s.activities.length}if(r&&s.sources){const e=s.sources.slice(l);for(const t of e)r(t);l=s.sources.length}if("completed"===s.status)return s;if("failed"===s.status)throw new vx("Research job ".concat(s.status,". Error: ").concat(s.error),500);if("processing"!==s.status)break;await new Promise(e=>setTimeout(e,2e3))}return{success:!1,error:"Research job terminated unexpectedly"}}catch(a){var o;throw new vx(a.message,500,null===(o=a.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.details)}}async asyncDeepResearch(e,t){var n;const r=this.prepareHeaders();let o=u(u({query:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});if(null!==(n=o)&&void 0!==n&&null!==(n=n.jsonOptions)&&void 0!==n&&n.schema){let e=o.jsonOptions.schema;try{e=Rw(e)}catch(s){}o=u(u({},o),{},{jsonOptions:u(u({},o.jsonOptions),{},{schema:e})})}try{const e=await this.postRequest("".concat(this.apiUrl,"/v1/deep-research"),o,r);if(200===e.status)return e.data;this.handleError(e,"start deep research")}catch(s){var a;throw null!==(a=s.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.error?new vx("Request failed with status code ".concat(s.response.status,". Error: ").concat(s.response.data.error," ").concat(s.response.data.details?" - ".concat(JSON.stringify(s.response.data.details)):""),s.response.status):new vx(s.message,500)}return{success:!1,error:"Internal server error."}}async checkDeepResearchStatus(e){const t=this.prepareHeaders();try{const n=await this.getRequest("".concat(this.apiUrl,"/v1/deep-research/").concat(e),t);if(200===n.status)return n.data;if(404===n.status)throw new vx("Deep research job not found",404);this.handleError(n,"check deep research status")}catch(r){var n;throw null!==(n=r.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.error?new vx("Request failed with status code ".concat(r.response.status,". Error: ").concat(r.response.data.error," ").concat(r.response.data.details?" - ".concat(JSON.stringify(r.response.data.details)):""),r.response.status):new vx(r.message,500)}return{success:!1,error:"Internal server error."}}async __deepResearch(e,t,n){try{const r=await this.__asyncDeepResearch(e,t);if(!r.success||"error"in r)return{success:!1,error:"error"in r?r.error:"Unknown error"};if(!r.id)throw new vx("Failed to start research. No job ID returned.",500);const o=r.id;let a,s=0;for(;;){if(a=await this.__checkDeepResearchStatus(o),"error"in a&&!a.success)return a;if(n&&a.activities){const e=a.activities.slice(s);for(const t of e)n(t);s=a.activities.length}if("completed"===a.status)return a;if("failed"===a.status)throw new vx("Research job ".concat(a.status,". Error: ").concat(a.error),500);if("processing"!==a.status)break;await new Promise(e=>setTimeout(e,2e3))}return{success:!1,error:"Research job terminated unexpectedly"}}catch(o){var r;throw new vx(o.message,500,null===(r=o.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.details)}}async __asyncDeepResearch(e,t){const n=this.prepareHeaders();try{let r=u(u({topic:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});const o=await this.postRequest("".concat(this.apiUrl,"/v1/deep-research"),r,n);if(200===o.status)return o.data;this.handleError(o,"start deep research")}catch(o){var r;throw null!==(r=o.response)&&void 0!==r&&null!==(r=r.data)&&void 0!==r&&r.error?new vx("Request failed with status code ".concat(o.response.status,". Error: ").concat(o.response.data.error," ").concat(o.response.data.details?" - ".concat(JSON.stringify(o.response.data.details)):""),o.response.status):new vx(o.message,500)}return{success:!1,error:"Internal server error."}}async __checkDeepResearchStatus(e){const t=this.prepareHeaders();try{const n=await this.getRequest("".concat(this.apiUrl,"/v1/deep-research/").concat(e),t);if(200===n.status)return n.data;if(404===n.status)throw new vx("Deep research job not found",404);this.handleError(n,"check deep research status")}catch(r){var n;throw null!==(n=r.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.error?new vx("Request failed with status code ".concat(r.response.status,". Error: ").concat(r.response.data.error," ").concat(r.response.data.details?" - ".concat(JSON.stringify(r.response.data.details)):""),r.response.status):new vx(r.message,500)}return{success:!1,error:"Internal server error."}}async generateLLMsText(e,t){try{const n=await this.asyncGenerateLLMsText(e,t);if(!n.success||"error"in n)return{success:!1,error:"error"in n?n.error:"Unknown error"};if(!n.id)throw new vx("Failed to start LLMs.txt generation. No job ID returned.",500);const r=n.id;let o;for(;;){if(o=await this.checkGenerateLLMsTextStatus(r),"error"in o&&!o.success)return o;if("completed"===o.status)return o;if("failed"===o.status)throw new vx("LLMs.txt generation job ".concat(o.status,". Error: ").concat(o.error),500);if("processing"!==o.status)break;await new Promise(e=>setTimeout(e,2e3))}return{success:!1,error:"LLMs.txt generation job terminated unexpectedly"}}catch(r){var n;throw new vx(r.message,500,null===(n=r.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.details)}}async asyncGenerateLLMsText(e,t){const n=this.prepareHeaders();let r=u(u({url:e},t),{},{origin:"string"===typeof t.origin&&t.origin.includes("mcp")?t.origin:"js-sdk@".concat(this.version)});try{const e=await this.postRequest("".concat(this.apiUrl,"/v1/llmstxt"),r,n);if(200===e.status)return e.data;this.handleError(e,"start LLMs.txt generation")}catch(a){var o;throw null!==(o=a.response)&&void 0!==o&&null!==(o=o.data)&&void 0!==o&&o.error?new vx("Request failed with status code ".concat(a.response.status,". Error: ").concat(a.response.data.error," ").concat(a.response.data.details?" - ".concat(JSON.stringify(a.response.data.details)):""),a.response.status):new vx(a.message,500)}return{success:!1,error:"Internal server error."}}async checkGenerateLLMsTextStatus(e){const t=this.prepareHeaders();try{const n=await this.getRequest("".concat(this.apiUrl,"/v1/llmstxt/").concat(e),t);if(200===n.status)return n.data;if(404===n.status)throw new vx("LLMs.txt generation job not found",404);this.handleError(n,"check LLMs.txt generation status")}catch(r){var n;throw null!==(n=r.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.error?new vx("Request failed with status code ".concat(r.response.status,". Error: ").concat(r.response.data.error," ").concat(r.response.data.details?" - ".concat(JSON.stringify(r.response.data.details)):""),r.response.status):new vx(r.message,500)}return{success:!1,error:"Internal server error."}}async getQueueStatus(){const e=this.prepareHeaders();try{const t=await this.getRequest("".concat(this.apiUrl,"/v1/team/queue-status"),e);if(200===t.status)return t.data;this.handleError(t,"get queue status")}catch(n){var t;throw null!==(t=n.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.error?new vx("Request failed with status code ".concat(n.response.status,". Error: ").concat(n.response.data.error," ").concat(n.response.data.details?" - ".concat(JSON.stringify(n.response.data.details)):""),n.response.status):new vx(n.message,500)}return{success:!1,error:"Internal server error."}}async getCreditUsage(){const e=this.prepareHeaders();try{const t=await this.getRequest("".concat(this.apiUrl,"/v1/team/credit-usage"),e);if(200===t.status)return t.data;this.handleError(t,"get credit usage")}catch(n){var t;throw null!==(t=n.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.error?new vx("Request failed with status code ".concat(n.response.status,". Error: ").concat(n.response.data.error," ").concat(n.response.data.details?" - ".concat(JSON.stringify(n.response.data.details)):""),n.response.status):new vx(n.message,500)}return{success:!1,error:"Internal server error."}}async getTokenUsage(){const e=this.prepareHeaders();try{const t=await this.getRequest("".concat(this.apiUrl,"/v1/team/token-usage"),e);if(200===t.status)return t.data;this.handleError(t,"get token usage")}catch(n){var t;throw null!==(t=n.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.error?new vx("Request failed with status code ".concat(n.response.status,". Error: ").concat(n.response.data.error," ").concat(n.response.data.details?" - ".concat(JSON.stringify(n.response.data.details)):""),n.response.status):new vx(n.message,500)}return{success:!1,error:"Internal server error."}}async getCreditUsageHistorical(e){const t=this.prepareHeaders();try{const n="".concat(this.apiUrl,"/v1/team/credit-usage/historical").concat(e?"?byApiKey=true":""),r=await this.getRequest(n,t);if(200===r.status)return r.data;this.handleError(r,"get credit usage historical")}catch(r){var n;throw null!==(n=r.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.error?new vx("Request failed with status code ".concat(r.response.status,". Error: ").concat(r.response.data.error," ").concat(r.response.data.details?" - ".concat(JSON.stringify(r.response.data.details)):""),r.response.status):new vx(r.message,500)}return{success:!1,error:"Internal server error."}}async getTokenUsageHistorical(e){const t=this.prepareHeaders();try{const n="".concat(this.apiUrl,"/v1/team/token-usage/historical").concat(e?"?byApiKey=true":""),r=await this.getRequest(n,t);if(200===r.status)return r.data;this.handleError(r,"get token usage historical")}catch(r){var n;throw null!==(n=r.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.error?new vx("Request failed with status code ".concat(r.response.status,". Error: ").concat(r.response.data.error," ").concat(r.response.data.details?" - ".concat(JSON.stringify(r.response.data.details)):""),r.response.status):new vx(r.message,500)}return{success:!1,error:"Internal server error."}}},bx=class extends gx{constructor(e,t){super(),l(this,"ws",void 0),l(this,"data",void 0),l(this,"status",void 0),l(this,"id",void 0),this.id=e;const n=t.apiUrl.replace(/^http/,"ws");this.ws=new WebSocket("".concat(n,"/v1/crawl/").concat(e),t.apiKey),this.status="scraping",this.data=[];const r=e=>{if("done"===e.type)this.status="completed",this.dispatchTypedEvent("done",new CustomEvent("done",{detail:{status:this.status,data:this.data,id:this.id}}));else if("error"===e.type)this.status="failed",this.dispatchTypedEvent("error",new CustomEvent("error",{detail:{status:this.status,data:this.data,error:e.error,id:this.id}}));else if("catchup"===e.type){var t;this.status=e.data.status,this.data.push(...null!==(t=e.data.data)&&void 0!==t?t:[]);for(const e of this.data)this.dispatchTypedEvent("document",new CustomEvent("document",{detail:u(u({},e),{},{id:this.id})}))}else"document"===e.type&&this.dispatchTypedEvent("document",new CustomEvent("document",{detail:u(u({},e.data),{},{id:this.id})}))};this.ws.onmessage=(e=>{if("string"===typeof e.data)try{const t=JSON.parse(e.data);r(t)}catch(t){console.error("Error on message",t)}else this.ws.close()}).bind(this),this.ws.onclose=(e=>{try{const t=JSON.parse(e.reason);r(t)}catch(t){console.error("Error on close",t)}}).bind(this),this.ws.onerror=(e=>{this.status="failed",this.dispatchTypedEvent("error",new CustomEvent("error",{detail:{status:this.status,data:this.data,error:"WebSocket error",id:this.id}}))}).bind(this)}close(){this.ws.close()}},wx=class extends mx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),l(this,"_v1",void 0),l(this,"_v1Opts",void 0),this._v1Opts={apiKey:e.apiKey,apiUrl:e.apiUrl}}get v1(){return this._v1||(this._v1=new yx(this._v1Opts)),this._v1}};const xx=()=>localStorage.getItem("firecrawl_api_key")||"fc-1523f5a5f130498ca9fbe1d136681671",_x=(e,t,n)=>{if(!e||"string"!==typeof e)return e;return e.replace(/\{\{([^}]+)\}\}/g,(e,r)=>{const o=r.trim();if(!o.includes(".")){let r=o;n&&n.has(o)&&(r=n.get(o));const a=t.get(r);return a?a.output?String(a.output):"":(console.warn("Node ".concat(o," (").concat(r,") not found for variable ").concat(e)),e)}{const[r,s]=o.split(".",2);let i=r;n&&n.has(r)&&(i=n.get(r));const l=t.get(i);if(!l)return console.warn("Node ".concat(r," (").concat(i,") not found for variable ").concat(e)),e;switch(s){case"output":return l.output?String(l.output):"";case"data":return l.data?String(l.data):"";case"error":return l.error?String(l.error):"";case"status":return l.status?String(l.status):"";default:try{const e=kx(l,s);return e?String(e):""}catch(a){return console.warn("Property ".concat(s," not found in node ").concat(r)),e}}}})},kx=(e,t)=>t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:void 0,e),Sx="agent-workflow-builder-workflows",Ex=e=>{try{return localStorage.setItem(Sx,JSON.stringify(e)),!0}catch(t){return console.error("Failed to save workflows to localStorage:",t),alert("Failed to save workflows. Your browser's storage might be full or disabled."),!1}},Nx=()=>{try{const e=localStorage.getItem(Sx);if(e){return JSON.parse(e).map(e=>u(u({},e),{},{createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}))}}catch(e){console.error("Failed to load workflows from localStorage:",e),alert("Failed to load saved workflows. Some data might be corrupted.")}return[]},Cx=El((e,t)=>({workflows:Nx(),currentWorkflow:null,selectedNodeId:null,isExecuting:!1,executionResults:{},createWorkflow:n=>{const r=(e=>({id:Rl(),name:e,nodes:[],edges:[],createdAt:new Date,updatedAt:new Date}))(n),o=[...t().workflows,r];e({workflows:o,currentWorkflow:r}),Ex(o)},loadWorkflow:n=>{const r=t().workflows.find(e=>e.id===n);r&&e({currentWorkflow:r})},saveWorkflow:()=>{const{currentWorkflow:n}=t();if(n){const r=u(u({},n),{},{updatedAt:new Date}),o=t().workflows.map(e=>e.id===r.id?r:e);e({workflows:o,currentWorkflow:r});Ex(o)&&console.log('Workflow "'.concat(n.name,'" saved successfully'))}},updateWorkflow:(n,r)=>{var o;const a=t().workflows.map(e=>e.id===n?u(u(u({},e),r),{},{updatedAt:new Date}):e);e({workflows:a,currentWorkflow:(null===(o=t().currentWorkflow)||void 0===o?void 0:o.id)===n?u(u(u({},t().currentWorkflow),r),{},{updatedAt:new Date}):t().currentWorkflow}),Ex(a)},deleteWorkflow:n=>{var r;const o=t().workflows.filter(e=>e.id!==n),a=(null===(r=t().currentWorkflow)||void 0===r?void 0:r.id)===n?null:t().currentWorkflow;e({workflows:o,currentWorkflow:a}),Ex(o)},clearAllWorkflows:()=>{e({workflows:[],currentWorkflow:null}),(()=>{try{return localStorage.removeItem(Sx),!0}catch(e){return console.error("Failed to clear workflows from localStorage:",e),!1}})()},addNode:(n,r)=>{const{currentWorkflow:o}=t();if(!o)return;const a={id:Rl(),type:n,position:r,data:{id:Rl(),type:n,label:"".concat(n," Node"),status:"idle",config:{},inputs:[],outputs:[]}};e(e=>({currentWorkflow:e.currentWorkflow?u(u({},e.currentWorkflow),{},{nodes:[...e.currentWorkflow.nodes,a],updatedAt:new Date}):null}))},updateNode:(t,n)=>{e(e=>({currentWorkflow:e.currentWorkflow?u(u({},e.currentWorkflow),{},{nodes:e.currentWorkflow.nodes.map(e=>e.id===t?u(u({},e),{},{data:u(u({},e.data),n)}):e),updatedAt:new Date}):null}))},deleteNode:t=>{e(e=>({currentWorkflow:e.currentWorkflow?u(u({},e.currentWorkflow),{},{nodes:e.currentWorkflow.nodes.filter(e=>e.id!==t),edges:e.currentWorkflow.edges.filter(e=>e.source!==t&&e.target!==t),updatedAt:new Date}):null}))},selectNode:t=>{e({selectedNodeId:t})},addEdge:(n,r,o,a)=>{const{currentWorkflow:s}=t();if(!s)return;const i={id:Rl(),source:n,target:r,sourceHandle:o,targetHandle:a};e(e=>({currentWorkflow:e.currentWorkflow?u(u({},e.currentWorkflow),{},{edges:[...e.currentWorkflow.edges,i],updatedAt:new Date}):null}))},deleteEdge:t=>{e(e=>({currentWorkflow:e.currentWorkflow?u(u({},e.currentWorkflow),{},{edges:e.currentWorkflow.edges.filter(e=>e.id!==t),updatedAt:new Date}):null}))},executeWorkflow:async n=>{const{currentWorkflow:r}=t();if(!r)return;e({isExecuting:!0,executionResults:{}});const o=new Map,a=new Map;r.nodes.forEach(e=>{const t=e.data.label.toLowerCase().replace(/\s+/g,"-");a.set(t,e.id),"dataInput"===e.data.type?(a.set("input-1",e.id),a.set("data-input",e.id)):"webScraping"===e.data.type?(a.set("scraper-1",e.id),a.set("web-scraper",e.id)):"llmTask"===e.data.type?(a.set("llm-1",e.id),a.set("llm-task",e.id)):"dataOutput"===e.data.type&&(a.set("output-1",e.id),a.set("data-output",e.id))});try{const e=r.nodes.find(e=>"dataInput"===e.data.type);if(!e)return void console.error("No data input node found in workflow");t().updateNodeStatus(e.id,"running"),await new Promise(e=>setTimeout(e,500));const s=n||e.data.config.defaultValue||"",i={output:s};t().updateNodeStatus(e.id,"success",i),o.set(e.id,{nodeId:e.id,output:s,data:i,status:"success"});const l=r.nodes.filter(t=>t.id!==e.id);for(const n of l){let e;switch(t().updateNodeStatus(n.id,"running"),await new Promise(e=>setTimeout(e,500)),n.data.type){case"llmTask":e=await Ox(n,o,a);break;case"dataOutput":e=await Ax(n,o,a);break;case"webScraping":e=await jx(n,o,a);break;case"embeddingGenerator":e=await Px(n,o,a);break;case"similaritySearch":e=await Rx(n,o,a);break;case"structuredOutput":e=await Tx(n,o,a);break;default:e={output:"Processed by ".concat(n.data.type," node")}}t().updateNodeStatus(n.id,"success",e),o.set(n.id,{nodeId:n.id,output:e.output,data:e,status:"success"})}}catch(s){console.error("Workflow execution failed:",s)}finally{e({isExecuting:!1})}},updateNodeStatus:(n,r,o,a)=>{e(e=>({executionResults:u(u({},e.executionResults),{},{[n]:{status:r,data:o,error:a,timestamp:new Date}})})),t().updateNode(n,u(u({status:r},o&&{outputs:[o]}),a&&{error:a}))},clearExecutionResults:()=>{e({executionResults:{},isExecuting:!1})}})),Ox=async(e,t,n)=>{const r=e.data.config,o=r.prompt||"Process the following input: {{input}}",a=r.model||"gpt-3.5-turbo",s=r.temperature||.7,i=r.maxTokens||1e3,l=_x(o,t,n);try{const e={model:a,temperature:s,maxTokens:i},t=await(async(e,t)=>{try{var n,r;const o=$m();if(!o||"your_openai_api_key_here"===o||"your_deepseek_api_key_here"===o)throw new Error("DeepSeek API key not configured. Please configure your API key in the settings.");Ym.apiKey=o;const a=await Ym.chat.completions.create({model:t.model,messages:[{role:"user",content:e}],temperature:t.temperature,max_tokens:t.maxTokens||1e3}),s=(null===(n=a.choices[0])||void 0===n||null===(r=n.message)||void 0===r?void 0:r.content)||"",i=a.usage;return{content:s,usage:i?{promptTokens:i.prompt_tokens,completionTokens:i.completion_tokens,totalTokens:i.total_tokens}:void 0}}catch(o){return console.error("OpenAI API Error:",o),{content:"Error calling DeepSeek API: ".concat(o instanceof Error?o.message:"Unknown error",". Please check your API key and try again.")}}})(l,e);return{output:t.content,prompt:l,model:a,temperature:s,maxTokens:i,usage:t.usage}}catch(c){console.error("Error processing LLM node:",c);return{output:"Error calling OpenAI API: ".concat(c instanceof Error?c.message:"Unknown error",". Please check your API key and try again."),prompt:l,model:a,temperature:s,maxTokens:i,error:c instanceof Error?c.message:"Unknown error"}}},Ax=async(e,t,n)=>{var r;const o=e.data.config,a=o.format||"text",s=o.filename||"output.txt",i=(null===(r=Array.from(t.values()).pop())||void 0===r?void 0:r.output)||"";let l;switch(a){case"json":l=JSON.stringify({data:i,timestamp:(new Date).toISOString()},null,2);break;case"csv":l='data\n"'.concat(i,'"');break;default:l=i}return{output:l,format:a,filename:s}},jx=async(e,t,n)=>{var r;const o=e.data.config,a=o.url||"",s=_x(a,t,n)||(null===(r=Array.from(t.values()).pop())||void 0===r?void 0:r.output)||"",i=new Set(["markdown","html","rawHtml","summary","links","images","screenshot","json"]),l=Array.isArray(o.formats)?o.formats:["markdown","html"],c=Array.from(new Set([...l.map(e=>"text"===e?"markdown":e).filter(e=>i.has(e)),"markdown"])),d={url:s,formats:c.length>0?c:["markdown"],onlyMainContent:!1!==o.onlyMainContent,maxLength:o.maxLength||5e3,waitFor:o.waitFor||2e3,timeout:o.timeout||3e4};o.includeTags&&(d.includeTags=o.includeTags.split(",").map(e=>e.trim()).filter(e=>e.length>0)),o.excludeTags&&(d.excludeTags=o.excludeTags.split(",").map(e=>e.trim()).filter(e=>e.length>0));try{const e=await(async e=>{try{const o=xx();if(!o||"your_firecrawl_api_key_here"===o)throw new Error("Firecrawl API key not configured. Please configure your API key in the settings.");const a=new wx({apiKey:o}),s=(e.url||"").trim();if(!/^https?:\/\//i.test(s))throw new Error('Invalid URL provided to Firecrawl: "'.concat(e.url,'". URL must start with http:// or https://'));const i=u(u({formats:e.formats&&e.formats.length>0?e.formats:["markdown"],onlyMainContent:!1!==e.onlyMainContent},void 0!==e.timeout?{timeout:e.timeout}:{}),e.location?{location:e.location}:{});console.log("Firecrawl API Call - URL:",e.url),console.log("Firecrawl API Call - Options:",i);try{const e=await a.scrape(s,i);if(console.log("Firecrawl API Response:",e),!e)throw new Error("No data returned from Firecrawl API");return{success:!0,data:{markdown:e.markdown,html:e.html,rawHtml:e.rawHtml,summary:e.summary,links:e.links,images:e.images,screenshot:e.screenshot,json:e.json,actions:e.actions}}}catch(r){var t,n;const e=r,o=(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status),i=(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||(null===e||void 0===e?void 0:e.data)||(null===e||void 0===e?void 0:e.message);if(console.error("Firecrawl API Call Error:",{status:o,body:i}),400===o){const e={formats:["markdown"],onlyMainContent:!0};console.warn("Retrying Firecrawl.scrape with minimal options:",e);const t=await a.scrape(s,e);if(!t)throw new Error("No data returned from Firecrawl API (after retry)");return{success:!0,data:{markdown:t.markdown,html:t.html,rawHtml:t.rawHtml,summary:t.summary,links:t.links,images:t.images,screenshot:t.screenshot,json:t.json,actions:t.actions}}}throw new Error("Firecrawl request failed".concat(o?" (status ".concat(o,")"):"",": ").concat("string"===typeof i?i:JSON.stringify(i)))}}catch(o){return console.error("Firecrawl API Error:",o),console.error("Error details:",{message:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0,name:o instanceof Error?o.name:void 0}),{success:!1,error:o instanceof Error?o.message:"Unknown error occurred"}}})(d);if(e.success&&e.data){const t=["markdown","html","rawHtml","summary"];let n="";for(const o of t){const t=e.data[o];if("string"===typeof t&&t.trim().length>0){n=t;break}}if(!n&&e.data.json)try{n=JSON.stringify(e.data.json)}catch(f){n=String(e.data.json)}const r="number"===typeof o.maxLength?o.maxLength:0;return r>0&&"string"===typeof n&&n.length>r&&(n=n.slice(0,r)),{output:n||e.data.markdown||e.data.html||"",url:s,metadata:e.data.metadata,markdown:e.data.markdown,html:e.data.html,formats:d.formats,onlyMainContent:d.onlyMainContent}}throw new Error(e.error||"Failed to scrape URL with Firecrawl")}catch(h){console.error("Error processing web scraping node:",h);return{output:"Error scraping ".concat(s,": ").concat(h instanceof Error?h.message:"Unknown error",". Please check your Firecrawl API key and try again."),url:s,error:h instanceof Error?h.message:"Unknown error"}}},Px=async(e,t,n)=>{var r;const o=e.data.config,a=o.model||"text-embedding-ada-002",s=o.dimensions||1536,i=(null===(r=Array.from(t.values()).pop())||void 0===r?void 0:r.output)||"";return{output:Array.from({length:s},()=>Math.random()),model:a,dimensions:s,inputData:i}},Rx=async(e,t,n)=>{var r;const o=e.data.config,a=o.vectorStore||"pinecone",s=o.topK||5,i=o.threshold||.8,l=(null===(r=Array.from(t.values()).pop())||void 0===r?void 0:r.output)||"",c=Array.from({length:s},(e,t)=>({id:"result_".concat(t+1),content:"Similar content ".concat(t+1," for: ").concat(l),similarity:i+Math.random()*(1-i)}));return{output:c,vectorStore:a,topK:s,threshold:i}},Tx=async(e,t,n)=>{var r;const o=e.data.config,a=o.schema||'{"type": "object"}',s=o.model||"gpt-3.5-turbo",i=(null===(r=Array.from(t.values()).pop())||void 0===r?void 0:r.output)||"";return{output:{input:i,structured:{text:i,length:i.length,timestamp:(new Date).toISOString()},schema:JSON.parse(a)},model:s,schema:a}};var Ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mx=["color","size","strokeWidth","absoluteStrokeWidth","children"],Lx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Dx=(e,t)=>{const n=(0,o.forwardRef)((n,r)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:c}=n,f=d(n,Mx);return(0,o.createElement)("svg",u(u({ref:r},Ix),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(i)/Number(s):i,className:"lucide lucide-".concat(Lx(e))},f),[...t.map(e=>{let[t,n]=e;return(0,o.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]])});return n.displayName="".concat(e),n};const zx=Dx("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Fx=Dx("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Ux=Dx("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Bx=Dx("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Wx=Dx("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),Hx=Dx("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qx=Dx("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Vx=Dx("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);var Zx=n(579);const Kx=[{id:1,title:"Welcome to AI Workflow Builder",description:"Create powerful AI automation workflows with our intuitive visual builder.",icon:zx,content:(0,Zx.jsxs)("div",{className:"text-center",children:[(0,Zx.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Zx.jsx)(zx,{className:"w-8 h-8 text-white"})}),(0,Zx.jsx)("p",{className:"text-gray-600",children:"Connect AI models, web scraping, and data processing in minutes. No coding required!"})]})},{id:2,title:"Drag & Drop Nodes",description:"Build workflows by dragging nodes from the library to the canvas.",icon:Fx,content:(0,Zx.jsxs)("div",{className:"space-y-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[(0,Zx.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Zx.jsx)(Ux,{className:"w-4 h-4 text-white"})}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("p",{className:"font-medium text-sm",children:"Data Input"}),(0,Zx.jsx)("p",{className:"text-xs text-gray-600",children:"Start your workflow"})]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[(0,Zx.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Zx.jsx)(Fx,{className:"w-4 h-4 text-white"})}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("p",{className:"font-medium text-sm",children:"Web Scraping"}),(0,Zx.jsx)("p",{className:"text-xs text-gray-600",children:"Extract web content"})]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg",children:[(0,Zx.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,Zx.jsx)(Bx,{className:"w-4 h-4 text-white"})}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("p",{className:"font-medium text-sm",children:"AI Task"}),(0,Zx.jsx)("p",{className:"text-xs text-gray-600",children:"Process with AI"})]})]})]})},{id:3,title:"Connect & Configure",description:"Connect nodes together and configure their settings for your needs.",icon:Bx,content:(0,Zx.jsxs)("div",{className:"space-y-4",children:[(0,Zx.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Zx.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Connection Tips:"}),(0,Zx.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,Zx.jsx)("li",{children:"\u2022 Drag from output handle to input handle"}),(0,Zx.jsx)("li",{children:"\u2022 Click nodes to configure settings"}),(0,Zx.jsxs)("li",{children:["\u2022 Use variables like ","{{input.output}}"," to pass data"]})]})]}),(0,Zx.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Zx.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Configuration:"}),(0,Zx.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,Zx.jsx)("li",{children:"\u2022 Set prompts for AI tasks"}),(0,Zx.jsx)("li",{children:"\u2022 Configure URLs for web scraping"}),(0,Zx.jsx)("li",{children:"\u2022 Choose output formats"})]})]})]})},{id:4,title:"Execute & Monitor",description:"Run your workflows and monitor execution in real-time.",icon:Wx,content:(0,Zx.jsxs)("div",{className:"space-y-4",children:[(0,Zx.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4",children:[(0,Zx.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Execution Features:"}),(0,Zx.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,Zx.jsx)("li",{children:"\u2022 Real-time progress tracking"}),(0,Zx.jsx)("li",{children:"\u2022 Step-by-step execution logs"}),(0,Zx.jsx)("li",{children:"\u2022 Error handling and debugging"}),(0,Zx.jsx)("li",{children:"\u2022 Export results as JSON"})]})]}),(0,Zx.jsx)("div",{className:"text-center",children:(0,Zx.jsx)("p",{className:"text-sm text-gray-600",children:"Ready to build your first AI workflow?"})})]})}],Xx=e=>{let{isOpen:t,onClose:n}=e;const[r,a]=(0,o.useState)(0);if(!t)return null;const s=Kx[r],i=0===r,l=r===Kx.length-1;return(0,Zx.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Zx.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[(0,Zx.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Zx.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center",children:(0,Zx.jsx)(s.icon,{className:"w-5 h-5 text-white"})}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:s.title}),(0,Zx.jsx)("p",{className:"text-sm text-gray-600",children:s.description})]})]}),(0,Zx.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Zx.jsx)(Hx,{className:"w-5 h-5"})})]}),(0,Zx.jsx)("div",{className:"flex items-center space-x-2",children:Kx.map((e,t)=>(0,Zx.jsx)("div",{className:"h-2 flex-1 rounded-full transition-all duration-300 ".concat(t<=r?"bg-gradient-to-r from-blue-500 to-indigo-500":"bg-gray-200")},t))}),(0,Zx.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,Zx.jsxs)("span",{children:["Step ",r+1," of ",Kx.length]}),(0,Zx.jsxs)("span",{children:[Math.round((r+1)/Kx.length*100),"% complete"]})]})]}),(0,Zx.jsx)("div",{className:"p-6 flex-1 overflow-y-auto",children:s.content}),(0,Zx.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:(0,Zx.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Zx.jsx)("button",{onClick:()=>{n()},className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Skip tutorial"}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[!i&&(0,Zx.jsxs)("button",{onClick:()=>{i||a(r-1)},className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,Zx.jsx)(qx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Previous"})]}),(0,Zx.jsxs)("button",{onClick:()=>{l?n():a(r+1)},className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Zx.jsx)("span",{children:l?"Get Started":"Next"}),l?(0,Zx.jsx)(Vx,{className:"w-4 h-4"}):(0,Zx.jsx)(Ux,{className:"w-4 h-4"})]})]})]})})]})})},$x=Dx("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Yx=Dx("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Jx=Dx("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Qx=Dx("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Gx=Dx("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),e_=Dx("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),t_=Dx("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),n_=Dx("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),r_=e=>{let{onOpenWorkflow:t,onCreateWorkflow:n}=e;const{workflows:r,deleteWorkflow:a,updateWorkflow:s}=Cx(),[i,l]=(0,o.useState)(""),[c,u]=(0,o.useState)(!1),[d,f]=(0,o.useState)(null),[h,p]=(0,o.useState)(""),[m,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{localStorage.getItem("hasSeenOnboarding")||0!==r.length||g(!0)},[r.length]);const v=()=>{i.trim()&&(n(i.trim()),l(""),u(!1))},y=()=>{d&&h.trim()&&(s(d,{name:h.trim()}),f(null),p(""))},b=()=>{f(null),p("")};return(0,Zx.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Zx.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Zx.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-indigo-600/10"}),(0,Zx.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-16",children:(0,Zx.jsxs)("div",{className:"text-center",children:[(0,Zx.jsx)("div",{className:"flex items-center justify-center mb-4 md:mb-6",children:(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 bg-white/80 backdrop-blur-sm rounded-full px-3 md:px-4 py-2 shadow-lg",children:[(0,Zx.jsx)($x,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-600"}),(0,Zx.jsx)("span",{className:"text-xs md:text-sm font-medium text-gray-700",children:"AI-Powered Workflows"})]})}),(0,Zx.jsxs)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-indigo-900 bg-clip-text text-transparent mb-4 md:mb-6",children:["Build AI Workflows",(0,Zx.jsx)("br",{}),(0,Zx.jsx)("span",{className:"text-blue-600",children:"Visually"})]}),(0,Zx.jsx)("p",{className:"text-base md:text-xl text-gray-600 mb-6 md:mb-8 max-w-3xl mx-auto leading-relaxed px-4",children:"Create powerful AI automation workflows with our intuitive visual builder. Connect AI models, web scraping, and data processing in minutes."}),(0,Zx.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center px-4",children:[(0,Zx.jsxs)("button",{onClick:()=>u(!0),className:"group flex items-center justify-center space-x-2 px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,Zx.jsx)(Yx,{className:"w-4 h-4 md:w-5 md:h-5"}),(0,Zx.jsx)("span",{className:"font-semibold text-sm md:text-base",children:"Create Workflow"}),(0,Zx.jsx)(Ux,{className:"w-3 h-3 md:w-4 md:h-4 group-hover:translate-x-1 transition-transform"})]}),(0,Zx.jsxs)("button",{className:"flex items-center justify-center space-x-2 px-6 md:px-8 py-3 md:py-4 bg-white/80 backdrop-blur-sm text-gray-700 rounded-xl hover:bg-white transition-all duration-300 shadow-lg hover:shadow-xl",children:[(0,Zx.jsx)(Jx,{className:"w-4 h-4 md:w-5 md:h-5"}),(0,Zx.jsx)("span",{className:"font-semibold text-sm md:text-base",children:"View Demo"})]})]})]})})]}),(0,Zx.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Zx.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Workflows"}),(0,Zx.jsxs)("p",{className:"text-gray-600",children:[r.length," workflow",1!==r.length?"s":""," ","created"]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Zx.jsxs)("button",{onClick:()=>{g(!0)},className:"flex items-center space-x-2 px-4 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-all duration-200",title:"Show tutorial",children:[(0,Zx.jsx)(Qx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"font-medium hidden sm:inline",children:"Help"})]}),(0,Zx.jsxs)("button",{onClick:()=>u(!0),className:"group flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-200 shadow-sm hover:shadow-md border border-gray-200",children:[(0,Zx.jsx)(Yx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"font-medium",children:"New Workflow"})]})]})]}),c&&(0,Zx.jsxs)("div",{className:"mb-8 p-6 bg-white rounded-2xl shadow-lg border border-gray-100",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Zx.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center",children:(0,Zx.jsx)(Yx,{className:"w-5 h-5 text-white"})}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Workflow"}),(0,Zx.jsx)("p",{className:"text-sm text-gray-600",children:"Give your workflow a descriptive name"})]})]}),(0,Zx.jsxs)("div",{className:"flex space-x-3",children:[(0,Zx.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"e.g., Content Analysis Pipeline",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",onKeyPress:e=>"Enter"===e.key&&v(),autoFocus:!0}),(0,Zx.jsx)("button",{onClick:v,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-medium",children:"Create"}),(0,Zx.jsx)("button",{onClick:()=>u(!1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 font-medium",children:"Cancel"})]})]}),0===r.length?(0,Zx.jsxs)("div",{className:"text-center py-16",children:[(0,Zx.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Zx.jsx)(Gx,{className:"w-12 h-12 text-blue-600"})}),(0,Zx.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No workflows yet"}),(0,Zx.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Create your first AI workflow to automate tasks and connect different services"}),(0,Zx.jsxs)("button",{onClick:()=>u(!0),className:"group flex items-center justify-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl mx-auto",children:[(0,Zx.jsx)(Yx,{className:"w-5 h-5"}),(0,Zx.jsx)("span",{className:"font-semibold",children:"Create Your First Workflow"}),(0,Zx.jsx)(Ux,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}):(0,Zx.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:r.map(e=>(0,Zx.jsxs)("div",{className:"group bg-white rounded-2xl border border-gray-100 p-6 hover:shadow-xl hover:border-blue-200 transition-all duration-300 cursor-pointer transform hover:-translate-y-1",onClick:()=>d!==e.id&&t(e.id),children:[(0,Zx.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Zx.jsx)("div",{className:"flex-1 min-w-0",children:d===e.id?(0,Zx.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:"w-full px-2 py-1 text-lg font-semibold text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&y(),onKeyDown:e=>"Escape"===e.key&&b(),autoFocus:!0}):(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name})}),(0,Zx.jsx)("div",{className:"flex items-center space-x-1 ml-2",children:d===e.id?(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)("button",{onClick:y,className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",title:"Save changes",children:(0,Zx.jsx)(Vx,{className:"w-4 h-4"})}),(0,Zx.jsx)("button",{onClick:b,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel editing",children:(0,Zx.jsx)(Hx,{className:"w-4 h-4"})})]}):(0,Zx.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Zx.jsx)("button",{onClick:t=>{var n,r;t.stopPropagation(),n=e.id,r=e.name,f(n),p(r)},className:"p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit workflow name",children:(0,Zx.jsx)(e_,{className:"w-4 h-4"})}),(0,Zx.jsx)("button",{onClick:n=>{return r=e.id,n.stopPropagation(),void t(r);var r},className:"p-1.5 text-gray-400 hover:text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"Execute workflow",children:(0,Zx.jsx)(Jx,{className:"w-4 h-4"})}),(0,Zx.jsx)("button",{onClick:t=>{return n=e.id,t.stopPropagation(),void(window.confirm("Are you sure you want to delete this workflow?")&&a(n));var n},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete workflow",children:(0,Zx.jsx)(t_,{className:"w-4 h-4"})})]})})]}),(0,Zx.jsxs)("div",{className:"mb-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Zx.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Zx.jsxs)("span",{children:[e.nodes.length," nodes"]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Zx.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Zx.jsxs)("span",{children:[e.edges.length," connections"]})]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,Zx.jsx)(n_,{className:"w-3 h-3"}),(0,Zx.jsxs)("span",{children:["Updated ",e.updatedAt.toLocaleDateString()]})]})]}),(0,Zx.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.nodes.slice(0,3).map((e,t)=>(0,Zx.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"dataInput":return"bg-blue-100 text-blue-600";case"webScraping":return"bg-green-100 text-green-600";case"llmTask":return"bg-purple-100 text-purple-600";case"dataOutput":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}})(e.type)),children:[(e=>{switch(e){case"dataInput":case"dataOutput":return(0,Zx.jsx)(Ux,{className:"w-3 h-3"});case"webScraping":return(0,Zx.jsx)(Fx,{className:"w-3 h-3"});case"llmTask":return(0,Zx.jsx)(Bx,{className:"w-3 h-3"});default:return(0,Zx.jsx)(zx,{className:"w-3 h-3"})}})(e.type),(0,Zx.jsx)("span",{children:e.type.replace(/([A-Z])/g," $1").trim()})]},t)),e.nodes.length>3&&(0,Zx.jsx)("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:(0,Zx.jsxs)("span",{children:["+",e.nodes.length-3," more"]})})]}),(0,Zx.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,Zx.jsxs)("button",{onClick:()=>t(e.id),className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 rounded-lg hover:from-blue-100 hover:to-indigo-100 transition-all duration-200 font-medium group",children:[(0,Zx.jsx)(e_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Open Workflow"}),(0,Zx.jsx)(Ux,{className:"w-3 h-3 group-hover:translate-x-0.5 transition-transform"})]})})]},e.id))})]}),(0,Zx.jsx)(Xx,{isOpen:m,onClose:()=>{g(!1),localStorage.setItem("hasSeenOnboarding","true")}})]})},o_=["children","className"];function a_(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},o.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function s_(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},o.createElement("path",{d:"M0 0h32v4.2H0z"}))}function i_(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},o.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function l_(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function c_(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const u_=e=>{let{children:t,className:n}=e,r=d(e,o_);return o.createElement("button",u({type:"button",className:f(["react-flow__controls-button",n])},r),t)};u_.displayName="ControlButton";const d_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),f_=e=>{let{style:t,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:h,position:p="bottom-left"}=e;const m=Cr(),[g,v]=(0,o.useState)(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:w}=Nr(d_,x),{zoomIn:_,zoomOut:k,fitView:S}=Aa();if((0,o.useEffect)(()=>{v(!0)},[]),!g)return null;return o.createElement(Ar,{className:f(["react-flow__controls",d]),position:p,style:t,"data-testid":"rf__controls"},n&&o.createElement(o.Fragment,null,o.createElement(u_,{onClick:()=>{_(),null===i||void 0===i||i()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},o.createElement(a_,null)),o.createElement(u_,{onClick:()=>{k(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},o.createElement(s_,null))),r&&o.createElement(u_,{className:"react-flow__controls-fitview",onClick:()=>{S(s),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},o.createElement(i_,null)),a&&o.createElement(u_,{className:"react-flow__controls-interactive",onClick:()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),null===u||void 0===u||u(!y)},title:"toggle interactivity","aria-label":"toggle interactivity"},y?o.createElement(c_,null):o.createElement(l_,null)),h)};f_.displayName="Controls";var h_=(0,o.memo)(f_);const p_=e=>{let{id:t,x:n,y:r,width:a,height:s,style:i,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:h,shapeRendering:p,onClick:m,selected:g}=e;const{background:v,backgroundColor:y}=i||{},b=l||v||y;return o.createElement("rect",{className:f(["react-flow__minimap-node",{selected:g},d]),x:n,y:r,rx:h,ry:h,width:a,height:s,fill:b,stroke:c,strokeWidth:u,shapeRendering:p,onClick:m?e=>m(e,t):void 0})};p_.displayName="MiniMapNode";var m_=(0,o.memo)(p_);const g_=e=>e.nodeOrigin,v_=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),y_=e=>e instanceof Function?e:()=>e;var b_=(0,o.memo)(function(e){let{nodeStrokeColor:t="transparent",nodeColor:n="#e2e2e2",nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:s=2,nodeComponent:i=m_,onClick:l}=e;const c=Nr(v_,x),u=Nr(g_),d=y_(n),f=y_(t),h=y_(r),p="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return o.createElement(o.Fragment,null,c.map(e=>{const{x:t,y:n}=Oo(e,u).positionAbsolute;return o.createElement(i,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:h(e),color:d(e),borderRadius:a,strokeColor:f(e),strokeWidth:s,shapeRendering:p,onClick:l,id:e.id})}))});const w_=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=Ao(t,e.nodeOrigin),o=n,Ur(zr(Fr(r),Fr(o)))):n,rfId:e.rfId};var r,o};function x_(e){var t,n;let{style:r,className:a,nodeStrokeColor:s="transparent",nodeColor:i="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:u=2,nodeComponent:d,maskColor:h="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:m=1,position:g="bottom-right",onClick:v,onNodeClick:y,pannable:b=!1,zoomable:w=!1,ariaLabel:_="React Flow mini map",inversePan:k=!1,zoomStep:S=10,offsetScale:E=5}=e;const N=Cr(),C=(0,o.useRef)(null),{boundingRect:O,viewBB:A,rfId:j}=Nr(w_,x),P=null!==(t=null===r||void 0===r?void 0:r.width)&&void 0!==t?t:200,R=null!==(n=null===r||void 0===r?void 0:r.height)&&void 0!==n?n:150,T=O.width/P,I=O.height/R,M=Math.max(T,I),L=M*P,D=M*R,z=E*M,F=O.x-(L-O.width)/2-z,U=O.y-(D-O.height)/2-z,B=L+2*z,W=D+2*z,H="".concat("react-flow__minimap-desc","-").concat(j),q=(0,o.useRef)(0);q.current=M,(0,o.useEffect)(()=>{if(C.current){const e=Be(C.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=N.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*S,a=t[2]*Math.pow(2,o);r.scaleTo(n,a)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:o,width:a,height:s}=N.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const i=q.current*Math.max(1,t[2])*(k?-1:1),l={x:t[0]-e.sourceEvent.movementX*i,y:t[1]-e.sourceEvent.movementY*i},c=[[0,0],[a,s]],u=Xn.translate(l.x,l.y).scale(t[2]),d=r.constrain()(u,c,o);r.transform(n,d)},r=rr().on("zoom",b?n:null).on("zoom.wheel",w?t:null);return e.call(r),()=>{e.on("zoom",null)}}},[b,w,k,S]);const V=v?e=>{const t=Ye(e);v(e,{x:t[0],y:t[1]})}:void 0,Z=y?(e,t)=>{const n=N.getState().nodeInternals.get(t);y(e,n)}:void 0;return o.createElement(Ar,{position:g,style:r,className:f(["react-flow__minimap",a]),"data-testid":"rf__minimap"},o.createElement("svg",{width:P,height:R,viewBox:"".concat(F," ").concat(U," ").concat(B," ").concat(W),role:"img","aria-labelledby":H,ref:C,onClick:V},_&&o.createElement("title",{id:H},_),o.createElement(b_,{onClick:Z,nodeColor:i,nodeStrokeColor:s,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:d}),o.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(F-z,",").concat(U-z,"h").concat(B+2*z,"v").concat(W+2*z,"h").concat(-B-2*z,"z\n        M").concat(A.x,",").concat(A.y,"h").concat(A.width,"v").concat(A.height,"h").concat(-A.width,"z"),fill:h,fillRule:"evenodd",stroke:p,strokeWidth:m,pointerEvents:"none"})))}x_.displayName="MiniMap";var __,k_=(0,o.memo)(x_);function S_(e){let{color:t,dimensions:n,lineWidth:r}=e;return o.createElement("path",{stroke:t,strokeWidth:r,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function E_(e){let{color:t,radius:n}=e;return o.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(__||(__={}));const N_={[__.Dots]:"#91919a",[__.Lines]:"#eee",[__.Cross]:"#e2e2e2"},C_={[__.Dots]:1,[__.Lines]:1,[__.Cross]:6},O_=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function A_(e){let{id:t,variant:n=__.Dots,gap:r=20,size:a,lineWidth:s=1,offset:i=2,color:l,style:c,className:d}=e;const h=(0,o.useRef)(null),{transform:p,patternId:m}=Nr(O_,x),g=l||N_[n],v=a||C_[n],y=n===__.Dots,b=n===__.Cross,w=Array.isArray(r)?r:[r,r],_=[w[0]*p[2]||1,w[1]*p[2]||1],k=v*p[2],S=b?[k,k]:_,E=y?[k/i,k/i]:[S[0]/i,S[1]/i];return o.createElement("svg",{className:f(["react-flow__background",d]),style:u(u({},c),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:h,"data-testid":"rf__background"},o.createElement("pattern",{id:m+t,x:p[0]%_[0],y:p[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(E[0],",-").concat(E[1],")")},y?o.createElement(E_,{color:g,radius:k/i}):o.createElement(S_,{dimensions:S,color:g,lineWidth:s})),o.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(m+t,")")}))}A_.displayName="Background";var j_=(0,o.memo)(A_);const P_=Dx("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),R_={webScraping:{title:"Web Scraping Configuration (Firecrawl AI)",fields:[{key:"url",label:"URL",type:"text",placeholder:"https://example.com"},{key:"formats",label:"Output Formats",type:"select",options:["markdown","html","text","summary","links","images"],multiple:!0},{key:"onlyMainContent",label:"Only Main Content",type:"checkbox",defaultValue:!0},{key:"includeTags",label:"Include Tags (comma-separated)",type:"text",placeholder:"article, main, .content"},{key:"excludeTags",label:"Exclude Tags (comma-separated)",type:"text",placeholder:"nav, footer, .ads"},{key:"maxLength",label:"Max Length",type:"number",placeholder:"5000"},{key:"waitFor",label:"Wait For (ms)",type:"number",placeholder:"2000"},{key:"timeout",label:"Timeout (ms)",type:"number",placeholder:"30000"}]},llmTask:{title:"LLM Task Configuration",fields:[{key:"prompt",label:"Prompt",type:"textarea",placeholder:"Enter your prompt..."},{key:"model",label:"Model",type:"select",options:["deepseek-chat","deepseek-reasoner"]},{key:"temperature",label:"Temperature",type:"number",min:0,max:2,step:.1},{key:"maxTokens",label:"Max Tokens",type:"number",placeholder:"1000"}]},embeddingGenerator:{title:"Embedding Generator Configuration",fields:[{key:"model",label:"Model",type:"select",options:["text-embedding-ada-002","text-embedding-3-small"]},{key:"dimensions",label:"Dimensions",type:"number",placeholder:"1536"}]},similaritySearch:{title:"Similarity Search Configuration",fields:[{key:"vectorStore",label:"Vector Store",type:"select",options:["pinecone","weaviate","chroma"]},{key:"topK",label:"Top K Results",type:"number",placeholder:"5"},{key:"threshold",label:"Similarity Threshold",type:"number",min:0,max:1,step:.1}]},structuredOutput:{title:"Structured Output Configuration",fields:[{key:"schema",label:"JSON Schema",type:"textarea",placeholder:'{"type": "object", "properties": {...}}'},{key:"model",label:"Model",type:"select",options:["deepseek-chat","deepseek-reasoner"]}]},dataInput:{title:"Data Input Configuration",fields:[{key:"dataType",label:"Data Type",type:"select",options:["text","json","csv","url"]},{key:"defaultValue",label:"Default Value",type:"textarea",placeholder:"Enter default data..."}]},dataOutput:{title:"Data Output Configuration",fields:[{key:"format",label:"Output Format",type:"select",options:["json","text","csv"]},{key:"filename",label:"Filename",type:"text",placeholder:"output.json"}]}},T_=e=>{let{nodeId:t,data:n,onClose:r}=e;const{updateNode:o,currentWorkflow:a}=Cx(),s=R_[n.type],i=null===a||void 0===a?void 0:a.nodes.find(e=>e.id===t),l=(null===i||void 0===i?void 0:i.data)||n,c=(e,n)=>{o(t,{config:u(u({},l.config),{},{[e]:n})})},d=e=>{const t=l.config[e.key]||e.defaultValue||"";switch(e.type){case"textarea":return(0,Zx.jsx)("textarea",{value:t,onChange:t=>c(e.key,t.target.value),placeholder:e.placeholder,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3});case"select":return e.multiple?(0,Zx.jsx)("div",{className:"space-y-2",children:e.options.map(n=>(0,Zx.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)("input",{type:"checkbox",checked:!!Array.isArray(t)&&t.includes(n),onChange:r=>{const o=Array.isArray(t)?t:[];r.target.checked?c(e.key,[...o,n]):c(e.key,o.filter(e=>e!==n))},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Zx.jsx)("span",{className:"text-sm text-gray-700",children:n})]},n))}):(0,Zx.jsxs)("select",{value:t,onChange:t=>c(e.key,t.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Zx.jsxs)("option",{value:"",children:["Select ",e.label]}),e.options.map(e=>(0,Zx.jsx)("option",{value:e,children:e},e))]});case"checkbox":return(0,Zx.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)("input",{type:"checkbox",checked:t,onChange:t=>c(e.key,t.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Zx.jsxs)("span",{className:"text-sm text-gray-700",children:["Enable ",e.label]})]});case"number":return(0,Zx.jsx)("input",{type:"number",value:t,onChange:t=>c(e.key,parseFloat(t.target.value)||0),placeholder:e.placeholder,min:e.min,max:e.max,step:e.step,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"});default:return(0,Zx.jsx)("input",{type:"text",value:t,onChange:t=>c(e.key,t.target.value),placeholder:e.placeholder,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}};return(0,Zx.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Zx.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)(P_,{className:"w-5 h-5 text-gray-600"}),(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),(0,Zx.jsx)("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:(0,Zx.jsx)(Hx,{className:"w-5 h-5 text-gray-500"})})]}),(0,Zx.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[60vh]",children:[(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Node Label"}),(0,Zx.jsx)("input",{type:"text",value:l.label,onChange:e=>{return n=e.target.value,void o(t,{label:n});var n},className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.fields.map(e=>(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.label}),d(e)]},e.key))]}),(0,Zx.jsx)("div",{className:"flex justify-end space-x-2 p-4 border-t border-gray-200",children:(0,Zx.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Close"})})]})})},I_=Dx("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),M_=Dx("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),L_=Dx("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),D_=Dx("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),z_=Dx("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),F_=(e,t)=>{const n=(e=>{const t=u(u({},e),{},{exportedAt:(new Date).toISOString(),version:"1.0.0"});return JSON.stringify(t,null,2)})(e),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=t||"".concat(e.name.replace(/\s+/g,"_"),".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},U_=e=>new Promise(t=>{const n=new FileReader;n.onload=e=>{var n;const r=(e=>{try{const t=JSON.parse(e);if(!t.id||!t.name||!Array.isArray(t.nodes)||!Array.isArray(t.edges))throw new Error("Invalid workflow format");return u(u({},t),{},{createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}catch(t){return console.error("Failed to import workflow:",t),null}})(null===(n=e.target)||void 0===n?void 0:n.result);t(r)},n.onerror=()=>{console.error("Failed to read file"),t(null)},n.readAsText(e)}),B_=Dx("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),W_=Dx("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),H_=Dx("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),q_=e=>{let{onClose:t}=e;const[n,r]=(0,o.useState)(""),[a,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)("idle"),[d,f]=(0,o.useState)("");return(0,Zx.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Zx.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)(B_,{className:"w-5 h-5 text-gray-600"}),(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"API Configuration"})]}),(0,Zx.jsx)("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:"\xd7"})]}),(0,Zx.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Zx.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[(0,Zx.jsx)("p",{className:"text-sm text-blue-800",children:"Configure your API keys to enable full functionality. You need at least one API key:"}),(0,Zx.jsxs)("ul",{className:"text-xs text-blue-700 mt-2 space-y-1",children:[(0,Zx.jsxs)("li",{children:["\u2022 ",(0,Zx.jsx)("strong",{children:"AI API Key:"})," For LLM tasks and structured output"]}),(0,Zx.jsxs)("li",{children:["\u2022 ",(0,Zx.jsx)("strong",{children:"Firecrawl API Key:"})," For web scraping functionality"]})]})]}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI API Key (DeepSeek or OpenAI)"}),(0,Zx.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"sk-... (DeepSeek or OpenAI key)",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,Zx.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Get your key from"," ",(0,Zx.jsx)("a",{href:"https://platform.deepseek.com/api_keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:"DeepSeek"})," ","or"," ",(0,Zx.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:"OpenAI"})]})]}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Firecrawl API Key (for Web Scraping)"}),(0,Zx.jsx)("input",{type:"password",value:a,onChange:e=>s(e.target.value),placeholder:"fc-... (Firecrawl API key)",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,Zx.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Get your key from"," ",(0,Zx.jsx)("a",{href:"https://firecrawl.dev",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:"Firecrawl"})]})]}),"error"===c&&(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,Zx.jsx)(W_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"text-sm",children:d})]}),"success"===c&&(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,Zx.jsx)(H_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"text-sm",children:"API key is valid!"})]}),(0,Zx.jsxs)("div",{className:"flex space-x-2",children:[(0,Zx.jsx)("button",{onClick:async()=>{if(!n.trim()&&!a.trim())return f("Please enter at least one API key to test"),void u("error");l(!0),u("idle");try{let t=!1,r=!1;if(n.trim()){let e=await fetch("https://api.deepseek.com/v1/models",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});e.ok||(e=await fetch("https://api.openai.com/v1/models",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}})),t=e.ok}if(a.trim())try{r=(await fetch("https://api.firecrawl.dev/v0/scrape",{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({url:"https://example.com",formats:["markdown"]})})).ok}catch(e){r=!1}t||r?(u("success"),f("")):(f("One or more API keys are invalid or have insufficient permissions"),u("error"))}catch(e){f("Failed to test API keys. Please check your internet connection."),u("error")}finally{l(!1)}},disabled:i||!n.trim(),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Testing...":"Test Key"}),(0,Zx.jsx)("button",{onClick:async()=>{if(!n.trim()&&!a.trim())return f("Please enter at least one API key"),void u("error");l(!0),u("idle");try{let e=!1;if(n.trim()){if(!(n.startsWith("sk-")&&n.length>20))return f("Invalid AI API key format. API keys should start with 'sk-'"),u("error"),void l(!1);localStorage.setItem("deepseek_api_key",n),localStorage.setItem("openai_api_key",n),e=!0}if(a.trim()){if(!(a.startsWith("fc-")&&a.length>20))return f("Invalid Firecrawl API key format. API keys should start with 'fc-'"),u("error"),void l(!1);localStorage.setItem("firecrawl_api_key",a),e=!0}e&&(u("success"),setTimeout(()=>{t(),window.location.reload()},1500))}catch(e){f("Failed to validate API keys"),u("error")}finally{l(!1)}},disabled:i||!n.trim(),className:"flex-1 px-3 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Saving...":"Save & Use"})]}),(0,Zx.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,Zx.jsx)("p",{children:"\u2022 Your API key is stored locally in your browser"}),(0,Zx.jsx)("p",{children:"\u2022 It's used to make requests to DeepSeek or OpenAI APIs"}),(0,Zx.jsx)("p",{children:"\u2022 You can change it anytime by reopening this dialog"})]})]})]})})},V_=()=>{const{currentWorkflow:e,saveWorkflow:t,executeWorkflow:n,isExecuting:r,clearExecutionResults:a}=Cx(),s=(0,o.useRef)(null),[i,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1);return e?(0,Zx.jsxs)("div",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Zx.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:e.name}),(0,Zx.jsxs)("span",{className:"text-sm text-gray-500",children:[e.nodes.length," nodes, ",e.edges.length," ","connections"]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsxs)("button",{onClick:()=>{e&&(t(),u(!0),setTimeout(()=>u(!1),2e3))},className:"flex items-center space-x-2 px-3 py-2 rounded-md transition-colors ".concat(c?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),title:"Save workflow",children:[c?(0,Zx.jsx)(Vx,{className:"w-4 h-4"}):(0,Zx.jsx)(I_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:c?"Saved!":"Save"})]}),(0,Zx.jsxs)("button",{onClick:()=>{e&&F_(e)},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",title:"Export workflow",children:[(0,Zx.jsx)(M_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Export"})]}),(0,Zx.jsxs)("button",{onClick:()=>{var e;null===(e=s.current)||void 0===e||e.click()},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",title:"Import workflow",children:[(0,Zx.jsx)(L_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Import"})]}),(0,Zx.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",title:"Configure OpenAI API",children:[(0,Zx.jsx)(P_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"AI Config"})]}),(0,Zx.jsx)("div",{className:"w-px h-6 bg-gray-300"}),(0,Zx.jsx)("button",{onClick:async()=>{e&&await n()},disabled:r,className:"flex items-center space-x-2 px-3 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:r?"Stop execution":"Execute workflow",children:r?(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(D_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Stop"})]}):(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(Jx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Execute"})]})}),(0,Zx.jsxs)("button",{onClick:()=>{a()},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",title:"Clear execution results",children:[(0,Zx.jsx)(z_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Clear"})]})]}),(0,Zx.jsx)("input",{ref:s,type:"file",accept:".json",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=await U_(n);e?(console.log("Imported workflow:",e),alert("Workflow imported successfully!")):alert("Failed to import workflow. Please check the file format.")}},className:"hidden"}),i&&(0,Zx.jsx)(q_,{onClose:()=>l(!1)})]}):null},Z_=Dx("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),K_=Dx("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),X_=Dx("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]),$_=Dx("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Y_=Dx("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function J_(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=J_(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Q_(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=J_(e))&&(r&&(r+=" "),r+=t);return r}const G_=["data","selected"],ek={webScraping:Fx,structuredOutput:Z_,embeddingGenerator:Bx,similaritySearch:K_,llmTask:Bx,dataInput:X_,dataOutput:Wx},tk={webScraping:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",accent:"bg-green-500"},structuredOutput:{bg:"bg-pink-50",border:"border-pink-200",icon:"text-pink-600",accent:"bg-pink-500"},embeddingGenerator:{bg:"bg-indigo-50",border:"border-indigo-200",icon:"text-indigo-600",accent:"bg-indigo-500"},similaritySearch:{bg:"bg-orange-50",border:"border-orange-200",icon:"text-orange-600",accent:"bg-orange-500"},llmTask:{bg:"bg-purple-50",border:"border-purple-200",icon:"text-purple-600",accent:"bg-purple-500"},dataInput:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",accent:"bg-blue-500"},dataOutput:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",accent:"bg-blue-500"}},nk={idle:{icon:null,color:"text-gray-400",bg:"bg-gray-100",pulse:!1},running:{icon:$_,color:"text-blue-500",bg:"bg-blue-100",pulse:!0},success:{icon:H_,color:"text-green-500",bg:"bg-green-100",pulse:!1},error:{icon:Y_,color:"text-red-500",bg:"bg-red-100",pulse:!1}},rk=e=>{let{data:t,selected:n}=e;d(e,G_);const r=ek[t.type],o=tk[t.type],a=nk[t.status],s=a.icon;return(0,Zx.jsxs)("div",{className:Q_("group min-w-[240px] bg-white rounded-2xl border-2 shadow-lg transition-all duration-300 transform hover:scale-105",o.bg,o.border,n&&"ring-2 ring-blue-500 ring-opacity-50 shadow-xl","running"===t.status&&a.pulse&&"animate-pulse"),children:[(0,Zx.jsx)(Vo,{type:"target",position:so.Top,className:"w-4 h-4 border-2 border-white bg-gray-400 hover:bg-gray-500 transition-colors",style:{top:-8}}),(0,Zx.jsxs)("div",{className:"p-4 pb-3",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Zx.jsx)("div",{className:Q_("w-10 h-10 rounded-xl flex items-center justify-center shadow-sm",o.bg,"border border-white/50"),children:(0,Zx.jsx)(r,{className:Q_("w-5 h-5",o.icon)})}),(0,Zx.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Zx.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:t.label}),(0,Zx.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:t.type.replace(/([A-Z])/g," $1").trim()})]})]}),(0,Zx.jsx)("div",{className:"flex items-center space-x-2",children:s&&(0,Zx.jsx)("div",{className:Q_("w-6 h-6 rounded-full flex items-center justify-center",a.bg),children:(0,Zx.jsx)(s,{className:Q_("w-3 h-3",a.color,"running"===t.status&&"animate-spin")})})})]}),t.config&&Object.keys(t.config).length>0&&(0,Zx.jsx)("div",{className:"mb-3",children:(0,Zx.jsxs)("div",{className:"flex flex-wrap gap-1",children:[Object.entries(t.config).slice(0,2).map(e=>{let[t,n]=e;return(0,Zx.jsxs)("span",{className:"px-2 py-1 bg-white/60 rounded-md text-xs text-gray-600 font-medium",children:[t,": ",String(n).slice(0,10),"..."]},t)}),Object.keys(t.config).length>2&&(0,Zx.jsxs)("span",{className:"px-2 py-1 bg-white/60 rounded-md text-xs text-gray-500",children:["+",Object.keys(t.config).length-2," more"]})]})}),t.error&&(0,Zx.jsxs)("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)(W_,{className:"w-4 h-4 text-red-500"}),(0,Zx.jsx)("span",{className:"text-xs text-red-700 font-medium",children:"Error"})]}),(0,Zx.jsx)("p",{className:"text-xs text-red-600 mt-1 truncate",children:t.error})]}),"success"===t.status&&t.outputs.length>0&&(0,Zx.jsxs)("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)(H_,{className:"w-4 h-4 text-green-500"}),(0,Zx.jsx)("span",{className:"text-xs text-green-700 font-medium",children:"Success"})]}),(0,Zx.jsx)("p",{className:"text-xs text-green-600 mt-1 truncate",children:"Output ready"})]})]}),(0,Zx.jsx)("div",{className:Q_("h-1 rounded-b-2xl",o.accent,"running"===t.status&&"animate-pulse")}),(0,Zx.jsx)(Vo,{type:"source",position:so.Bottom,className:"w-4 h-4 border-2 border-white bg-gray-400 hover:bg-gray-500 transition-colors",style:{bottom:-8}})]})},ok=Dx("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ak=Dx("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),sk=Dx("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ik={webScraping:e=>(0,Zx.jsx)(rk,u({},e)),llmTask:e=>(0,Zx.jsx)(rk,u({},e)),embeddingGenerator:e=>(0,Zx.jsx)(rk,u({},e)),similaritySearch:e=>(0,Zx.jsx)(rk,u({},e)),structuredOutput:e=>(0,Zx.jsx)(rk,u({},e)),dataInput:e=>(0,Zx.jsx)(rk,u({},e)),dataOutput:e=>(0,Zx.jsx)(rk,u({},e))},lk=e=>{let{onClose:t}=e;const{currentWorkflow:n,addNode:r,addEdge:a,deleteNode:s,deleteEdge:i,selectNode:l,selectedNodeId:c}=Cx(),[u,d,f]=ri([]),[h,p,m]=oi([]);(0,o.useEffect)(()=>{n&&(d(n.nodes),p(n.edges))},[n,d,p]);const[g,v]=(0,o.useState)(!1),[y,b]=(0,o.useState)(!0),[w,x]=(0,o.useState)(""),[_,k]=(0,o.useState)("All"),[S,E]=(0,o.useState)("grid"),N=(0,o.useRef)(null),[C,O]=(0,o.useState)(null),A=(0,o.useCallback)(e=>{if(e.source&&e.target){a(e.source,e.target,e.sourceHandle||void 0,e.targetHandle||void 0);const t={id:"edge-".concat(Date.now()),source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle};p(e=>[...e,t])}},[a,p]),j=(0,o.useCallback)((e,t)=>{l(t.id),v(!0)},[l]),P=(0,o.useCallback)(()=>{l(null),v(!1)},[l]),R=(0,o.useCallback)(()=>{c&&(s(c),v(!1),l(null))},[c,s,l]),T=(0,o.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),I=(0,o.useCallback)(e=>{var t;e.preventDefault();const n=null===(t=N.current)||void 0===t?void 0:t.getBoundingClientRect(),o=e.dataTransfer.getData("application/reactflow");if("undefined"===typeof o||!o||!C||!n)return;const a=C.project({x:e.clientX-n.left,y:e.clientY-n.top});r(o,a);const s={id:"node-".concat(Date.now()),type:o,position:a,data:{id:"node-".concat(Date.now()),type:o,label:"".concat(o," Node"),status:"idle",config:{},inputs:[],outputs:[]}};d(e=>[...e,s])},[C,r,d]),M=(0,o.useCallback)(e=>{e.forEach(e=>s(e.id)),d(t=>t.filter(t=>!e.some(e=>e.id===t.id)))},[s,d]),L=(0,o.useCallback)(e=>{e.forEach(e=>i(e.id)),p(t=>t.filter(t=>!e.some(e=>e.id===t.id)))},[i,p]),D=[{type:"dataInput",label:"Data Input",icon:Ux,description:"Start your workflow with data",color:"blue",category:"Input"},{type:"webScraping",label:"Web Scraping",icon:Fx,description:"Extract content from websites",color:"green",category:"Data"},{type:"llmTask",label:"AI Task",icon:Bx,description:"Process with AI models",color:"purple",category:"AI"},{type:"embeddingGenerator",label:"Embedding",icon:ok,description:"Generate vector embeddings",color:"indigo",category:"AI"},{type:"similaritySearch",label:"Similarity Search",icon:K_,description:"Find similar content",color:"orange",category:"AI"},{type:"structuredOutput",label:"Structured Output",icon:Z_,description:"Format data with schemas",color:"pink",category:"Output"},{type:"dataOutput",label:"Data Output",icon:Ux,description:"Export your results",color:"blue",category:"Output"}],z=[{name:"All",count:D.length},{name:"Input",count:D.filter(e=>"Input"===e.category).length},{name:"AI",count:D.filter(e=>"AI"===e.category).length},{name:"Data",count:D.filter(e=>"Data"===e.category).length},{name:"Output",count:D.filter(e=>"Output"===e.category).length}],F=(0,o.useCallback)(e=>{O(e)},[]),U=null===n||void 0===n?void 0:n.nodes.find(e=>e.id===c),B=D.filter(e=>{const t=e.label.toLowerCase().includes(w.toLowerCase())||e.description.toLowerCase().includes(w.toLowerCase()),n="All"===_||e.category===_;return t&&n}),W=e=>({blue:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",green:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",purple:"bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100",indigo:"bg-indigo-50 border-indigo-200 text-indigo-700 hover:bg-indigo-100",orange:"bg-orange-50 border-orange-200 text-orange-700 hover:bg-orange-100",pink:"bg-pink-50 border-pink-200 text-pink-700 hover:bg-pink-100"}[e]||"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100");return(0,Zx.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[(0,Zx.jsxs)("div",{className:"w-72 md:w-80 bg-white border-r border-gray-200 transition-transform duration-300 flex flex-col ".concat(y?"translate-x-0":"-translate-x-full"),children:[(0,Zx.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Node Library"}),(0,Zx.jsx)("button",{onClick:()=>b(!1),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Zx.jsx)(Hx,{className:"w-4 h-4"})})]}),(0,Zx.jsxs)("div",{className:"relative mb-4",children:[(0,Zx.jsx)(K_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Zx.jsx)("input",{type:"text",placeholder:"Search nodes...",value:w,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),(0,Zx.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:z.map(e=>(0,Zx.jsxs)("button",{onClick:()=>k(e.name),className:"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ".concat(_===e.name?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e.name," (",e.count,")"]},e.name))}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,Zx.jsx)("button",{onClick:()=>E("grid"),className:"p-1.5 rounded-md transition-colors ".concat("grid"===S?"bg-white text-gray-900 shadow-sm":"text-gray-500"),children:(0,Zx.jsx)(ak,{className:"w-4 h-4"})}),(0,Zx.jsx)("button",{onClick:()=>E("list"),className:"p-1.5 rounded-md transition-colors ".concat("list"===S?"bg-white text-gray-900 shadow-sm":"text-gray-500"),children:(0,Zx.jsx)(sk,{className:"w-4 h-4"})})]})]}),(0,Zx.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,Zx.jsx)("div",{className:"space-y-2 ".concat("grid"===S?"grid grid-cols-1 gap-3":""),children:B.map(e=>{const t=e.icon;return(0,Zx.jsxs)("div",{className:"group flex items-center space-x-3 p-3 rounded-xl border cursor-move transition-all duration-200 hover:shadow-md transform hover:-translate-y-0.5 ".concat(W(e.color)),draggable:!0,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"})(t,e.type),children:[(0,Zx.jsx)("div",{className:"flex-shrink-0",children:(0,Zx.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/80 flex items-center justify-center",children:(0,Zx.jsx)(t,{className:"w-4 h-4"})})}),(0,Zx.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)("span",{className:"text-sm font-medium truncate",children:e.label}),(0,Zx.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-white/60 rounded-full",children:e.category})]}),(0,Zx.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.description})]})]},e.type)})})})]}),(0,Zx.jsxs)("div",{className:"flex-1 flex flex-col bg-white",children:[(0,Zx.jsx)(V_,{}),(0,Zx.jsxs)("div",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Zx.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center space-x-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,Zx.jsx)(ak,{className:"w-4 h-4"}),(0,Zx.jsxs)("span",{className:"font-medium",children:[y?"Hide":"Show"," Library"]})]}),c&&(0,Zx.jsxs)("button",{onClick:R,className:"flex items-center space-x-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",title:"Delete selected node",children:[(0,Zx.jsx)(t_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"font-medium",children:"Delete Node"})]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Zx.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Zx.jsxs)("span",{children:[u.length," nodes"]}),(0,Zx.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Zx.jsxs)("span",{children:[h.length," connections"]})]}),(0,Zx.jsx)("div",{className:"w-px h-6 bg-gray-200"}),(0,Zx.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,Zx.jsx)(Hx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"font-medium",children:"Close"})]})]})]}),(0,Zx.jsx)("div",{className:"flex-1 relative",ref:N,children:(0,Zx.jsxs)(ti,{nodes:u,edges:h,onNodesChange:f,onEdgesChange:m,onConnect:A,onNodeClick:j,onPaneClick:P,onDrop:I,onDragOver:T,onNodesDelete:M,onEdgesDelete:L,onInit:F,nodeTypes:ik,fitView:!0,attributionPosition:"bottom-left",className:"bg-gradient-to-br from-gray-50 to-blue-50/30",children:[(0,Zx.jsx)(h_,{className:"!bg-white !border !border-gray-200 !rounded-lg !shadow-lg",position:"top-right"}),(0,Zx.jsx)(k_,{className:"!bg-white !border !border-gray-200 !rounded-lg !shadow-lg",position:"bottom-right",nodeColor:e=>{switch(e.type){case"dataInput":return"#3b82f6";case"webScraping":return"#10b981";case"llmTask":return"#8b5cf6";case"dataOutput":return"#f59e0b";default:return"#6b7280"}}}),(0,Zx.jsx)(j_,{variant:__.Dots,gap:20,size:1.5,color:"#e5e7eb"})]})})]}),g&&U&&(0,Zx.jsx)(T_,{nodeId:U.id,data:U.data,onClose:()=>v(!1)},U.id)]})},ck=Dx("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),uk=Dx("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dk=Dx("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fk=Dx("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),hk=Dx("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pk=Dx("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),mk=()=>{const{currentWorkflow:e,isExecuting:t,executionResults:n,executeWorkflow:r,clearExecutionResults:a}=Cx(),[s,i]=o.useState(new Set),[l,c]=o.useState(!0),u=e=>{switch(e){case"running":return(0,Zx.jsx)(ck,{className:"w-4 h-4 text-blue-500 animate-pulse"});case"success":return(0,Zx.jsx)(H_,{className:"w-4 h-4 text-green-500"});case"error":return(0,Zx.jsx)(Y_,{className:"w-4 h-4 text-red-500"});default:return(0,Zx.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-300"})}},d=e=>{switch(e){case"running":return"bg-blue-50 border-blue-200 shadow-blue-100";case"success":return"bg-green-50 border-green-200 shadow-green-100";case"error":return"bg-red-50 border-red-200 shadow-red-100";default:return"bg-gray-50 border-gray-200 shadow-gray-100"}},f=e=>{switch(e){case"dataInput":case"dataOutput":return(0,Zx.jsx)(Ux,{className:"w-4 h-4"});case"webScraping":return(0,Zx.jsx)(Fx,{className:"w-4 h-4"});case"llmTask":return(0,Zx.jsx)(Bx,{className:"w-4 h-4"});default:return(0,Zx.jsx)(zx,{className:"w-4 h-4"})}};if(!e)return null;const h=Object.values(n).filter(e=>"success"===e.status).length,p=e.nodes.length,m=p>0?h/p*100:0;return(0,Zx.jsxs)("div",{className:"w-80 md:w-96 bg-white border-l border-gray-200 flex flex-col shadow-lg",children:[(0,Zx.jsxs)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Zx.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center",children:(0,Zx.jsx)(zx,{className:"w-5 h-5 text-white"})}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Execution"}),(0,Zx.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor workflow progress"})]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)("button",{onClick:()=>c(!l),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:l?"Hide outputs":"Show outputs",children:l?(0,Zx.jsx)(uk,{className:"w-4 h-4"}):(0,Zx.jsx)(dk,{className:"w-4 h-4"})}),(0,Zx.jsx)("button",{onClick:()=>{const e=JSON.stringify(n,null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download="workflow_execution_".concat(Date.now(),".json"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Download results",children:(0,Zx.jsx)(M_,{className:"w-4 h-4"})})]})]}),(0,Zx.jsxs)("div",{className:"mb-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,Zx.jsx)("span",{children:"Progress"}),(0,Zx.jsxs)("span",{children:[h,"/",p," nodes"]})]}),(0,Zx.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Zx.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(m,"%")}})})]}),(0,Zx.jsxs)("div",{className:"flex space-x-3",children:[(0,Zx.jsx)("button",{onClick:async()=>{e&&await r()},disabled:t,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:t?(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(D_,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"font-medium",children:"Stop"})]}):(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(Jx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{className:"font-medium",children:"Execute"})]})}),(0,Zx.jsx)("button",{onClick:a,className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200",title:"Clear results",children:(0,Zx.jsx)(z_,{className:"w-4 h-4"})})]})]}),(0,Zx.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Zx.jsxs)("div",{className:"p-4",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Zx.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Node Status"}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,Zx.jsx)(fk,{className:"w-3 h-3"}),(0,Zx.jsx)("span",{children:"Real-time"})]})]}),(0,Zx.jsx)("div",{className:"space-y-3",children:e.nodes.map((e,t)=>{const r=(e=>{var t;return(null===(t=n[e])||void 0===t?void 0:t.status)||"idle"})(e.id),o=n[e.id],a=s.has(e.id),c=(null===o||void 0===o?void 0:o.data)&&l;return(0,Zx.jsxs)("div",{className:"group relative p-4 rounded-xl border transition-all duration-200 hover:shadow-md ".concat(d(r)),children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zx.jsx)("div",{className:"w-6 h-6 rounded-lg bg-white/80 flex items-center justify-center",children:(0,Zx.jsx)("span",{className:"text-xs font-bold text-gray-600",children:t+1})}),f(e.data.type)]}),(0,Zx.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Zx.jsx)("h5",{className:"text-sm font-semibold text-gray-900 truncate",children:e.data.label}),(0,Zx.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:e.data.type.replace(/([A-Z])/g," $1").trim()})]})]}),(0,Zx.jsxs)("div",{className:"flex items-center space-x-2",children:[u(r),c&&(0,Zx.jsx)("button",{onClick:()=>(e=>{const t=new Set(s);t.has(e)?t.delete(e):t.add(e),i(t)})(e.id),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-white/60 rounded transition-colors",children:a?(0,Zx.jsx)(uk,{className:"w-3 h-3"}):(0,Zx.jsx)(dk,{className:"w-3 h-3"})})]})]}),(0,Zx.jsx)("div",{className:"mt-3 flex items-center justify-between text-xs",children:(0,Zx.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Zx.jsx)("span",{className:"px-2 py-1 rounded-full font-medium ".concat("success"===r?"bg-green-100 text-green-700":"running"===r?"bg-blue-100 text-blue-700":"error"===r?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:r}),(null===o||void 0===o?void 0:o.executionTime)&&(0,Zx.jsxs)("span",{className:"text-gray-500",children:[(0,Zx.jsx)(n_,{className:"w-3 h-3 inline mr-1"}),o.executionTime,"ms"]})]})}),(null===o||void 0===o?void 0:o.error)&&(0,Zx.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Zx.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Zx.jsx)(hk,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,Zx.jsxs)("div",{className:"flex-1",children:[(0,Zx.jsx)("p",{className:"text-xs font-medium text-red-700",children:"Error"}),(0,Zx.jsx)("p",{className:"text-xs text-red-600 mt-1",children:o.error})]})]})}),c&&a&&(0,Zx.jsxs)("div",{className:"mt-3 p-3 bg-white/60 rounded-lg border border-white/80",children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Zx.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Output"}),(0,Zx.jsx)("button",{onClick:()=>{return e=JSON.stringify(o.data,null,2),void navigator.clipboard.writeText(e);var e},className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy output",children:(0,Zx.jsx)(pk,{className:"w-3 h-3"})})]}),(0,Zx.jsx)("pre",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded overflow-x-auto max-h-32",children:JSON.stringify(o.data,null,2)})]})]},e.id)})})]})})]})},gk=()=>{const{currentWorkflow:e,executeWorkflow:t,isExecuting:n,executionResults:r}=Cx(),[a,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(null),c=[{name:"Simple Text",data:"Hello, this is a test input for the workflow."},{name:"JSON Data",data:JSON.stringify({message:"Test data",timestamp:(new Date).toISOString()},null,2)},{name:"URL",data:"https://example.com"},{name:"CSV Data",data:"name,age,city\nJohn,30,New York\nJane,25,San Francisco"}];return e?(0,Zx.jsxs)("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[(0,Zx.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Zx.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Testing Panel"}),(0,Zx.jsxs)("div",{className:"space-y-4",children:[(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Input"}),(0,Zx.jsx)("textarea",{value:a,onChange:e=>s(e.target.value),placeholder:"Enter test data or use sample inputs below...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:4})]}),(0,Zx.jsxs)("div",{children:[(0,Zx.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Inputs"}),(0,Zx.jsx)("div",{className:"space-y-2",children:c.map((e,t)=>(0,Zx.jsx)("button",{onClick:()=>(e=>{s(e.data)})(e),className:"w-full text-left p-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:e.name},t))})]}),(0,Zx.jsxs)("div",{className:"flex space-x-2",children:[(0,Zx.jsxs)("button",{onClick:async()=>{if(!e)return;l(null),await t(a);const n=e.nodes.map(e=>{var t,n,o;return{nodeId:e.id,nodeLabel:e.data.label,status:(null===(t=r[e.id])||void 0===t?void 0:t.status)||"idle",data:null===(n=r[e.id])||void 0===n?void 0:n.data,error:null===(o=r[e.id])||void 0===o?void 0:o.error}});l(n)},disabled:n,className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,Zx.jsx)(Jx,{className:"w-4 h-4"}),(0,Zx.jsx)("span",{children:"Run Test"})]}),(0,Zx.jsx)("button",{onClick:()=>{l(null),s("")},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",title:"Clear results",children:(0,Zx.jsx)(z_,{className:"w-4 h-4"})})]})]})]}),(0,Zx.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:i?(0,Zx.jsxs)("div",{children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Zx.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Test Results"}),(0,Zx.jsxs)("button",{onClick:()=>{if(!i)return;const e=JSON.stringify(i,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="workflow_test_results_".concat(Date.now(),".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},className:"flex items-center space-x-1 px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:[(0,Zx.jsx)(M_,{className:"w-3 h-3"}),(0,Zx.jsx)("span",{children:"Export"})]})]}),(0,Zx.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>(0,Zx.jsxs)("div",{className:"p-3 rounded-lg border ".concat("success"===e.status?"bg-green-50 border-green-200":"error"===e.status?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"),children:[(0,Zx.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Zx.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.nodeLabel}),(0,Zx.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("success"===e.status?"bg-green-100 text-green-800":"error"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status})]}),e.error&&(0,Zx.jsx)("div",{className:"text-xs text-red-600 mb-2 p-2 bg-red-100 rounded",children:e.error}),e.data&&(0,Zx.jsxs)("details",{className:"text-xs",children:[(0,Zx.jsx)("summary",{className:"cursor-pointer font-medium text-gray-700 mb-1",children:"View Output"}),(0,Zx.jsx)("pre",{className:"p-2 bg-gray-100 rounded text-xs overflow-x-auto",children:JSON.stringify(e.data,null,2)})]})]},t))})]}):(0,Zx.jsxs)("div",{className:"text-center py-8",children:[(0,Zx.jsx)(Z_,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Zx.jsx)("p",{className:"text-sm text-gray-600",children:"Run a test to see execution results"})]})})]}):null};const vk=function(){const[e,t]=(0,o.useState)("list"),[,n]=(0,o.useState)(null),{createWorkflow:r,loadWorkflow:a}=Cx();return(0,Zx.jsxs)("div",{className:"App",children:[(0,Zx.jsx)(bl,{position:"top-right"}),"list"===e?(0,Zx.jsx)(r_,{onOpenWorkflow:e=>{a(e),n(e),t("editor")},onCreateWorkflow:e=>{const o=e||"Workflow ".concat(Date.now());r(o),n(o),t("editor")}}):(0,Zx.jsx)(Ks,{children:(0,Zx.jsxs)("div",{className:"h-screen flex",children:[(0,Zx.jsx)("div",{className:"flex-1",children:(0,Zx.jsx)(lk,{onClose:()=>{t("list"),n(null)}})}),(0,Zx.jsxs)("div",{className:"flex",children:[(0,Zx.jsx)(mk,{}),(0,Zx.jsx)(gk,{})]})]})})]})};a.createRoot(document.getElementById("root")).render((0,Zx.jsx)(o.StrictMode,{children:(0,Zx.jsx)(vk,{})}))})();
//# sourceMappingURL=main.ee8320d2.js.map